(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function TA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ed={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function AA(){if(Yy)return uo;Yy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:s,key:h,ref:l!==void 0?l:null,props:u}}return uo.Fragment=t,uo.jsx=r,uo.jsxs=r,uo}var Ky;function bA(){return Ky||(Ky=1,ed.exports=AA()),ed.exports}var Et=bA(),nd={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function SA(){if($y)return kt;$y=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,Y={};function k(I,at,mt){this.props=I,this.context=at,this.refs=Y,this.updater=mt||C}k.prototype.isReactComponent={},k.prototype.setState=function(I,at){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,at,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function X(){}X.prototype=k.prototype;function J(I,at,mt){this.props=I,this.context=at,this.refs=Y,this.updater=mt||C}var st=J.prototype=new X;st.constructor=J,O(st,k.prototype),st.isPureReactComponent=!0;var Tt=Array.isArray,z={H:null,A:null,T:null,S:null},dt=Object.prototype.hasOwnProperty;function N(I,at,mt,ct,ht,It){return mt=It.ref,{$$typeof:i,type:I,key:at,ref:mt!==void 0?mt:null,props:It}}function w(I,at){return N(I.type,at,void 0,void 0,void 0,I.props)}function S(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function V(I){var at={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(mt){return at[mt]})}var L=/\/+/g;function j(I,at){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):at.toString(36)}function M(){}function be(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(M,M):(I.status="pending",I.then(function(at){I.status==="pending"&&(I.status="fulfilled",I.value=at)},function(at){I.status==="pending"&&(I.status="rejected",I.reason=at)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function qt(I,at,mt,ct,ht){var It=typeof I;(It==="undefined"||It==="boolean")&&(I=null);var zt=!1;if(I===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(I.$$typeof){case i:case t:zt=!0;break;case E:return zt=I._init,qt(zt(I._payload),at,mt,ct,ht)}}if(zt)return ht=ht(I),zt=ct===""?"."+j(I,0):ct,Tt(ht)?(mt="",zt!=null&&(mt=zt.replace(L,"$&/")+"/"),qt(ht,at,mt,"",function(Gt){return Gt})):ht!=null&&(S(ht)&&(ht=w(ht,mt+(ht.key==null||I&&I.key===ht.key?"":(""+ht.key).replace(L,"$&/")+"/")+zt)),at.push(ht)),1;zt=0;var De=ct===""?".":ct+":";if(Tt(I))for(var Wt=0;Wt<I.length;Wt++)ct=I[Wt],It=De+j(ct,Wt),zt+=qt(ct,at,mt,It,ht);else if(Wt=R(I),typeof Wt=="function")for(I=Wt.call(I),Wt=0;!(ct=I.next()).done;)ct=ct.value,It=De+j(ct,Wt++),zt+=qt(ct,at,mt,It,ht);else if(It==="object"){if(typeof I.then=="function")return qt(be(I),at,mt,ct,ht);throw at=String(I),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return zt}function ot(I,at,mt){if(I==null)return I;var ct=[],ht=0;return qt(I,ct,"","",function(It){return at.call(mt,It,ht++)}),ct}function Vt(I){if(I._status===-1){var at=I._result;at=at(),at.then(function(mt){(I._status===0||I._status===-1)&&(I._status=1,I._result=mt)},function(mt){(I._status===0||I._status===-1)&&(I._status=2,I._result=mt)}),I._status===-1&&(I._status=0,I._result=at)}if(I._status===1)return I._result.default;throw I._result}var At=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Bt(){}return kt.Children={map:ot,forEach:function(I,at,mt){ot(I,function(){at.apply(this,arguments)},mt)},count:function(I){var at=0;return ot(I,function(){at++}),at},toArray:function(I){return ot(I,function(at){return at})||[]},only:function(I){if(!S(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},kt.Component=k,kt.Fragment=r,kt.Profiler=l,kt.PureComponent=J,kt.StrictMode=s,kt.Suspense=g,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,kt.act=function(){throw Error("act(...) is not supported in production builds of React.")},kt.cache=function(I){return function(){return I.apply(null,arguments)}},kt.cloneElement=function(I,at,mt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ct=O({},I.props),ht=I.key,It=void 0;if(at!=null)for(zt in at.ref!==void 0&&(It=void 0),at.key!==void 0&&(ht=""+at.key),at)!dt.call(at,zt)||zt==="key"||zt==="__self"||zt==="__source"||zt==="ref"&&at.ref===void 0||(ct[zt]=at[zt]);var zt=arguments.length-2;if(zt===1)ct.children=mt;else if(1<zt){for(var De=Array(zt),Wt=0;Wt<zt;Wt++)De[Wt]=arguments[Wt+2];ct.children=De}return N(I.type,ht,void 0,void 0,It,ct)},kt.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},kt.createElement=function(I,at,mt){var ct,ht={},It=null;if(at!=null)for(ct in at.key!==void 0&&(It=""+at.key),at)dt.call(at,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(ht[ct]=at[ct]);var zt=arguments.length-2;if(zt===1)ht.children=mt;else if(1<zt){for(var De=Array(zt),Wt=0;Wt<zt;Wt++)De[Wt]=arguments[Wt+2];ht.children=De}if(I&&I.defaultProps)for(ct in zt=I.defaultProps,zt)ht[ct]===void 0&&(ht[ct]=zt[ct]);return N(I,It,void 0,void 0,null,ht)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(I){return{$$typeof:m,render:I}},kt.isValidElement=S,kt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:Vt}},kt.memo=function(I,at){return{$$typeof:y,type:I,compare:at===void 0?null:at}},kt.startTransition=function(I){var at=z.T,mt={};z.T=mt;try{var ct=I(),ht=z.S;ht!==null&&ht(mt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Bt,At)}catch(It){At(It)}finally{z.T=at}},kt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},kt.use=function(I){return z.H.use(I)},kt.useActionState=function(I,at,mt){return z.H.useActionState(I,at,mt)},kt.useCallback=function(I,at){return z.H.useCallback(I,at)},kt.useContext=function(I){return z.H.useContext(I)},kt.useDebugValue=function(){},kt.useDeferredValue=function(I,at){return z.H.useDeferredValue(I,at)},kt.useEffect=function(I,at){return z.H.useEffect(I,at)},kt.useId=function(){return z.H.useId()},kt.useImperativeHandle=function(I,at,mt){return z.H.useImperativeHandle(I,at,mt)},kt.useInsertionEffect=function(I,at){return z.H.useInsertionEffect(I,at)},kt.useLayoutEffect=function(I,at){return z.H.useLayoutEffect(I,at)},kt.useMemo=function(I,at){return z.H.useMemo(I,at)},kt.useOptimistic=function(I,at){return z.H.useOptimistic(I,at)},kt.useReducer=function(I,at,mt){return z.H.useReducer(I,at,mt)},kt.useRef=function(I){return z.H.useRef(I)},kt.useState=function(I){return z.H.useState(I)},kt.useSyncExternalStore=function(I,at,mt){return z.H.useSyncExternalStore(I,at,mt)},kt.useTransition=function(){return z.H.useTransition()},kt.version="19.0.0",kt}var Xy;function Kd(){return Xy||(Xy=1,nd.exports=SA()),nd.exports}var K=Kd();const wA=TA(K);var rd={exports:{}},co={},id={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function RA(){return Zy||(Zy=1,function(i){function t(ot,Vt){var At=ot.length;ot.push(Vt);t:for(;0<At;){var Bt=At-1>>>1,I=ot[Bt];if(0<l(I,Vt))ot[Bt]=Vt,ot[At]=I,At=Bt;else break t}}function r(ot){return ot.length===0?null:ot[0]}function s(ot){if(ot.length===0)return null;var Vt=ot[0],At=ot.pop();if(At!==Vt){ot[0]=At;t:for(var Bt=0,I=ot.length,at=I>>>1;Bt<at;){var mt=2*(Bt+1)-1,ct=ot[mt],ht=mt+1,It=ot[ht];if(0>l(ct,At))ht<I&&0>l(It,ct)?(ot[Bt]=It,ot[ht]=At,Bt=ht):(ot[Bt]=ct,ot[mt]=At,Bt=mt);else if(ht<I&&0>l(It,At))ot[Bt]=It,ot[ht]=At,Bt=ht;else break t}}return Vt}function l(ot,Vt){var At=ot.sortIndex-Vt.sortIndex;return At!==0?At:ot.id-Vt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],y=[],E=1,b=null,R=3,C=!1,O=!1,Y=!1,k=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function st(ot){for(var Vt=r(y);Vt!==null;){if(Vt.callback===null)s(y);else if(Vt.startTime<=ot)s(y),Vt.sortIndex=Vt.expirationTime,t(g,Vt);else break;Vt=r(y)}}function Tt(ot){if(Y=!1,st(ot),!O)if(r(g)!==null)O=!0,be();else{var Vt=r(y);Vt!==null&&qt(Tt,Vt.startTime-ot)}}var z=!1,dt=-1,N=5,w=-1;function S(){return!(i.unstable_now()-w<N)}function V(){if(z){var ot=i.unstable_now();w=ot;var Vt=!0;try{t:{O=!1,Y&&(Y=!1,X(dt),dt=-1),C=!0;var At=R;try{e:{for(st(ot),b=r(g);b!==null&&!(b.expirationTime>ot&&S());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,R=b.priorityLevel;var I=Bt(b.expirationTime<=ot);if(ot=i.unstable_now(),typeof I=="function"){b.callback=I,st(ot),Vt=!0;break e}b===r(g)&&s(g),st(ot)}else s(g);b=r(g)}if(b!==null)Vt=!0;else{var at=r(y);at!==null&&qt(Tt,at.startTime-ot),Vt=!1}}break t}finally{b=null,R=At,C=!1}Vt=void 0}}finally{Vt?L():z=!1}}}var L;if(typeof J=="function")L=function(){J(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,M=j.port2;j.port1.onmessage=V,L=function(){M.postMessage(null)}}else L=function(){k(V,0)};function be(){z||(z=!0,L())}function qt(ot,Vt){dt=k(function(){ot(i.unstable_now())},Vt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ot){ot.callback=null},i.unstable_continueExecution=function(){O||C||(O=!0,be())},i.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ot?Math.floor(1e3/ot):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return r(g)},i.unstable_next=function(ot){switch(R){case 1:case 2:case 3:var Vt=3;break;default:Vt=R}var At=R;R=Vt;try{return ot()}finally{R=At}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ot,Vt){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var At=R;R=ot;try{return Vt()}finally{R=At}},i.unstable_scheduleCallback=function(ot,Vt,At){var Bt=i.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Bt+At:Bt):At=Bt,ot){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=At+I,ot={id:E++,callback:Vt,priorityLevel:ot,startTime:At,expirationTime:I,sortIndex:-1},At>Bt?(ot.sortIndex=At,t(y,ot),r(g)===null&&ot===r(y)&&(Y?(X(dt),dt=-1):Y=!0,qt(Tt,At-Bt))):(ot.sortIndex=I,t(g,ot),O||C||(O=!0,be())),ot},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(ot){var Vt=R;return function(){var At=R;R=Vt;try{return ot.apply(this,arguments)}finally{R=At}}}}(ad)),ad}var Wy;function CA(){return Wy||(Wy=1,id.exports=RA()),id.exports}var sd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function DA(){if(Jy)return _n;Jy=1;var i=Kd();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},_n.flushSync=function(g){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=E,s.d.f()}},_n.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},_n.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},_n.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:C}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:R,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},_n.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},_n.requestFormReset=function(g){s.d.r(g)},_n.unstable_batchedUpdates=function(g,y){return g(y)},_n.useFormState=function(g,y,E){return h.H.useFormState(g,y,E)},_n.useFormStatus=function(){return h.H.useHostTransitionStatus()},_n.version="19.0.0",_n}var tv;function q_(){if(tv)return sd.exports;tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),sd.exports=DA(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function VA(){if(ev)return co;ev=1;var i=CA(),t=Kd(),r=q_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),st=Symbol.for("react.offscreen"),Tt=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function dt(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,L,j;function M(e){if(L===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);L=n&&n[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+e+j}var be=!1;function qt(e,n){if(!e||be)return"";be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Z){var G=Z}Reflect.construct(e,[],it)}else{try{it.call()}catch(Z){G=Z}e.call(it.prototype)}}else{try{throw Error()}catch(Z){G=Z}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Z){if(Z&&G&&typeof Z.stack=="string")return[Z.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),P=T.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===P.length)for(o=D.length-1,f=P.length-1;1<=o&&0<=f&&D[o]!==P[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==P[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==P[f]){var W=`
`+D[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=f);break}}}finally{be=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?M(a):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return e=qt(e.type,!1),e;case 11:return e=qt(e.type.render,!1),e;case 1:return e=qt(e.type,!0),e;default:return""}}function Vt(e){try{var n="";do n+=ot(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function At(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function Bt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function I(e){if(At(e)!==e)throw Error(s(188))}function at(e){var n=e.alternate;if(!n){if(n=At(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return I(f),e;if(d===o)return I(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=d;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,o=d;break}if(T===o){_=!0,o=f,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,o=f;break}if(T===o){_=!0,o=d,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function mt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=mt(e),n!==null)return n;e=e.sibling}return null}var ct=Array.isArray,ht=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},zt=[],De=-1;function Wt(e){return{current:e}}function Gt(e){0>De||(e.current=zt[De],zt[De]=null,De--)}function Kt(e,n){De++,zt[De]=e.current,e.current=n}var Xe=Wt(null),dr=Wt(null),Pe=Wt(null),Sr=Wt(null);function wr(e,n){switch(Kt(Pe,n),Kt(dr,e),Kt(Xe,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Ay(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=Ay(e),n=by(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Gt(Xe),Kt(Xe,n)}function Qn(){Gt(Xe),Gt(dr),Gt(Pe)}function _a(e){e.memoizedState!==null&&Kt(Sr,e);var n=Xe.current,a=by(n,e.type);n!==a&&(Kt(dr,e),Kt(Xe,a))}function wi(e){dr.current===e&&(Gt(Xe),Gt(dr)),Sr.current===e&&(Gt(Sr),io._currentValue=It)}var Ri=Object.prototype.hasOwnProperty,$r=i.unstable_scheduleCallback,Vn=i.unstable_cancelCallback,Xr=i.unstable_shouldYield,Ci=i.unstable_requestPaint,Ze=i.unstable_now,Un=i.unstable_getCurrentPriorityLevel,de=i.unstable_ImmediatePriority,Ie=i.unstable_UserBlockingPriority,Pn=i.unstable_NormalPriority,ls=i.unstable_LowPriority,Mn=i.unstable_IdlePriority,os=i.log,Rr=i.unstable_setDisableYieldValue,mr=null,We=null;function Di(e){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(mr,e,void 0,(e.current.flags&128)===128)}catch{}}function bn(e){if(typeof os=="function"&&Rr(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(mr,e)}catch{}}var Je=Math.clz32?Math.clz32:Ea,Zr=Math.log,us=Math.LN2;function Ea(e){return e>>>=0,e===0?32:31-(Zr(e)/us|0)|0}var Yn=128,gr=4194304;function yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function on(e,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,f=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?o=yn(a):(d&=T,d!==0?o=yn(d):e||(_=T&~_,_!==0&&(o=yn(_))))):(T=a&~f,T!==0?o=yn(T):d!==0?o=yn(d):e||(_=a&~_,_!==0&&(o=yn(_)))),o===0?0:n!==0&&n!==o&&(n&f)===0&&(f=o&-o,_=n&-n,f>=_||f===32&&(_&4194176)!==0)?n:o}function Cr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vi(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x(){var e=Yn;return Yn<<=1,(Yn&4194176)===0&&(Yn=128),e}function B(){var e=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),e}function Q(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function tt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ut(e,n,a,o,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,P=e.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Je(a),it=1<<W;T[W]=0,D[W]=-1;var G=P[W];if(G!==null)for(P[W]=null,W=0;W<G.length;W++){var Z=G[W];Z!==null&&(Z.lane&=-536870913)}a&=~it}o!==0&&Ct(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function Ct(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Je(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function Rt(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Je(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function bt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function St(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:jy(e.type))}function ft(e,n){var a=ht.p;try{return ht.p=e,n()}finally{ht.p=a}}var pt=Math.random().toString(36).slice(2),yt="__reactFiber$"+pt,xt="__reactProps$"+pt,ae="__reactContainer$"+pt,Se="__reactEvents$"+pt,pe="__reactListeners$"+pt,ie="__reactHandles$"+pt,Te="__reactResources$"+pt,Sn="__reactMarker$"+pt;function zn(e){delete e[yt],delete e[xt],delete e[Se],delete e[pe],delete e[ie]}function Oe(e){var n=e[yt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ae]||a[yt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ry(e);e!==null;){if(a=e[yt])return a;e=Ry(e)}return n}e=a,a=e.parentNode}return null}function ze(e){if(e=e[yt]||e[ae]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function xn(e){var n=e[Te];return n||(n=e[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[Sn]=!0}var Dr=new Set,pr={};function jt(e,n){ce(e,n),ce(e+"Capture",n)}function ce(e,n){for(pr[e]=n,e=0;e<n.length;e++)Dr.add(n[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ve={},$n={};function Ta(e){return Ri.call($n,e)?!0:Ri.call(ve,e)?!1:Wr.test(e)?$n[e]=!0:(ve[e]=!0,!1)}function Vr(e,n,a){if(Ta(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Mi(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Xn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sf(e){var n=Qo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Aa(e){e._valueTracker||(e._valueTracker=sf(e))}function ml(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Qo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jr=/[\n"\\]/g;function Ve(e){return e.replace(Jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xi(e,n,a,o,f,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wn(n)):e.value!==""+wn(n)&&(e.value=""+wn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?fs(e,_,wn(n)):a!=null?fs(e,_,wn(a)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+wn(T):e.removeAttribute("name")}function ba(e,n,a,o,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+wn(a):"",n=n!=null?""+wn(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function fs(e,n,a){n==="number"&&cs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function se(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+wn(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Sa(e,n,a){if(n!=null&&(n=""+wn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+wn(a):""}function Ni(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ct(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=wn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Zn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||lf.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Yo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&gl(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&gl(e,d,n[d])}function pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return uf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wn=null;function hs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,ei=null;function ni(e){var n=ze(e);if(n&&(e=n.stateNode)){var a=e[xt]||null;t:switch(e=n.stateNode,n.type){case"input":if(xi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[xt]||null;if(!f)throw Error(s(90));xi(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ml(o)}break t;case"textarea":Sa(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&se(e,!!a.multiple,n,!1)}}}var yl=!1;function Ko(e,n,a){if(yl)return e(n,a);yl=!0;try{var o=e(n);return o}finally{if(yl=!1,(ti!==null||ei!==null)&&(ku(),ti&&(n=ti,e=ei,ei=ti=null,ni(n),e)))for(n=0;n<e.length;n++)ni(e[n])}}function wa(e,n){var a=e.stateNode;if(a===null)return null;var o=a[xt]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Jn=!1;if(tn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Jn=!1}var xr=null,Ii=null,ri=null;function vl(){if(ri)return ri;var e,n=Ii,a=n.length,o,f="value"in xr?xr.value:xr.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var _=a-e;for(o=1;o<=_&&n[a-o]===f[d-o];o++);return ri=f.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ir(){return!0}function _l(){return!1}function en(e){function n(a,o,f,d,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ir:_l,this.isPropagationStopped=_l,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),n}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=en(fe),Ca=V({},fe,{view:0,detail:0}),$o=en(Ca),ms,gs,Or,Da=V({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Or&&(Or&&e.type==="mousemove"?(ms=e.screenX-Or.screenX,gs=e.screenY-Or.screenY):gs=ms=0,Or=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:gs}}),tr=en(Da),Xo=V({},Da,{dataTransfer:0}),cf=en(Xo),Va=V({},Ca,{relatedTarget:0}),ps=en(Va),El=V({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ys=en(El),Zo=V({},fe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vs=en(Zo),ff=V({},fe,{data:0}),Tl=en(ff),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jo[e])?!!n[e]:!1}function xa(){return Al}var tu=V({},Ca,{key:function(e){if(e.key){var n=Ma[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_s=en(tu),eu=V({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=en(eu),ii=V({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),nu=en(ii),ru=V({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=en(ru),au=V({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Es=en(au),Rn=V({},fe,{newState:0,oldState:0}),su=en(Rn),lu=[9,13,27,32],Lr=tn&&"CompositionEvent"in window,c=null;tn&&"documentMode"in document&&(c=document.documentMode);var p=tn&&"TextEvent"in window&&!c,v=tn&&(!Lr||c&&8<c&&11>=c),A=" ",H=!1;function $(e,n){switch(e){case"keyup":return lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jt=!1;function Fe(e,n){switch(e){case"compositionend":return lt(n);case"keypress":return n.which!==32?null:(H=!0,A);case"textInput":return e=n.data,e===A&&H?null:e;default:return null}}function te(e,n){if(Jt)return e==="compositionend"||!Lr&&$(e,n)?(e=vl(),ri=Ii=xr=null,Jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!nn[e.type]:n==="textarea"}function ai(e,n,a,o){ti?ei?ei.push(o):ei=[o]:ti=o,n=Fu(n,"onChange"),0<n.length&&(a=new ds("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var un=null,Ur=null;function Sl(e){yy(e,0)}function ou(e){var n=Kn(e);if(ml(n))return e}function Qm(e,n){if(e==="change")return n}var Ym=!1;if(tn){var hf;if(tn){var df="oninput"in document;if(!df){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),df=typeof Km.oninput=="function"}hf=df}else hf=!1;Ym=hf&&(!document.documentMode||9<document.documentMode)}function $m(){un&&(un.detachEvent("onpropertychange",Xm),Ur=un=null)}function Xm(e){if(e.propertyName==="value"&&ou(Ur)){var n=[];ai(n,Ur,e,hs(e)),Ko(Sl,n)}}function ZE(e,n,a){e==="focusin"?($m(),un=n,Ur=a,un.attachEvent("onpropertychange",Xm)):e==="focusout"&&$m()}function WE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ou(Ur)}function JE(e,n){if(e==="click")return ou(n)}function tT(e,n){if(e==="input"||e==="change")return ou(n)}function eT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:eT;function wl(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Ri.call(n,f)||!kn(e[f],n[f]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,n){var a=Zm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zm(a)}}function Jm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=cs(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=cs(e.document)}return n}function mf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function nT(e,n){var a=tg(n);n=e.focusedElem;var o=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Jm(n.ownerDocument.documentElement,n)){if(o!==null&&mf(n)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=n.textContent.length,d=Math.min(o.start,f);o=o.end===void 0?d:Math.min(o.end,f),!a.extend&&d>o&&(f=o,o=d,d=f),f=Wm(n,d);var _=Wm(n,o);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),d>o?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var rT=tn&&"documentMode"in document&&11>=document.documentMode,Ts=null,gf=null,Rl=null,pf=!1;function eg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ts==null||Ts!==cs(o)||(o=Ts,"selectionStart"in o&&mf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rl&&wl(Rl,o)||(Rl=o,o=Fu(gf,"onSelect"),0<o.length&&(n=new ds("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ts)))}function Na(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var As={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},yf={},ng={};tn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ia(e){if(yf[e])return yf[e];if(!As[e])return e;var n=As[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ng)return yf[e]=n[a];return e}var rg=Ia("animationend"),ig=Ia("animationiteration"),ag=Ia("animationstart"),iT=Ia("transitionrun"),aT=Ia("transitionstart"),sT=Ia("transitioncancel"),sg=Ia("transitionend"),lg=new Map,og="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function yr(e,n){lg.set(e,n),jt(n,[e])}var er=[],bs=0,vf=0;function uu(){for(var e=bs,n=vf=bs=0;n<e;){var a=er[n];er[n++]=null;var o=er[n];er[n++]=null;var f=er[n];er[n++]=null;var d=er[n];if(er[n++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}d!==0&&ug(a,f,d)}}function cu(e,n,a,o){er[bs++]=e,er[bs++]=n,er[bs++]=a,er[bs++]=o,vf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function _f(e,n,a,o){return cu(e,n,a,o),fu(e)}function Oi(e,n){return cu(e,null,null,n),fu(e)}function ug(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;f&&n!==null&&e.tag===3&&(d=e.stateNode,f=31-Je(a),d=d.hiddenUpdates,e=d[f],e===null?d[f]=[n]:e.push(n),n.lane=a|536870912)}function fu(e){if(50<Zl)throw Zl=0,wh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ss={},cg=new WeakMap;function nr(e,n){if(typeof e=="object"&&e!==null){var a=cg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Vt(n)},cg.set(e,n),n)}return{value:e,source:n,stack:Vt(n)}}var ws=[],Rs=0,hu=null,du=0,rr=[],ir=0,Oa=null,si=1,li="";function La(e,n){ws[Rs++]=du,ws[Rs++]=hu,hu=e,du=n}function fg(e,n,a){rr[ir++]=si,rr[ir++]=li,rr[ir++]=Oa,Oa=e;var o=si;e=li;var f=32-Je(o)-1;o&=~(1<<f),a+=1;var d=32-Je(n)+f;if(30<d){var _=f-f%5;d=(o&(1<<_)-1).toString(32),o>>=_,f-=_,si=1<<32-Je(n)+f|a<<f|o,li=d+e}else si=1<<d|a<<f|o,li=e}function Ef(e){e.return!==null&&(La(e,1),fg(e,1,0))}function Tf(e){for(;e===hu;)hu=ws[--Rs],ws[Rs]=null,du=ws[--Rs],ws[Rs]=null;for(;e===Oa;)Oa=rr[--ir],rr[ir]=null,li=rr[--ir],rr[ir]=null,si=rr[--ir],rr[ir]=null}var Cn=null,cn=null,le=!1,vr=null,Pr=!1,Af=Error(s(519));function Ua(e){var n=Error(s(418,""));throw Vl(nr(n,e)),Af}function hg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[yt]=e,n[xt]=o,a){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Xt(Jl[a],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":Xt("invalid",n),ba(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Aa(n);break;case"select":Xt("invalid",n);break;case"textarea":Xt("invalid",n),Ni(n,o.value,o.defaultValue,o.children),Aa(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Ty(n.textContent,a)?(o.popover!=null&&(Xt("beforetoggle",n),Xt("toggle",n)),o.onScroll!=null&&Xt("scroll",n),o.onScrollEnd!=null&&Xt("scrollend",n),o.onClick!=null&&(n.onclick=Gu),n=!0):n=!1,n||Ua(e)}function dg(e){for(Cn=e.return;Cn;)switch(Cn.tag){case 3:case 27:Pr=!0;return;case 5:case 13:Pr=!1;return;default:Cn=Cn.return}}function Cl(e){if(e!==Cn)return!1;if(!le)return dg(e),le=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qh(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&cn&&Ua(e),dg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){cn=Er(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}cn=null}}else cn=Cn?Er(e.stateNode.nextSibling):null;return!0}function Dl(){cn=Cn=null,le=!1}function Vl(e){vr===null?vr=[e]:vr.push(e)}var Ml=Error(s(460)),mg=Error(s(474)),bf={then:function(){}};function gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function pg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(mu,mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ml?Error(s(483)):e;default:if(typeof n.status=="string")n.then(mu,mu);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ml?Error(s(483)):e}throw xl=n,Ml}}var xl=null;function yg(){if(xl===null)throw Error(s(459));var e=xl;return xl=null,e}var Cs=null,Nl=0;function gu(e){var n=Nl;return Nl+=1,Cs===null&&(Cs=[]),pg(Cs,e,n)}function Il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pu(e,n){throw n.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function vg(e){var n=e._init;return n(e._payload)}function _g(e){function n(q,U){if(e){var F=q.deletions;F===null?(q.deletions=[U],q.flags|=16):F.push(U)}}function a(q,U){if(!e)return null;for(;U!==null;)n(q,U),U=U.sibling;return null}function o(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function f(q,U){return q=Qi(q,U),q.index=0,q.sibling=null,q}function d(q,U,F){return q.index=F,e?(F=q.alternate,F!==null?(F=F.index,F<U?(q.flags|=33554434,U):F):(q.flags|=33554434,U)):(q.flags|=1048576,U)}function _(q){return e&&q.alternate===null&&(q.flags|=33554434),q}function T(q,U,F,et){return U===null||U.tag!==6?(U=yh(F,q.mode,et),U.return=q,U):(U=f(U,F),U.return=q,U)}function D(q,U,F,et){var _t=F.type;return _t===g?W(q,U,F.props.children,et,F.key):U!==null&&(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===J&&vg(_t)===U.type)?(U=f(U,F.props),Il(U,F),U.return=q,U):(U=Ou(F.type,F.key,F.props,null,q.mode,et),Il(U,F),U.return=q,U)}function P(q,U,F,et){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=vh(F,q.mode,et),U.return=q,U):(U=f(U,F.children||[]),U.return=q,U)}function W(q,U,F,et,_t){return U===null||U.tag!==7?(U=Qa(F,q.mode,et,_t),U.return=q,U):(U=f(U,F),U.return=q,U)}function it(q,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=yh(""+U,q.mode,F),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return F=Ou(U.type,U.key,U.props,null,q.mode,F),Il(F,U),F.return=q,F;case m:return U=vh(U,q.mode,F),U.return=q,U;case J:var et=U._init;return U=et(U._payload),it(q,U,F)}if(ct(U)||dt(U))return U=Qa(U,q.mode,F,null),U.return=q,U;if(typeof U.then=="function")return it(q,gu(U),F);if(U.$$typeof===C)return it(q,xu(q,U),F);pu(q,U)}return null}function G(q,U,F,et){var _t=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _t!==null?null:T(q,U,""+F,et);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===_t?D(q,U,F,et):null;case m:return F.key===_t?P(q,U,F,et):null;case J:return _t=F._init,F=_t(F._payload),G(q,U,F,et)}if(ct(F)||dt(F))return _t!==null?null:W(q,U,F,et,null);if(typeof F.then=="function")return G(q,U,gu(F),et);if(F.$$typeof===C)return G(q,U,xu(q,F),et);pu(q,F)}return null}function Z(q,U,F,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return q=q.get(F)||null,T(U,q,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case h:return q=q.get(et.key===null?F:et.key)||null,D(U,q,et,_t);case m:return q=q.get(et.key===null?F:et.key)||null,P(U,q,et,_t);case J:var Qt=et._init;return et=Qt(et._payload),Z(q,U,F,et,_t)}if(ct(et)||dt(et))return q=q.get(F)||null,W(U,q,et,_t,null);if(typeof et.then=="function")return Z(q,U,F,gu(et),_t);if(et.$$typeof===C)return Z(q,U,F,xu(U,et),_t);pu(U,et)}return null}function wt(q,U,F,et){for(var _t=null,Qt=null,Dt=U,Nt=U=0,sn=null;Dt!==null&&Nt<F.length;Nt++){Dt.index>Nt?(sn=Dt,Dt=null):sn=Dt.sibling;var oe=G(q,Dt,F[Nt],et);if(oe===null){Dt===null&&(Dt=sn);break}e&&Dt&&oe.alternate===null&&n(q,Dt),U=d(oe,U,Nt),Qt===null?_t=oe:Qt.sibling=oe,Qt=oe,Dt=sn}if(Nt===F.length)return a(q,Dt),le&&La(q,Nt),_t;if(Dt===null){for(;Nt<F.length;Nt++)Dt=it(q,F[Nt],et),Dt!==null&&(U=d(Dt,U,Nt),Qt===null?_t=Dt:Qt.sibling=Dt,Qt=Dt);return le&&La(q,Nt),_t}for(Dt=o(Dt);Nt<F.length;Nt++)sn=Z(Dt,q,Nt,F[Nt],et),sn!==null&&(e&&sn.alternate!==null&&Dt.delete(sn.key===null?Nt:sn.key),U=d(sn,U,Nt),Qt===null?_t=sn:Qt.sibling=sn,Qt=sn);return e&&Dt.forEach(function(Ji){return n(q,Ji)}),le&&La(q,Nt),_t}function Ut(q,U,F,et){if(F==null)throw Error(s(151));for(var _t=null,Qt=null,Dt=U,Nt=U=0,sn=null,oe=F.next();Dt!==null&&!oe.done;Nt++,oe=F.next()){Dt.index>Nt?(sn=Dt,Dt=null):sn=Dt.sibling;var Ji=G(q,Dt,oe.value,et);if(Ji===null){Dt===null&&(Dt=sn);break}e&&Dt&&Ji.alternate===null&&n(q,Dt),U=d(Ji,U,Nt),Qt===null?_t=Ji:Qt.sibling=Ji,Qt=Ji,Dt=sn}if(oe.done)return a(q,Dt),le&&La(q,Nt),_t;if(Dt===null){for(;!oe.done;Nt++,oe=F.next())oe=it(q,oe.value,et),oe!==null&&(U=d(oe,U,Nt),Qt===null?_t=oe:Qt.sibling=oe,Qt=oe);return le&&La(q,Nt),_t}for(Dt=o(Dt);!oe.done;Nt++,oe=F.next())oe=Z(Dt,q,Nt,oe.value,et),oe!==null&&(e&&oe.alternate!==null&&Dt.delete(oe.key===null?Nt:oe.key),U=d(oe,U,Nt),Qt===null?_t=oe:Qt.sibling=oe,Qt=oe);return e&&Dt.forEach(function(EA){return n(q,EA)}),le&&La(q,Nt),_t}function Ne(q,U,F,et){if(typeof F=="object"&&F!==null&&F.type===g&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:t:{for(var _t=F.key;U!==null;){if(U.key===_t){if(_t=F.type,_t===g){if(U.tag===7){a(q,U.sibling),et=f(U,F.props.children),et.return=q,q=et;break t}}else if(U.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===J&&vg(_t)===U.type){a(q,U.sibling),et=f(U,F.props),Il(et,F),et.return=q,q=et;break t}a(q,U);break}else n(q,U);U=U.sibling}F.type===g?(et=Qa(F.props.children,q.mode,et,F.key),et.return=q,q=et):(et=Ou(F.type,F.key,F.props,null,q.mode,et),Il(et,F),et.return=q,q=et)}return _(q);case m:t:{for(_t=F.key;U!==null;){if(U.key===_t)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(q,U.sibling),et=f(U,F.children||[]),et.return=q,q=et;break t}else{a(q,U);break}else n(q,U);U=U.sibling}et=vh(F,q.mode,et),et.return=q,q=et}return _(q);case J:return _t=F._init,F=_t(F._payload),Ne(q,U,F,et)}if(ct(F))return wt(q,U,F,et);if(dt(F)){if(_t=dt(F),typeof _t!="function")throw Error(s(150));return F=_t.call(F),Ut(q,U,F,et)}if(typeof F.then=="function")return Ne(q,U,gu(F),et);if(F.$$typeof===C)return Ne(q,U,xu(q,F),et);pu(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(q,U.sibling),et=f(U,F),et.return=q,q=et):(a(q,U),et=yh(F,q.mode,et),et.return=q,q=et),_(q)):a(q,U)}return function(q,U,F,et){try{Nl=0;var _t=Ne(q,U,F,et);return Cs=null,_t}catch(Dt){if(Dt===Ml)throw Dt;var Qt=or(29,Dt,null,q.mode);return Qt.lanes=et,Qt.return=q,Qt}finally{}}}var Pa=_g(!0),Eg=_g(!1),Ds=Wt(null),yu=Wt(0);function Tg(e,n){e=vi,Kt(yu,e),Kt(Ds,n),vi=e|n.baseLanes}function Sf(){Kt(yu,vi),Kt(Ds,Ds.current)}function wf(){vi=yu.current,Gt(Ds),Gt(yu)}var ar=Wt(null),zr=null;function Li(e){var n=e.alternate;Kt(Qe,Qe.current&1),Kt(ar,e),zr===null&&(n===null||Ds.current!==null||n.memoizedState!==null)&&(zr=e)}function Ag(e){if(e.tag===22){if(Kt(Qe,Qe.current),Kt(ar,e),zr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(zr=e)}}else Ui()}function Ui(){Kt(Qe,Qe.current),Kt(ar,ar.current)}function oi(e){Gt(ar),zr===e&&(zr=null),Gt(Qe)}var Qe=Wt(0);function vu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var lT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},oT=i.unstable_scheduleCallback,uT=i.unstable_NormalPriority,Ye={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new lT,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&oT(uT,function(){e.controller.abort()})}var Ll=null,Cf=0,Vs=0,Ms=null;function cT(e,n){if(Ll===null){var a=Ll=[];Cf=0,Vs=Ih(),Ms={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Cf++,n.then(bg,bg),n}function bg(){if(--Cf===0&&Ll!==null){Ms!==null&&(Ms.status="fulfilled");var e=Ll;Ll=null,Vs=0,Ms=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Sg=S.S;S.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&cT(e,n),Sg!==null&&Sg(e,n)};var za=Wt(null);function Df(){var e=za.current;return e!==null?e:_e.pooledCache}function _u(e,n){n===null?Kt(za,za.current):Kt(za,n.pool)}function wg(){var e=Df();return e===null?null:{parent:Ye._currentValue,pool:e}}var Pi=0,Ht=null,me=null,ke=null,Eu=!1,xs=!1,ka=!1,Tu=0,Ul=0,Ns=null,hT=0;function Le(){throw Error(s(321))}function Vf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!kn(e[a],n[a]))return!1;return!0}function Mf(e,n,a,o,f,d){return Pi=d,Ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?Ba:zi,ka=!1,d=a(o,f),ka=!1,xs&&(d=Cg(n,a,o,f)),Rg(e),d}function Rg(e){S.H=kr;var n=me!==null&&me.next!==null;if(Pi=0,ke=me=Ht=null,Eu=!1,Ul=0,Ns=null,n)throw Error(s(300));e===null||rn||(e=e.dependencies,e!==null&&Mu(e)&&(rn=!0))}function Cg(e,n,a,o){Ht=e;var f=0;do{if(xs&&(Ns=null),Ul=0,xs=!1,25<=f)throw Error(s(301));if(f+=1,ke=me=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=ja,d=n(a,o)}while(xs);return d}function dT(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(me!==null?me.memoizedState:null)!==e&&(Ht.flags|=1024),n}function xf(){var e=Tu!==0;return Tu=0,e}function Nf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function If(e){if(Eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Eu=!1}Pi=0,ke=me=Ht=null,xs=!1,Ul=Tu=0,Ns=null}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Ht.memoizedState=ke=e:ke=ke.next=e,ke}function Be(){if(me===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var n=ke===null?Ht.memoizedState:ke.next;if(n!==null)ke=n,me=e;else{if(e===null)throw Ht.alternate===null?Error(s(467)):Error(s(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ke===null?Ht.memoizedState=ke=e:ke=ke.next=e}return ke}var Au;Au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Pl(e){var n=Ul;return Ul+=1,Ns===null&&(Ns=[]),e=pg(Ns,e,n),n=Ht,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?Ba:zi),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===C)return vn(e)}throw Error(s(438,String(e)))}function Of(e){var n=null,a=Ht.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ht.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Au(),Ht.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=Tt;return n.index++,a}function ui(e,n){return typeof n=="function"?n(e):n}function Su(e){var n=Be();return Lf(n,me,e)}function Lf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=_=null,D=null,P=n,W=!1;do{var it=P.lane&-536870913;if(it!==P.lane?(ee&it)===it:(Pi&it)===it){var G=P.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),it===Vs&&(W=!0);else if((Pi&G)===G){P=P.next,G===Vs&&(W=!0);continue}else it={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=it,_=d):D=D.next=it,Ht.lanes|=G,Yi|=G;it=P.action,ka&&a(d,it),d=P.hasEagerState?P.eagerState:a(d,it)}else G={lane:it,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=G,_=d):D=D.next=G,Ht.lanes|=it,Yi|=it;P=P.next}while(P!==null&&P!==n);if(D===null?_=d:D.next=T,!kn(d,e.memoizedState)&&(rn=!0,W&&(a=Ms,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Uf(e){var n=Be(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);kn(d,n.memoizedState)||(rn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Dg(e,n,a){var o=Ht,f=Be(),d=le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!kn((me||f).memoizedState,a);if(_&&(f.memoizedState=a,rn=!0),f=f.queue,kf(xg.bind(null,o,f,e),[e]),f.getSnapshot!==n||_||ke!==null&&ke.memoizedState.tag&1){if(o.flags|=2048,Is(9,Mg.bind(null,o,f,a,n),{destroy:void 0},null),_e===null)throw Error(s(349));d||(Pi&60)!==0||Vg(o,n,a)}return a}function Vg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ht.updateQueue,n===null?(n=Au(),Ht.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Mg(e,n,a,o){n.value=a,n.getSnapshot=o,Ng(n)&&Ig(e)}function xg(e,n,a){return a(function(){Ng(n)&&Ig(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!kn(e,a)}catch{return!0}}function Ig(e){var n=Oi(e,2);n!==null&&Dn(n,e,2)}function Pf(e){var n=Nn();if(typeof e=="function"){var a=e;if(e=a(),ka){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},n}function Og(e,n,a,o){return e.baseState=a,Lf(e,me,typeof o=="function"?o:ui)}function mT(e,n,a,o,f){if(Cu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};S.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Lg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Lg(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=S.T,_={};S.T=_;try{var T=a(f,o),D=S.S;D!==null&&D(_,T),Ug(e,n,T)}catch(P){zf(e,n,P)}finally{S.T=d}}else try{d=a(f,o),Ug(e,n,d)}catch(P){zf(e,n,P)}}function Ug(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Pg(e,n,o)},function(o){return zf(e,n,o)}):Pg(e,n,a)}function Pg(e,n,a){n.status="fulfilled",n.value=a,zg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Lg(e,a)))}function zf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,zg(n),n=n.next;while(n!==o)}e.action=null}function zg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kg(e,n){return n}function Bg(e,n){if(le){var a=_e.formState;if(a!==null){t:{var o=Ht;if(le){if(cn){e:{for(var f=cn,d=Pr;f.nodeType!==8;){if(!d){f=null;break e}if(f=Er(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){cn=Er(f.nextSibling),o=f.data==="F!";break t}}Ua(o)}o=!1}o&&(n=a[0])}}return a=Nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},a.queue=o,a=ip.bind(null,Ht,o),o.dispatch=a,o=Pf(!1),d=Ff.bind(null,Ht,!1,o.queue),o=Nn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=mT.bind(null,Ht,f,d,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function jg(e){var n=Be();return qg(n,me,e)}function qg(e,n,a){n=Lf(e,n,kg)[0],e=Su(ui)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Pl(n):n;var o=Be(),f=o.queue,d=f.dispatch;return a!==o.memoizedState&&(Ht.flags|=2048,Is(9,gT.bind(null,f,a),{destroy:void 0},null)),[n,d,e]}function gT(e,n){e.action=n}function Hg(e){var n=Be(),a=me;if(a!==null)return qg(n,a,e);Be(),n=n.memoizedState,a=Be();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Is(e,n,a,o){return e={tag:e,create:n,inst:a,deps:o,next:null},n=Ht.updateQueue,n===null&&(n=Au(),Ht.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Fg(){return Be().memoizedState}function wu(e,n,a,o){var f=Nn();Ht.flags|=e,f.memoizedState=Is(1|n,a,{destroy:void 0},o===void 0?null:o)}function Ru(e,n,a,o){var f=Be();o=o===void 0?null:o;var d=f.memoizedState.inst;me!==null&&o!==null&&Vf(o,me.memoizedState.deps)?f.memoizedState=Is(n,a,d,o):(Ht.flags|=e,f.memoizedState=Is(1|n,a,d,o))}function Gg(e,n){wu(8390656,8,e,n)}function kf(e,n){Ru(2048,8,e,n)}function Qg(e,n){return Ru(4,2,e,n)}function Yg(e,n){return Ru(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $g(e,n,a){a=a!=null?a.concat([e]):null,Ru(4,4,Kg.bind(null,n,e),a)}function Bf(){}function Xg(e,n){var a=Be();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Vf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Zg(e,n){var a=Be();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Vf(n,o[1]))return o[0];if(o=e(),ka){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function jf(e,n,a){return a===void 0||(Pi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Jp(),Ht.lanes|=e,Yi|=e,a)}function Wg(e,n,a,o){return kn(a,n)?a:Ds.current!==null?(e=jf(e,a,o),kn(e,n)||(rn=!0),e):(Pi&42)===0?(rn=!0,e.memoizedState=a):(e=Jp(),Ht.lanes|=e,Yi|=e,n)}function Jg(e,n,a,o,f){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=S.T,T={};S.T=T,Ff(e,!1,n,a);try{var D=f(),P=S.S;if(P!==null&&P(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=fT(D,o);zl(e,n,W,Hn(e))}else zl(e,n,o,Hn(e))}catch(it){zl(e,n,{then:function(){},status:"rejected",reason:it},Hn())}finally{ht.p=d,S.T=_}}function pT(){}function qf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var f=tp(e).queue;Jg(e,f,n,It,a===null?pT:function(){return ep(e),a(o)})}function tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:It},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ep(e){var n=tp(e).next.queue;zl(e,n,{},Hn())}function Hf(){return vn(io)}function np(){return Be().memoizedState}function rp(){return Be().memoizedState}function yT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Hn();e=ji(a);var o=qi(n,e,a);o!==null&&(Dn(o,n,a),jl(o,n,a)),n={cache:Rf()},e.payload=n;return}n=n.return}}function vT(e,n,a){var o=Hn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)?ap(n,a):(a=_f(e,n,a,o),a!==null&&(Dn(a,e,o),sp(a,n,o)))}function ip(e,n,a){var o=Hn();zl(e,n,a,o)}function zl(e,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))ap(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(f.hasEagerState=!0,f.eagerState=T,kn(T,_))return cu(e,n,f,0),_e===null&&uu(),!1}catch{}finally{}if(a=_f(e,n,f,o),a!==null)return Dn(a,e,o),sp(a,n,o),!0}return!1}function Ff(e,n,a,o){if(o={lane:2,revertLane:Ih(),action:o,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(n)throw Error(s(479))}else n=_f(e,a,o,2),n!==null&&Dn(n,e,2)}function Cu(e){var n=e.alternate;return e===Ht||n!==null&&n===Ht}function ap(e,n){xs=Eu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function sp(e,n,a){if((a&4194176)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Rt(e,a)}}var kr={readContext:vn,use:bu,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le};kr.useCacheRefresh=Le,kr.useMemoCache=Le,kr.useHostTransitionStatus=Le,kr.useFormState=Le,kr.useActionState=Le,kr.useOptimistic=Le;var Ba={readContext:vn,use:bu,useCallback:function(e,n){return Nn().memoizedState=[e,n===void 0?null:n],e},useContext:vn,useEffect:Gg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,wu(4194308,4,Kg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return wu(4194308,4,e,n)},useInsertionEffect:function(e,n){wu(4,2,e,n)},useMemo:function(e,n){var a=Nn();n=n===void 0?null:n;var o=e();if(ka){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Nn();if(a!==void 0){var f=a(n);if(ka){bn(!0);try{a(n)}finally{bn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=vT.bind(null,Ht,e),[o.memoizedState,e]},useRef:function(e){var n=Nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Pf(e);var n=e.queue,a=ip.bind(null,Ht,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Nn();return jf(a,e,n)},useTransition:function(){var e=Pf(!1);return e=Jg.bind(null,Ht,e.queue,!0,!1),Nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ht,f=Nn();if(le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),_e===null)throw Error(s(349));(ee&60)!==0||Vg(o,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Gg(xg.bind(null,o,d,e),[e]),o.flags|=2048,Is(9,Mg.bind(null,o,d,a,n),{destroy:void 0},null),a},useId:function(){var e=Nn(),n=_e.identifierPrefix;if(le){var a=li,o=si;a=(o&~(1<<32-Je(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=Tu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=hT++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Nn().memoizedState=yT.bind(null,Ht)}};Ba.useMemoCache=Of,Ba.useHostTransitionStatus=Hf,Ba.useFormState=Bg,Ba.useActionState=Bg,Ba.useOptimistic=function(e){var n=Nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ff.bind(null,Ht,!0,a),a.dispatch=n,[e,n]};var zi={readContext:vn,use:bu,useCallback:Xg,useContext:vn,useEffect:kf,useImperativeHandle:$g,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Su,useRef:Fg,useState:function(){return Su(ui)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Be();return Wg(a,me.memoizedState,e,n)},useTransition:function(){var e=Su(ui)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:Dg,useId:np};zi.useCacheRefresh=rp,zi.useMemoCache=Of,zi.useHostTransitionStatus=Hf,zi.useFormState=jg,zi.useActionState=jg,zi.useOptimistic=function(e,n){var a=Be();return Og(a,me,e,n)};var ja={readContext:vn,use:bu,useCallback:Xg,useContext:vn,useEffect:kf,useImperativeHandle:$g,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Uf,useRef:Fg,useState:function(){return Uf(ui)},useDebugValue:Bf,useDeferredValue:function(e,n){var a=Be();return me===null?jf(a,e,n):Wg(a,me.memoizedState,e,n)},useTransition:function(){var e=Uf(ui)[0],n=Be().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:Dg,useId:np};ja.useCacheRefresh=rp,ja.useMemoCache=Of,ja.useHostTransitionStatus=Hf,ja.useFormState=Hg,ja.useActionState=Hg,ja.useOptimistic=function(e,n){var a=Be();return me!==null?Og(a,me,e,n):(a.baseState=e,[e,a.queue.dispatch])};function Gf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:V({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qf={isMounted:function(e){return(e=e._reactInternals)?At(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Hn(),f=ji(o);f.payload=n,a!=null&&(f.callback=a),n=qi(e,f,o),n!==null&&(Dn(n,e,o),jl(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Hn(),f=ji(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=qi(e,f,o),n!==null&&(Dn(n,e,o),jl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Hn(),o=ji(a);o.tag=2,n!=null&&(o.callback=n),n=qi(e,o,a),n!==null&&(Dn(n,e,a),jl(n,e,a))}};function lp(e,n,a,o,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!wl(a,o)||!wl(f,d):!0}function op(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Qf.enqueueReplaceState(n,n.state,null)}function qa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=V({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function up(e){Du(e)}function cp(e){console.error(e)}function fp(e){Du(e)}function Vu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yf(e,n,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Vu(e,n)},a}function dp(e){return e=ji(e),e.tag=3,e}function mp(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){hp(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){hp(n,a,o),typeof f!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function _T(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Bl(n,a,f,!0),a=ar.current,a!==null){switch(a.tag){case 13:return zr===null?Dh():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===bf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Mh(e,o,f)),!1;case 22:return a.flags|=65536,o===bf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Mh(e,o,f)),!1}throw Error(s(435,a.tag))}return Mh(e,o,f),Dh(),!1}if(le)return n=ar.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Af&&(e=Error(s(422),{cause:o}),Vl(nr(e,a)))):(o!==Af&&(n=Error(s(423),{cause:o}),Vl(nr(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=nr(o,a),f=Yf(e.stateNode,o,f),oh(e,f),xe!==4&&(xe=2)),!1;var d=Error(s(520),{cause:o});if(d=nr(d,a),$l===null?$l=[d]:$l.push(d),xe!==4&&(xe=2),n===null)return!0;o=nr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Yf(a.stateNode,o,e),oh(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ki===null||!Ki.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dp(f),mp(f,e,a,o),oh(a,f),!1}a=a.return}while(a!==null);return!1}var gp=Error(s(461)),rn=!1;function fn(e,n,a,o){n.child=e===null?Eg(n,null,a,o):Pa(n,e.child,a,o)}function pp(e,n,a,o,f){a=a.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Fa(n),o=Mf(e,n,a,_,d,f),T=xf(),e!==null&&!rn?(Nf(e,n,f),ci(e,n,f)):(le&&T&&Ef(n),n.flags|=1,fn(e,n,o,f),n.child)}function yp(e,n,a,o,f){if(e===null){var d=a.type;return typeof d=="function"&&!ph(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,vp(e,n,d,o,f)):(e=Ou(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!nh(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(_,o)&&e.ref===n.ref)return ci(e,n,f)}return n.flags|=1,e=Qi(d,o),e.ref=n.ref,e.return=n,n.child=e}function vp(e,n,a,o,f){if(e!==null){var d=e.memoizedProps;if(wl(d,o)&&e.ref===n.ref)if(rn=!1,n.pendingProps=o=d,nh(e,f))(e.flags&131072)!==0&&(rn=!0);else return n.lanes=e.lanes,ci(e,n,f)}return Kf(e,n,a,o,f)}function _p(e,n,a){var o=n.pendingProps,f=o.children,d=(n.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(kl(e,n),o.mode==="hidden"||d){if((n.flags&128)!==0){if(o=_!==null?_.baseLanes|a:a,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Ep(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(n,_!==null?_.cachePool:null),_!==null?Tg(n,_):Sf(),Ag(n);else return n.lanes=n.childLanes=536870912,Ep(e,n,_!==null?_.baseLanes|a:a,a)}else _!==null?(_u(n,_.cachePool),Tg(n,_),Ui(),n.memoizedState=null):(e!==null&&_u(n,null),Sf(),Ui());return fn(e,n,f,a),n.child}function Ep(e,n,a,o){var f=Df();return f=f===null?null:{parent:Ye._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&_u(n,null),Sf(),Ag(n),e!==null&&Bl(e,n,o,!0),null}function kl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function Kf(e,n,a,o,f){return Fa(n),a=Mf(e,n,a,o,void 0,f),o=xf(),e!==null&&!rn?(Nf(e,n,f),ci(e,n,f)):(le&&o&&Ef(n),n.flags|=1,fn(e,n,a,f),n.child)}function Tp(e,n,a,o,f,d){return Fa(n),n.updateQueue=null,a=Cg(n,o,a,f),Rg(e),o=xf(),e!==null&&!rn?(Nf(e,n,d),ci(e,n,d)):(le&&o&&Ef(n),n.flags|=1,fn(e,n,a,d),n.child)}function Ap(e,n,a,o,f){if(Fa(n),n.stateNode===null){var d=Ss,_=a.contextType;typeof _=="object"&&_!==null&&(d=vn(_)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},sh(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?vn(_):Ss,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gf(n,a,_,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qf.enqueueReplaceState(d,d.state,null),Hl(n,o,d,f),ql(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,D=qa(a,T);d.props=D;var P=d.context,W=a.contextType;_=Ss,typeof W=="object"&&W!==null&&(_=vn(W));var it=a.getDerivedStateFromProps;W=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&op(n,d,o,_),Bi=!1;var G=n.memoizedState;d.state=G,Hl(n,o,d,f),ql(),P=n.memoizedState,T||G!==P||Bi?(typeof it=="function"&&(Gf(n,a,it,o),P=n.memoizedState),(D=Bi||lp(n,a,D,o,G,P,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),d.props=o,d.state=P,d.context=_,o=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,lh(e,n),_=n.memoizedProps,W=qa(a,_),d.props=W,it=n.pendingProps,G=d.context,P=a.contextType,D=Ss,typeof P=="object"&&P!==null&&(D=vn(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==it||G!==D)&&op(n,d,o,D),Bi=!1,G=n.memoizedState,d.state=G,Hl(n,o,d,f),ql();var Z=n.memoizedState;_!==it||G!==Z||Bi||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Gf(n,a,T,o),Z=n.memoizedState),(W=Bi||lp(n,a,W,o,G,Z,D)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Z,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Z,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Z),d.props=o,d.state=Z,d.context=D,o=W):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,kl(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Pa(n,e.child,null,f),n.child=Pa(n,null,a,f)):fn(e,n,a,f),n.memoizedState=d.state,e=n.child):e=ci(e,n,f),e}function bp(e,n,a,o){return Dl(),n.flags|=256,fn(e,n,a,o),n.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Xf(e){return{baseLanes:e,cachePool:wg()}}function Zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=ur),e}function Sp(e,n,a){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(le){if(f?Li(n):Ui(),le){var T=cn,D;if(D=T){t:{for(D=T,T=Pr;D.nodeType!==8;){if(!T){T=null;break t}if(D=Er(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Oa!==null?{id:si,overflow:li}:null,retryLane:536870912},D=or(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,Cn=n,cn=null,D=!0):D=!1}D||Ua(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;oi(n)}return T=o.children,o=o.fallback,f?(Ui(),f=n.mode,T=Jf({mode:"hidden",children:T},f),o=Qa(o,f,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,f=n.child,f.memoizedState=Xf(a),f.childLanes=Zf(e,_,a),n.memoizedState=$f,o):(Li(n),Wf(n,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(Li(n),n.flags&=-257,n=th(e,n,a)):n.memoizedState!==null?(Ui(),n.child=e.child,n.flags|=128,n=null):(Ui(),f=o.fallback,T=n.mode,o=Jf({mode:"visible",children:o.children},T),f=Qa(f,T,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Pa(n,e.child,null,a),o=n.child,o.memoizedState=Xf(a),o.childLanes=Zf(e,_,a),n.memoizedState=$f,n=f);else if(Li(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,o=Error(s(419)),o.stack="",o.digest=_,Vl({value:o,source:null,stack:null}),n=th(e,n,a)}else if(rn||Bl(e,n,a,!1),_=(a&e.childLanes)!==0,rn||_){if(_=_e,_!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(_.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane)throw D.retryLane=o,Oi(e,o),Dn(_,e,o),gp}T.data==="$?"||Dh(),n=th(e,n,a)}else T.data==="$?"?(n.flags|=128,n.child=e.child,n=OT.bind(null,e),T._reactRetry=n,n=null):(e=D.treeContext,cn=Er(T.nextSibling),Cn=n,le=!0,vr=null,Pr=!1,e!==null&&(rr[ir++]=si,rr[ir++]=li,rr[ir++]=Oa,si=e.id,li=e.overflow,Oa=n),n=Wf(n,o.children),n.flags|=4096);return n}return f?(Ui(),f=o.fallback,T=n.mode,D=e.child,P=D.sibling,o=Qi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&31457280,P!==null?f=Qi(P,f):(f=Qa(f,T,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,T=e.child.memoizedState,T===null?T=Xf(a):(D=T.cachePool,D!==null?(P=Ye._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=wg(),T={baseLanes:T.baseLanes|a,cachePool:D}),f.memoizedState=T,f.childLanes=Zf(e,_,a),n.memoizedState=$f,o):(Li(n),a=e.child,e=a.sibling,a=Qi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function Wf(e,n){return n=Jf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Jf(e,n){return Xp(e,n,0,null)}function th(e,n,a){return Pa(n,e.child,null,a),e=Wf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ih(e.return,n,a)}function eh(e,n,a,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=f)}function Rp(e,n,a){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(fn(e,n,o.children,a),o=Qe.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,a,n);else if(e.tag===19)wp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Kt(Qe,o),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&vu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),eh(n,!1,f,a,d);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&vu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}eh(n,!0,a,null,d);break;case"together":eh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ci(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Yi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Bl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Qi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Qi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function nh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function ET(e,n,a){switch(n.tag){case 3:wr(n,n.stateNode.containerInfo),ki(n,Ye,e.memoizedState.cache),Dl();break;case 27:case 5:_a(n);break;case 4:wr(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sp(e,n,a):(Li(n),e=ci(e,n,a),e!==null?e.sibling:null);Li(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Bl(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return Rp(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Kt(Qe,Qe.current),o)break;return null;case 22:case 23:return n.lanes=0,_p(e,n,a);case 24:ki(n,Ye,e.memoizedState.cache)}return ci(e,n,a)}function Cp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)rn=!0;else{if(!nh(e,a)&&(n.flags&128)===0)return rn=!1,ET(e,n,a);rn=(e.flags&131072)!==0}else rn=!1,le&&(n.flags&1048576)!==0&&fg(n,du,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")ph(o)?(e=qa(o,e),n.tag=1,n=Ap(null,n,o,e,a)):(n.tag=0,n=Kf(null,n,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===O){n.tag=11,n=pp(null,n,o,e,a);break t}else if(f===X){n.tag=14,n=yp(null,n,o,e,a);break t}}throw n=w(o)||o,Error(s(306,n,""))}}return n;case 0:return Kf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=qa(o,n.pendingProps),Ap(e,n,o,f,a);case 3:t:{if(wr(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var d=n.pendingProps;f=n.memoizedState,o=f.element,lh(e,n),Hl(n,d,null,a);var _=n.memoizedState;if(d=_.cache,ki(n,Ye,d),d!==f.cache&&ah(n,[Ye],a,!0),ql(),d=_.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bp(e,n,d,a);break t}else if(d!==o){o=nr(Error(s(424)),n),Vl(o),n=bp(e,n,d,a);break t}else for(cn=Er(n.stateNode.containerInfo.firstChild),Cn=n,le=!0,vr=null,Pr=!0,a=Eg(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Dl(),d===o){n=ci(e,n,a);break t}fn(e,n,d,a)}n=n.child}return n;case 26:return kl(e,n),e===null?(a=My(n.type,null,n.pendingProps,null))?n.memoizedState=a:le||(a=n.type,e=n.pendingProps,o=Qu(Pe.current).createElement(a),o[yt]=n,o[xt]=e,hn(o,a,e),ue(o),n.stateNode=o):n.memoizedState=My(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _a(n),e===null&&le&&(o=n.stateNode=Cy(n.type,n.pendingProps,Pe.current),Cn=n,Pr=!0,cn=Er(o.firstChild)),o=n.pendingProps.children,e!==null||le?fn(e,n,o,a):n.child=Pa(n,null,o,a),kl(e,n),n.child;case 5:return e===null&&le&&((f=o=cn)&&(o=XT(o,n.type,n.pendingProps,Pr),o!==null?(n.stateNode=o,Cn=n,cn=Er(o.firstChild),Pr=!1,f=!0):f=!1),f||Ua(n)),_a(n),f=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,qh(f,d)?o=null:_!==null&&qh(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=Mf(e,n,dT,null,null,a),io._currentValue=f),kl(e,n),fn(e,n,o,a),n.child;case 6:return e===null&&le&&((e=a=cn)&&(a=ZT(a,n.pendingProps,Pr),a!==null?(n.stateNode=a,Cn=n,cn=null,e=!0):e=!1),e||Ua(n)),null;case 13:return Sp(e,n,a);case 4:return wr(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Pa(n,null,o,a):fn(e,n,o,a),n.child;case 11:return pp(e,n,n.type,n.pendingProps,a);case 7:return fn(e,n,n.pendingProps,a),n.child;case 8:return fn(e,n,n.pendingProps.children,a),n.child;case 12:return fn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ki(n,n.type,o.value),fn(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Fa(n),f=vn(f),o=o(f),n.flags|=1,fn(e,n,o,a),n.child;case 14:return yp(e,n,n.type,n.pendingProps,a);case 15:return vp(e,n,n.type,n.pendingProps,a);case 19:return Rp(e,n,a);case 22:return _p(e,n,a);case 24:return Fa(n),o=vn(Ye),e===null?(f=Df(),f===null&&(f=_e,d=Rf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:o,cache:f},sh(n),ki(n,Ye,f)):((e.lanes&a)!==0&&(lh(e,n),Hl(n,null,null,a),ql()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ki(n,Ye,o)):(o=d.cache,ki(n,Ye,o),o!==f.cache&&ah(n,[Ye],a,!0))),fn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var rh=Wt(null),Ha=null,fi=null;function ki(e,n,a){Kt(rh,n._currentValue),n._currentValue=a}function hi(e){e._currentValue=rh.current,Gt(rh)}function ih(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ah(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ih(d.return,a,e),o||(_=null);break t}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),ih(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Bl(e,n,a,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;kn(f.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(f===Sr.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}f=f.return}e!==null&&ah(n,e,a,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fa(e){Ha=e,fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vn(e){return Dp(Ha,e)}function xu(e,n){return Ha===null&&Fa(e),Dp(e,n)}function Dp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},fi===null){if(e===null)throw Error(s(308));fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fi=fi.next=n;return a}var Bi=!1;function sh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Re&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=fu(e),ug(e,null,a),n}return cu(e,o,n,a),fu(e)}function jl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Rt(e,a)}}function oh(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uh=!1;function ql(){if(uh){var e=Ms;if(e!==null)throw e}}function Hl(e,n,a,o){uh=!1;var f=e.updateQueue;Bi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,P=D.next;D.next=null,_===null?d=P:_.next=P,_=D;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=P:T.next=P,W.lastBaseUpdate=D))}if(d!==null){var it=f.baseState;_=0,W=P=D=null,T=d;do{var G=T.lane&-536870913,Z=G!==T.lane;if(Z?(ee&G)===G:(o&G)===G){G!==0&&G===Vs&&(uh=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var wt=e,Ut=T;G=n;var Ne=a;switch(Ut.tag){case 1:if(wt=Ut.payload,typeof wt=="function"){it=wt.call(Ne,it,G);break t}it=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Ut.payload,G=typeof wt=="function"?wt.call(Ne,it,G):wt,G==null)break t;it=V({},it,G);break t;case 2:Bi=!0}}G=T.callback,G!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[G]:Z.push(G))}else Z={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(P=W=Z,D=it):W=W.next=Z,_|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);W===null&&(D=it),f.baseState=D,f.firstBaseUpdate=P,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Yi|=_,e.lanes=_,e.memoizedState=it}}function Vp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Mp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vp(a[e],n)}function Fl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==f)}}catch(T){ye(n,n.return,T)}}function Hi(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var D=a;try{T()}catch(P){ye(f,D,P)}}}o=o.next}while(o!==d)}}catch(P){ye(n,n.return,P)}}function xp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Mp(n,a)}catch(o){ye(e,e.return,o)}}}function Np(e,n,a){a.props=qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ye(e,n,o)}}function Ga(e,n){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(d){ye(e,n,d)}}function Bn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){ye(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ye(e,n,f)}else a.current=null}function Ip(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){ye(e,e.return,f)}}function Op(e,n,a){try{var o=e.stateNode;GT(o,e.type,a,n),o[xt]=n}catch(f){ye(e,e.return,f)}}function Lp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ch(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(fh(e,n,a),e=e.sibling;e!==null;)fh(e,n,a),e=e.sibling}function Nu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Nu(e,n,a),e=e.sibling;e!==null;)Nu(e,n,a),e=e.sibling}var di=!1,Me=!1,hh=!1,Up=typeof WeakSet=="function"?WeakSet:Set,an=null,Pp=!1;function TT(e,n){if(e=e.containerInfo,Bh=Wu,e=tg(e),mf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,P=0,W=0,it=e,G=null;e:for(;;){for(var Z;it!==a||f!==0&&it.nodeType!==3||(T=_+f),it!==d||o!==0&&it.nodeType!==3||(D=_+o),it.nodeType===3&&(_+=it.nodeValue.length),(Z=it.firstChild)!==null;)G=it,it=Z;for(;;){if(it===e)break e;if(G===a&&++P===f&&(T=_),G===d&&++W===o&&(D=_),(Z=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=Z}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(jh={focusedElem:e,selectionRange:a},Wu=!1,an=n;an!==null;)if(n=an,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,an=e;else for(;an!==null;){switch(n=an,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var wt=qa(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(wt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ut){ye(a,a.return,Ut)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Gh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,an=e;break}an=n.return}return wt=Pp,Pp=!1,wt}function zp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gi(e,a),o&4&&Fl(5,a);break;case 1:if(gi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(T){ye(a,a.return,T)}else{var f=qa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ye(a,a.return,T)}}o&64&&xp(a),o&512&&Ga(a,a.return);break;case 3:if(gi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Mp(o,e)}catch(T){ye(a,a.return,T)}}break;case 26:gi(e,a),o&512&&Ga(a,a.return);break;case 27:case 5:gi(e,a),n===null&&o&4&&Ip(a),o&512&&Ga(a,a.return);break;case 12:gi(e,a);break;case 13:gi(e,a),o&4&&jp(e,a);break;case 22:if(f=a.memoizedState!==null||di,!f){n=n!==null&&n.memoizedState!==null||Me;var d=di,_=Me;di=f,(Me=n)&&!_?Fi(e,a,(a.subtreeFlags&8772)!==0):gi(e,a),di=d,Me=_}o&512&&(a.memoizedProps.mode==="manual"?Ga(a,a.return):Bn(a,a.return));break;default:gi(e,a)}}function kp(e){var n=e.alternate;n!==null&&(e.alternate=null,kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&zn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,jn=!1;function mi(e,n,a){for(a=a.child;a!==null;)Bp(e,n,a),a=a.sibling}function Bp(e,n,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(mr,a)}catch{}switch(a.tag){case 26:Me||Bn(a,n),mi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Bn(a,n);var o=je,f=jn;for(je=a.stateNode,mi(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);zn(a),je=o,jn=f;break;case 5:Me||Bn(a,n);case 6:f=je;var d=jn;if(je=null,mi(e,n,a),je=f,jn=d,je!==null)if(jn)try{e=je,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(_){ye(a,n,_)}else try{je.removeChild(a.stateNode)}catch(_){ye(a,n,_)}break;case 18:je!==null&&(jn?(n=je,a=a.stateNode,n.nodeType===8?Fh(n.parentNode,a):n.nodeType===1&&Fh(n,a),oo(n)):Fh(je,a.stateNode));break;case 4:o=je,f=jn,je=a.stateNode.containerInfo,jn=!0,mi(e,n,a),je=o,jn=f;break;case 0:case 11:case 14:case 15:Me||Hi(2,a,n),Me||Hi(4,a,n),mi(e,n,a);break;case 1:Me||(Bn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Np(a,n,o)),mi(e,n,a);break;case 21:mi(e,n,a);break;case 22:Me||Bn(a,n),Me=(o=Me)||a.memoizedState!==null,mi(e,n,a),Me=o;break;default:mi(e,n,a)}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oo(e)}catch(a){ye(n,n.return,a)}}function AT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Up),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Up),n;default:throw Error(s(435,e.tag))}}function dh(e,n){var a=AT(e);n.forEach(function(o){var f=LT.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function sr(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:je=T.stateNode,jn=!1;break t;case 3:je=T.stateNode.containerInfo,jn=!0;break t;case 4:je=T.stateNode.containerInfo,jn=!0;break t}T=T.return}if(je===null)throw Error(s(160));Bp(d,_,f),je=null,jn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)qp(n,e),n=n.sibling}var _r=null;function qp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sr(n,e),lr(e),o&4&&(Hi(3,e,e.return),Fl(3,e),Hi(5,e,e.return));break;case 1:sr(n,e),lr(e),o&512&&(Me||a===null||Bn(a,a.return)),o&64&&di&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=_r;if(sr(n,e),lr(e),o&512&&(Me||a===null||Bn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Sn]||d[yt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),hn(d,o,a),d[yt]=e,ue(d),o=d;break t;case"link":var _=Iy("link","href",f).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=f.createElement(o),hn(d,o,a),f.head.appendChild(d);break;case"meta":if(_=Iy("meta","content",f).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=f.createElement(o),hn(d,o,a),f.head.appendChild(d);break;default:throw Error(s(468,o))}d[yt]=e,ue(d),o=d}e.stateNode=o}else Oy(f,e.type,e.stateNode);else e.stateNode=Ny(f,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Oy(f,e.type,e.stateNode):Ny(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Op(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){f=e.stateNode,d=e.memoizedProps;try{for(var D=f.firstChild;D;){var P=D.nextSibling,W=D.nodeName;D[Sn]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=P}for(var it=e.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);hn(f,it,d),f[yt]=e,f[xt]=d}catch(wt){ye(e,e.return,wt)}}case 5:if(sr(n,e),lr(e),o&512&&(Me||a===null||Bn(a,a.return)),e.flags&32){f=e.stateNode;try{Zn(f,"")}catch(wt){ye(e,e.return,wt)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Op(e,f,a!==null?a.memoizedProps:f)),o&1024&&(hh=!0);break;case 6:if(sr(n,e),lr(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(wt){ye(e,e.return,wt)}}break;case 3:if($u=null,f=_r,_r=Yu(n.containerInfo),sr(n,e),_r=f,lr(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(n.containerInfo)}catch(wt){ye(e,e.return,wt)}hh&&(hh=!1,Hp(e));break;case 4:o=_r,_r=Yu(e.stateNode.containerInfo),sr(n,e),lr(e),_r=o;break;case 12:sr(n,e),lr(e);break;case 13:sr(n,e),lr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ah=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dh(e,o)));break;case 22:if(o&512&&(Me||a===null||Bn(a,a.return)),D=e.memoizedState!==null,P=a!==null&&a.memoizedState!==null,W=di,it=Me,di=W||D,Me=it||P,sr(n,e),Me=it,di=W,lr(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=D?n._visibility&-2:n._visibility|1,D&&(n=di||Me,a===null||P||n||Os(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){P=a=n;try{if(f=P.stateNode,D)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var Z=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(wt){ye(P,P.return,wt)}}}else if(n.tag===6){if(a===null){P=n;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(wt){ye(P,P.return,wt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dh(e,a))));break;case 19:sr(n,e),lr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,dh(e,o)));break;case 21:break;default:sr(n,e),lr(e)}}function lr(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Lp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var f=o.stateNode,d=ch(e);Nu(e,d,f);break;case 5:var _=o.stateNode;o.flags&32&&(Zn(_,""),o.flags&=-33);var T=ch(e);Nu(e,T,_);break;case 3:case 4:var D=o.stateNode.containerInfo,P=ch(e);fh(e,P,D);break;default:throw Error(s(161))}}}catch(W){ye(e,e.return,W)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hi(4,n,n.return),Os(n);break;case 1:Bn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Np(n,n.return,a),Os(n);break;case 26:case 27:case 5:Bn(n,n.return),Os(n);break;case 22:Bn(n,n.return),n.memoizedState===null&&Os(n);break;default:Os(n)}e=e.sibling}}function Fi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fi(f,d,a),Fl(4,d);break;case 1:if(Fi(f,d,a),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){ye(o,o.return,P)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Vp(D[f],T)}catch(P){ye(o,o.return,P)}}a&&_&64&&xp(d),Ga(d,d.return);break;case 26:case 27:case 5:Fi(f,d,a),a&&o===null&&_&4&&Ip(d),Ga(d,d.return);break;case 12:Fi(f,d,a);break;case 13:Fi(f,d,a),a&&_&4&&jp(f,d);break;case 22:d.memoizedState===null&&Fi(f,d,a),Ga(d,d.return);break;default:Fi(f,d,a)}n=n.sibling}}function mh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ol(a))}function gh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e))}function Gi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,a,o),n=n.sibling}function Fp(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Gi(e,n,a,o),f&2048&&Fl(9,n);break;case 3:Gi(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e)));break;case 12:if(f&2048){Gi(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ye(n,n.return,D)}}else Gi(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Gi(e,n,a,o):Gl(e,n):d._visibility&4?Gi(e,n,a,o):(d._visibility|=4,Ls(e,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&mh(n.alternate,n);break;case 24:Gi(e,n,a,o),f&2048&&gh(n.alternate,n);break;default:Gi(e,n,a,o)}}function Ls(e,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=a,D=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ls(d,_,T,D,f),Fl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?Ls(d,_,T,D,f):Gl(d,_):(W._visibility|=4,Ls(d,_,T,D,f)),f&&P&2048&&mh(_.alternate,_);break;case 24:Ls(d,_,T,D,f),f&&P&2048&&gh(_.alternate,_);break;default:Ls(d,_,T,D,f)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:Gl(a,o),f&2048&&mh(o.alternate,o);break;case 24:Gl(a,o),f&2048&&gh(o.alternate,o);break;default:Gl(a,o)}n=n.sibling}}var Ql=8192;function Us(e){if(e.subtreeFlags&Ql)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 26:Us(e),e.flags&Ql&&e.memoizedState!==null&&cA(_r,e.memoizedState,e.memoizedProps);break;case 5:Us(e);break;case 3:case 4:var n=_r;_r=Yu(e.stateNode.containerInfo),Us(e),_r=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ql,Ql=16777216,Us(e),Ql=n):Us(e));break;default:Us(e)}}function Qp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];an=o,Kp(o,e)}Qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&Hi(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Iu(e)):Yl(e);break;default:Yl(e)}}function Iu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];an=o,Kp(o,e)}Qp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hi(8,n,n.return),Iu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Iu(n));break;default:Iu(n)}e=e.sibling}}function Kp(e,n){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:Hi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ol(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,an=o;else t:for(a=e;an!==null;){o=an;var f=o.sibling,d=o.return;if(kp(o),o===a){an=null;break t}if(f!==null){f.return=d,an=f;break t}an=d}}}function bT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(e,n,a,o){return new bT(e,n,a,o)}function ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var a=e.alternate;return a===null?(a=or(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $p(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,a,o,f,d){var _=0;if(o=e,typeof e=="function")ph(e)&&(_=1);else if(typeof e=="string")_=oA(e,a,Xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Qa(a.children,f,d,n);case y:_=8,f|=24;break;case E:return e=or(12,a,n,f|2),e.elementType=E,e.lanes=d,e;case Y:return e=or(13,a,n,f),e.elementType=Y,e.lanes=d,e;case k:return e=or(19,a,n,f),e.elementType=k,e.lanes=d,e;case st:return Xp(a,f,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case C:_=10;break t;case R:_=9;break t;case O:_=11;break t;case X:_=14;break t;case J:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=or(_,a,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function Qa(e,n,a,o){return e=or(7,e,o,n),e.lanes=a,e}function Xp(e,n,a,o){e=or(22,e,o,n),e.elementType=st,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Oi(d,2);_!==null&&(f._pendingVisibility|=2,Dn(_,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Oi(d,2);_!==null&&(f._pendingVisibility&=-3,Dn(_,d,2))}}};return e.stateNode=f,e}function yh(e,n,a){return e=or(6,e,null,n),e.lanes=a,e}function vh(e,n,a){return n=or(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function pi(e){e.flags|=4}function Zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ly(n)){if(n=ar.current,n!==null&&((ee&4194176)===ee?zr!==null:(ee&62914560)!==ee&&(ee&536870912)===0||n!==zr))throw xl=bf,mg;e.flags|=8192}}function Lu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?B():536870912,e.lanes|=n,zs|=n)}function Kl(e,n){if(!le)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function we(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function ST(e,n,a){var o=n.pendingProps;switch(Tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(n),null;case 1:return we(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hi(Ye),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Cl(n)?pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vr!==null&&(Rh(vr),vr=null))),we(n),null;case 26:return a=n.memoizedState,e===null?(pi(n),a!==null?(we(n),Zp(n,a)):(we(n),n.flags&=-16777217)):a?a!==e.memoizedState?(pi(n),we(n),Zp(n,a)):(we(n),n.flags&=-16777217):(e.memoizedProps!==o&&pi(n),we(n),n.flags&=-16777217),null;case 27:wi(n),a=Pe.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return we(n),null}e=Xe.current,Cl(n)?hg(n):(e=Cy(f,o,a),n.stateNode=e,pi(n))}return we(n),null;case 5:if(wi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return we(n),null}if(e=Xe.current,Cl(n))hg(n);else{switch(f=Qu(Pe.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[yt]=n,e[xt]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(hn(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&pi(n)}}return we(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Pe.current,Cl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=Cn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[yt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ty(e.nodeValue,a)),e||Ua(n)}else e=Qu(e).createTextNode(o),e[yt]=n,n.stateNode=e}return we(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Cl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[yt]=n}else Dl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;we(n),f=!1}else vr!==null&&(Rh(vr),vr=null),f=!0;if(!f)return n.flags&256?(oi(n),n):(oi(n),null)}if(oi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Lu(n,n.updateQueue),we(n),null;case 4:return Qn(),e===null&&Ph(n.stateNode.containerInfo),we(n),null;case 10:return hi(n.type),we(n),null;case 19:if(Gt(Qe),f=n.memoizedState,f===null)return we(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Kl(f,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=vu(e),d!==null){for(n.flags|=128,Kl(f,!1),e=d.updateQueue,n.updateQueue=e,Lu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$p(a,e),a=a.sibling;return Kt(Qe,Qe.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ze()>Uu&&(n.flags|=128,o=!0,Kl(f,!1),n.lanes=4194304)}else{if(!o)if(e=vu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Lu(n,e),Kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!le)return we(n),null}else 2*Ze()-f.renderingStartTime>Uu&&a!==536870912&&(n.flags|=128,o=!0,Kl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ze(),n.sibling=null,e=Qe.current,Kt(Qe,o?e&1|2:e&1),n):(we(n),null);case 22:case 23:return oi(n),wf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(we(n),n.subtreeFlags&6&&(n.flags|=8192)):we(n),a=n.updateQueue,a!==null&&Lu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Gt(za),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hi(Ye),we(n),null;case 25:return null}throw Error(s(156,n.tag))}function wT(e,n){switch(Tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hi(Ye),Qn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return wi(n),null;case 13:if(oi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Dl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Gt(Qe),null;case 4:return Qn(),null;case 10:return hi(n.type),null;case 22:case 23:return oi(n),wf(),e!==null&&Gt(za),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hi(Ye),null;case 25:return null;default:return null}}function Wp(e,n){switch(Tf(n),n.tag){case 3:hi(Ye),Qn();break;case 26:case 27:case 5:wi(n);break;case 4:Qn();break;case 13:oi(n);break;case 19:Gt(Qe);break;case 10:hi(n.type);break;case 22:case 23:oi(n),wf(),e!==null&&Gt(za);break;case 24:hi(Ye)}}var RT={getCacheForType:function(e){var n=vn(Ye),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},CT=typeof WeakMap=="function"?WeakMap:Map,Re=0,_e=null,Yt=null,ee=0,Ee=0,qn=null,yi=!1,Ps=!1,_h=!1,vi=0,xe=0,Yi=0,Ya=0,Eh=0,ur=0,zs=0,$l=null,Br=null,Th=!1,Ah=0,Uu=1/0,Pu=null,Ki=null,zu=!1,Ka=null,Xl=0,bh=0,Sh=null,Zl=0,wh=null;function Hn(){if((Re&2)!==0&&ee!==0)return ee&-ee;if(S.T!==null){var e=Vs;return e!==0?e:Ih()}return St()}function Jp(){ur===0&&(ur=(ee&536870912)===0||le?x():536870912);var e=ar.current;return e!==null&&(e.flags|=32),ur}function Dn(e,n,a){(e===_e&&Ee===2||e.cancelPendingCommit!==null)&&(ks(e,0),_i(e,ee,ur,!1)),tt(e,a),((Re&2)===0||e!==_e)&&(e===_e&&((Re&2)===0&&(Ya|=a),xe===4&&_i(e,ee,ur,!1)),jr(e))}function ty(e,n,a){if((Re&6)!==0)throw Error(s(327));var o=!a&&(n&60)===0&&(n&e.expiredLanes)===0||Cr(e,n),f=o?MT(e,n):Vh(e,n,!0),d=o;do{if(f===0){Ps&&!o&&_i(e,n,0,!1);break}else if(f===6)_i(e,n,0,!yi);else{if(a=e.current.alternate,d&&!DT(a)){f=Vh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;f=$l;var D=T.current.memoizedState.isDehydrated;if(D&&(ks(T,_).flags|=256),_=Vh(T,_,!1),_!==2){if(_h&&!D){T.errorRecoveryDisabledLanes|=d,Ya|=d,f=4;break t}d=Br,Br=f,d!==null&&Rh(d)}f=_}if(d=!1,f!==2)continue}}if(f===1){ks(e,0),_i(e,n,0,!0);break}t:{switch(o=e,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){_i(o,n,ur,!yi);break t}break;case 2:Br=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(d=Ah+300-Ze(),10<d)){if(_i(o,n,ur,!yi),on(o,0)!==0)break t;o.timeoutHandle=Sy(ey.bind(null,o,a,Br,Pu,Th,n,ur,Ya,zs,yi,2,-0,0),d);break t}ey(o,a,Br,Pu,Th,n,ur,Ya,zs,yi,0,-0,0)}}break}while(!0);jr(e)}function Rh(e){Br===null?Br=e:Br.push.apply(Br,e)}function ey(e,n,a,o,f,d,_,T,D,P,W,it,G){var Z=n.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(ro={stylesheets:null,count:0,unsuspend:uA},Gp(n),n=fA(),n!==null)){e.cancelPendingCommit=n(oy.bind(null,e,a,o,f,_,T,D,1,it,G)),_i(e,d,_,!P);return}oy(e,a,o,f,_,T,D,W,it,G)}function DT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],d=f.getSnapshot;f=f.value;try{if(!kn(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _i(e,n,a,o){n&=~Eh,n&=~Ya,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-Je(f),_=1<<d;o[d]=-1,f&=~_}a!==0&&Ct(e,a,n)}function ku(){return(Re&6)===0?(Wl(0),!1):!0}function Ch(){if(Yt!==null){if(Ee===0)var e=Yt.return;else e=Yt,fi=Ha=null,If(e),Cs=null,Nl=0,e=Yt;for(;e!==null;)Wp(e.alternate,e),e=e.return;Yt=null}}function ks(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,YT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ch(),_e=e,Yt=a=Qi(e.current,null),ee=n,Ee=0,qn=null,yi=!1,Ps=Cr(e,n),_h=!1,zs=ur=Eh=Ya=Yi=xe=0,Br=$l=null,Th=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-Je(o),d=1<<f;n|=e[f],o&=~d}return vi=n,uu(),a}function ny(e,n){Ht=null,S.H=kr,n===Ml?(n=yg(),Ee=3):n===mg?(n=yg(),Ee=4):Ee=n===gp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Yt===null&&(xe=1,Vu(e,nr(n,e.current)))}function ry(){var e=S.H;return S.H=kr,e===null?kr:e}function iy(){var e=S.A;return S.A=RT,e}function Dh(){xe=4,yi||(ee&4194176)!==ee&&ar.current!==null||(Ps=!0),(Yi&134217727)===0&&(Ya&134217727)===0||_e===null||_i(_e,ee,ur,!1)}function Vh(e,n,a){var o=Re;Re|=2;var f=ry(),d=iy();(_e!==e||ee!==n)&&(Pu=null,ks(e,n)),n=!1;var _=xe;t:do try{if(Ee!==0&&Yt!==null){var T=Yt,D=qn;switch(Ee){case 8:Ch(),_=6;break t;case 3:case 2:case 6:ar.current===null&&(n=!0);var P=Ee;if(Ee=0,qn=null,Bs(e,T,D,P),a&&Ps){_=0;break t}break;default:P=Ee,Ee=0,qn=null,Bs(e,T,D,P)}}VT(),_=xe;break}catch(W){ny(e,W)}while(!0);return n&&e.shellSuspendCounter++,fi=Ha=null,Re=o,S.H=f,S.A=d,Yt===null&&(_e=null,ee=0,uu()),_}function VT(){for(;Yt!==null;)ay(Yt)}function MT(e,n){var a=Re;Re|=2;var o=ry(),f=iy();_e!==e||ee!==n?(Pu=null,Uu=Ze()+500,ks(e,n)):Ps=Cr(e,n);t:do try{if(Ee!==0&&Yt!==null){n=Yt;var d=qn;e:switch(Ee){case 1:Ee=0,qn=null,Bs(e,n,d,1);break;case 2:if(gg(d)){Ee=0,qn=null,sy(n);break}n=function(){Ee===2&&_e===e&&(Ee=7),jr(e)},d.then(n,n);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:gg(d)?(Ee=0,qn=null,sy(n)):(Ee=0,qn=null,Bs(e,n,d,7));break;case 5:var _=null;switch(Yt.tag){case 26:_=Yt.memoizedState;case 5:case 27:var T=Yt;if(!_||Ly(_)){Ee=0,qn=null;var D=T.sibling;if(D!==null)Yt=D;else{var P=T.return;P!==null?(Yt=P,Bu(P)):Yt=null}break e}}Ee=0,qn=null,Bs(e,n,d,5);break;case 6:Ee=0,qn=null,Bs(e,n,d,6);break;case 8:Ch(),xe=6;break t;default:throw Error(s(462))}}xT();break}catch(W){ny(e,W)}while(!0);return fi=Ha=null,S.H=o,S.A=f,Re=a,Yt!==null?0:(_e=null,ee=0,uu(),xe)}function xT(){for(;Yt!==null&&!Xr();)ay(Yt)}function ay(e){var n=Cp(e.alternate,e,vi);e.memoizedProps=e.pendingProps,n===null?Bu(e):Yt=n}function sy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Tp(a,n,n.pendingProps,n.type,void 0,ee);break;case 11:n=Tp(a,n,n.pendingProps,n.type.render,n.ref,ee);break;case 5:If(n);default:Wp(a,n),n=Yt=$p(n,vi),n=Cp(a,n,vi)}e.memoizedProps=e.pendingProps,n===null?Bu(e):Yt=n}function Bs(e,n,a,o){fi=Ha=null,If(n),Cs=null,Nl=0;var f=n.return;try{if(_T(e,f,n,a,ee)){xe=1,Vu(e,nr(a,e.current)),Yt=null;return}}catch(d){if(f!==null)throw Yt=f,d;xe=1,Vu(e,nr(a,e.current)),Yt=null;return}n.flags&32768?(le||o===1?e=!0:Ps||(ee&536870912)!==0?e=!1:(yi=e=!0,(o===2||o===3||o===6)&&(o=ar.current,o!==null&&o.tag===13&&(o.flags|=16384))),ly(n,e)):Bu(n)}function Bu(e){var n=e;do{if((n.flags&32768)!==0){ly(n,yi);return}e=n.return;var a=ST(n.alternate,n,vi);if(a!==null){Yt=a;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=e}while(n!==null);xe===0&&(xe=5)}function ly(e,n){do{var a=wT(e.alternate,e);if(a!==null){a.flags&=32767,Yt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Yt=e;return}Yt=e=a}while(e!==null);xe=6,Yt=null}function oy(e,n,a,o,f,d,_,T,D,P){var W=S.T,it=ht.p;try{ht.p=2,S.T=null,NT(e,n,a,o,it,f,d,_,T,D,P)}finally{S.T=W,ht.p=it}}function NT(e,n,a,o,f,d,_,T){do js();while(Ka!==null);if((Re&6)!==0)throw Error(s(327));var D=e.finishedWork;if(o=e.finishedLanes,D===null)return null;if(e.finishedWork=null,e.finishedLanes=0,D===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=vf,ut(e,o,P,d,_,T),e===_e&&(Yt=_e=null,ee=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||zu||(zu=!0,bh=P,Sh=a,UT(Pn,function(){return js(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=ht.p,ht.p=2,_=Re,Re|=4,TT(e,D),qp(D,e),nT(jh,e.containerInfo),Wu=!!Bh,jh=Bh=null,e.current=D,zp(e,D.alternate,D),Ci(),Re=_,ht.p=d,S.T=a):e.current=D,zu?(zu=!1,Ka=e,Xl=o):uy(e,P),P=e.pendingLanes,P===0&&(Ki=null),Di(D.stateNode),jr(e),n!==null)for(f=e.onRecoverableError,D=0;D<n.length;D++)P=n[D],f(P.value,{componentStack:P.stack});return(Xl&3)!==0&&js(),P=e.pendingLanes,(o&4194218)!==0&&(P&42)!==0?e===wh?Zl++:(Zl=0,wh=e):Zl=0,Wl(0),null}function uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ol(n)))}function js(){if(Ka!==null){var e=Ka,n=bh;bh=0;var a=bt(Xl),o=S.T,f=ht.p;try{if(ht.p=32>a?32:a,S.T=null,Ka===null)var d=!1;else{a=Sh,Sh=null;var _=Ka,T=Xl;if(Ka=null,Xl=0,(Re&6)!==0)throw Error(s(331));var D=Re;if(Re|=4,Yp(_.current),Fp(_,_.current,T,a),Re=D,Wl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(mr,_)}catch{}d=!0}return d}finally{ht.p=f,S.T=o,uy(e,n)}}return!1}function cy(e,n,a){n=nr(a,n),n=Yf(e.stateNode,n,2),e=qi(e,n,2),e!==null&&(tt(e,2),jr(e))}function ye(e,n,a){if(e.tag===3)cy(e,e,a);else for(;n!==null;){if(n.tag===3){cy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ki===null||!Ki.has(o))){e=nr(a,e),a=dp(2),o=qi(n,a,2),o!==null&&(mp(a,o,n,e),tt(o,2),jr(o));break}}n=n.return}}function Mh(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new CT;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(_h=!0,f.add(a),e=IT.bind(null,e,n,a),n.then(e,e))}function IT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,_e===e&&(ee&a)===a&&(xe===4||xe===3&&(ee&62914560)===ee&&300>Ze()-Ah?(Re&2)===0&&ks(e,0):Eh|=a,zs===ee&&(zs=0)),jr(e)}function fy(e,n){n===0&&(n=B()),e=Oi(e,n),e!==null&&(tt(e,n),jr(e))}function OT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),fy(e,a)}function LT(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),fy(e,a)}function UT(e,n){return $r(e,n)}var ju=null,qs=null,xh=!1,qu=!1,Nh=!1,$a=0;function jr(e){e!==qs&&e.next===null&&(qs===null?ju=qs=e:qs=qs.next=e),qu=!0,xh||(xh=!0,zT(PT))}function Wl(e,n){if(!Nh&&qu){Nh=!0;do for(var a=!1,o=ju;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=f&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,my(o,d))}else d=ee,d=on(o,o===_e?d:0),(d&3)===0||Cr(o,d)||(a=!0,my(o,d));o=o.next}while(a);Nh=!1}}function PT(){qu=xh=!1;var e=0;$a!==0&&(QT()&&(e=$a),$a=0);for(var n=Ze(),a=null,o=ju;o!==null;){var f=o.next,d=hy(o,n);d===0?(o.next=null,a===null?ju=f:a.next=f,f===null&&(qs=a)):(a=o,(e!==0||(d&3)!==0)&&(qu=!0)),o=f}Wl(e)}function hy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Je(d),T=1<<_,D=f[_];D===-1?((T&a)===0||(T&o)!==0)&&(f[_]=Vi(T,n)):D<=n&&(e.expiredLanes|=T),d&=~T}if(n=_e,a=ee,a=on(e,e===n?a:0),o=e.callbackNode,a===0||e===n&&Ee===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Vn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Cr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Vn(o),bt(a)){case 2:case 8:a=Ie;break;case 32:a=Pn;break;case 268435456:a=Mn;break;default:a=Pn}return o=dy.bind(null,e),a=$r(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Vn(o),e.callbackPriority=2,e.callbackNode=null,2}function dy(e,n){var a=e.callbackNode;if(js()&&e.callbackNode!==a)return null;var o=ee;return o=on(e,e===_e?o:0),o===0?null:(ty(e,o,n),hy(e,Ze()),e.callbackNode!=null&&e.callbackNode===a?dy.bind(null,e):null)}function my(e,n){if(js())return null;ty(e,n,!0)}function zT(e){KT(function(){(Re&6)!==0?$r(de,e):e()})}function Ih(){return $a===0&&($a=x()),$a}function gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function py(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function kT(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var d=gy((f[xt]||null).action),_=o.submitter;_&&(n=(n=_[xt]||null)?gy(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new ds("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($a!==0){var D=_?py(f,_):new FormData(f);qf(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?py(f,_):new FormData(f),qf(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Oh=0;Oh<og.length;Oh++){var Lh=og[Oh],BT=Lh.toLowerCase(),jT=Lh[0].toUpperCase()+Lh.slice(1);yr(BT,"on"+jT)}yr(rg,"onAnimationEnd"),yr(ig,"onAnimationIteration"),yr(ag,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(iT,"onTransitionRun"),yr(aT,"onTransitionStart"),yr(sT,"onTransitionCancel"),yr(sg,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function yy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],D=T.instance,P=T.currentTarget;if(T=T.listener,D!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=P;try{d(f)}catch(W){Du(W)}f.currentTarget=null,d=D}else for(_=0;_<o.length;_++){if(T=o[_],D=T.instance,P=T.currentTarget,T=T.listener,D!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=P;try{d(f)}catch(W){Du(W)}f.currentTarget=null,d=D}}}}function Xt(e,n){var a=n[Se];a===void 0&&(a=n[Se]=new Set);var o=e+"__bubble";a.has(o)||(vy(n,e,2,!1),a.add(o))}function Uh(e,n,a){var o=0;n&&(o|=4),vy(a,e,o,n)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Ph(e){if(!e[Hu]){e[Hu]=!0,Dr.forEach(function(a){a!=="selectionchange"&&(qT.has(a)||Uh(a,!1,e),Uh(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Hu]||(n[Hu]=!0,Uh("selectionchange",!1,n))}}function vy(e,n,a,o){switch(jy(n)){case 2:var f=mA;break;case 8:f=gA;break;default:f=Xh}a=f.bind(null,n,a,e),f=void 0,!Jn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function zh(e,n,a,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;T!==null;){if(_=Oe(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=d=_;continue t}T=T.parentNode}}o=o.return}Ko(function(){var P=d,W=hs(a),it=[];t:{var G=lg.get(e);if(G!==void 0){var Z=ds,wt=e;switch(e){case"keypress":if(Nr(a)===0)break t;case"keydown":case"keyup":Z=_s;break;case"focusin":wt="focus",Z=ps;break;case"focusout":wt="blur",Z=ps;break;case"beforeblur":case"afterblur":Z=ps;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=nu;break;case rg:case ig:case ag:Z=ys;break;case sg:Z=iu;break;case"scroll":case"scrollend":Z=$o;break;case"wheel":Z=Es;break;case"copy":case"cut":case"paste":Z=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bl;break;case"toggle":case"beforetoggle":Z=su}var Ut=(n&4)!==0,Ne=!Ut&&(e==="scroll"||e==="scrollend"),q=Ut?G!==null?G+"Capture":null:G;Ut=[];for(var U=P,F;U!==null;){var et=U;if(F=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||F===null||q===null||(et=wa(U,q),et!=null&&Ut.push(to(U,et,F))),Ne)break;U=U.return}0<Ut.length&&(G=new Z(G,wt,null,a,W),it.push({event:G,listeners:Ut}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",G&&a!==Wn&&(wt=a.relatedTarget||a.fromElement)&&(Oe(wt)||wt[ae]))break t;if((Z||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Z?(wt=a.relatedTarget||a.toElement,Z=P,wt=wt?Oe(wt):null,wt!==null&&(Ne=At(wt),Ut=wt.tag,wt!==Ne||Ut!==5&&Ut!==27&&Ut!==6)&&(wt=null)):(Z=null,wt=P),Z!==wt)){if(Ut=tr,et="onMouseLeave",q="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Ut=bl,et="onPointerLeave",q="onPointerEnter",U="pointer"),Ne=Z==null?G:Kn(Z),F=wt==null?G:Kn(wt),G=new Ut(et,U+"leave",Z,a,W),G.target=Ne,G.relatedTarget=F,et=null,Oe(W)===P&&(Ut=new Ut(q,U+"enter",wt,a,W),Ut.target=F,Ut.relatedTarget=Ne,et=Ut),Ne=et,Z&&wt)e:{for(Ut=Z,q=wt,U=0,F=Ut;F;F=Hs(F))U++;for(F=0,et=q;et;et=Hs(et))F++;for(;0<U-F;)Ut=Hs(Ut),U--;for(;0<F-U;)q=Hs(q),F--;for(;U--;){if(Ut===q||q!==null&&Ut===q.alternate)break e;Ut=Hs(Ut),q=Hs(q)}Ut=null}else Ut=null;Z!==null&&_y(it,G,Z,Ut,!1),wt!==null&&Ne!==null&&_y(it,Ne,wt,Ut,!0)}}t:{if(G=P?Kn(P):window,Z=G.nodeName&&G.nodeName.toLowerCase(),Z==="select"||Z==="input"&&G.type==="file")var _t=Qm;else if(Ge(G))if(Ym)_t=tT;else{_t=WE;var Qt=ZE}else Z=G.nodeName,!Z||Z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&pl(P.elementType)&&(_t=Qm):_t=JE;if(_t&&(_t=_t(e,P))){ai(it,_t,a,W);break t}Qt&&Qt(e,G,P),e==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&fs(G,"number",G.value)}switch(Qt=P?Kn(P):window,e){case"focusin":(Ge(Qt)||Qt.contentEditable==="true")&&(Ts=Qt,gf=P,Rl=null);break;case"focusout":Rl=gf=Ts=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,eg(it,a,W);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":eg(it,a,W)}var Dt;if(Lr)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Jt?$(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(v&&a.locale!=="ko"&&(Jt||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Jt&&(Dt=vl()):(xr=W,Ii="value"in xr?xr.value:xr.textContent,Jt=!0)),Qt=Fu(P,Nt),0<Qt.length&&(Nt=new Tl(Nt,e,null,a,W),it.push({event:Nt,listeners:Qt}),Dt?Nt.data=Dt:(Dt=lt(a),Dt!==null&&(Nt.data=Dt)))),(Dt=p?Fe(e,a):te(e,a))&&(Nt=Fu(P,"onBeforeInput"),0<Nt.length&&(Qt=new Tl("onBeforeInput","beforeinput",null,a,W),it.push({event:Qt,listeners:Nt}),Qt.data=Dt)),kT(it,e,P,a,W)}yy(it,n)})}function to(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Fu(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=wa(e,a),f!=null&&o.unshift(to(e,f,d)),f=wa(e,n),f!=null&&o.push(to(e,f,d))),e=e.return}return o}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _y(e,n,a,o,f){for(var d=n._reactName,_=[];a!==null&&a!==o;){var T=a,D=T.alternate,P=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||P===null||(D=P,f?(P=wa(a,d),P!=null&&_.unshift(to(a,P,D))):f||(P=wa(a,d),P!=null&&_.push(to(a,P,D)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var HT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(HT,`
`).replace(FT,"")}function Ty(e,n){return n=Ey(n),Ey(e)===n}function Gu(){}function ge(e,n,a,o,f,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Zn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Zn(e,""+o);break;case"className":Mi(e,"class",o);break;case"tabIndex":Mi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(e,a,o);break;case"style":Yo(e,o,d);break;case"data":if(n!=="object"){Mi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Mr(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ge(e,n,"name",f.name,f,null),ge(e,n,"formEncType",f.formEncType,f,null),ge(e,n,"formMethod",f.formMethod,f,null),ge(e,n,"formTarget",f.formTarget,f,null)):(ge(e,n,"encType",f.encType,f,null),ge(e,n,"method",f.method,f,null),ge(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Mr(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"onScroll":o!=null&&Xt("scroll",e);break;case"onScrollEnd":o!=null&&Xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Mr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Xt("beforetoggle",e),Xt("toggle",e),Vr(e,"popover",o);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Vr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,Vr(e,a,o))}}function kh(e,n,a,o,f,d){switch(a){case"style":Yo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Zn(e,o):(typeof o=="number"||typeof o=="bigint")&&Zn(e,""+o);break;case"onScroll":o!=null&&Xt("scroll",e);break;case"onScrollEnd":o!=null&&Xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Vr(e,a,o)}}}function hn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",e),Xt("load",e);var o=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ge(e,n,d,_,a,null)}}f&&ge(e,n,"srcSet",a.srcSet,a,null),o&&ge(e,n,"src",a.src,a,null);return;case"input":Xt("invalid",e);var T=d=_=f=null,D=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var W=a[o];if(W!=null)switch(o){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":P=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:ge(e,n,o,W,a,null)}}ba(e,d,T,D,P,_,f,!1),Aa(e);return;case"select":Xt("invalid",e),o=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:ge(e,n,f,T,a,null)}n=d,a=_,e.multiple=!!o,n!=null?se(e,!!o,n,!1):a!=null&&se(e,!!o,a,!0);return;case"textarea":Xt("invalid",e),d=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ge(e,n,_,T,a,null)}Ni(e,o,f,d),Aa(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ge(e,n,D,o,a,null)}return;case"dialog":Xt("cancel",e),Xt("close",e);break;case"iframe":case"object":Xt("load",e);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Xt(Jl[o],e);break;case"image":Xt("error",e),Xt("load",e);break;case"details":Xt("toggle",e);break;case"embed":case"source":case"link":Xt("error",e),Xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ge(e,n,P,o,a,null)}return;default:if(pl(n)){for(W in a)a.hasOwnProperty(W)&&(o=a[W],o!==void 0&&kh(e,n,W,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&ge(e,n,T,o,a,null))}function GT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,D=null,P=null,W=null;for(Z in a){var it=a[Z];if(a.hasOwnProperty(Z)&&it!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":D=it;default:o.hasOwnProperty(Z)||ge(e,n,Z,null,o,it)}}for(var G in o){var Z=o[G];if(it=a[G],o.hasOwnProperty(G)&&(Z!=null||it!=null))switch(G){case"type":d=Z;break;case"name":f=Z;break;case"checked":P=Z;break;case"defaultChecked":W=Z;break;case"value":_=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Z!==it&&ge(e,n,G,Z,o,it)}}xi(e,_,T,D,P,W,d,f);return;case"select":Z=_=T=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Z=D;default:o.hasOwnProperty(d)||ge(e,n,d,null,o,D)}for(f in o)if(d=o[f],D=a[f],o.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&ge(e,n,f,d,o,D)}n=T,a=_,o=Z,G!=null?se(e,!!a,G,!1):!!o!=!!a&&(n!=null?se(e,!!a,n,!0):se(e,!!a,a?[]:"",!1));return;case"textarea":Z=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ge(e,n,T,null,o,f)}for(_ in o)if(f=o[_],d=a[_],o.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ge(e,n,_,f,o,d)}Sa(e,G,Z);return;case"option":for(var wt in a)if(G=a[wt],a.hasOwnProperty(wt)&&G!=null&&!o.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:ge(e,n,wt,null,o,G)}for(D in o)if(G=o[D],Z=a[D],o.hasOwnProperty(D)&&G!==Z&&(G!=null||Z!=null))switch(D){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ge(e,n,D,G,o,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in a)G=a[Ut],a.hasOwnProperty(Ut)&&G!=null&&!o.hasOwnProperty(Ut)&&ge(e,n,Ut,null,o,G);for(P in o)if(G=o[P],Z=a[P],o.hasOwnProperty(P)&&G!==Z&&(G!=null||Z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:ge(e,n,P,G,o,Z)}return;default:if(pl(n)){for(var Ne in a)G=a[Ne],a.hasOwnProperty(Ne)&&G!==void 0&&!o.hasOwnProperty(Ne)&&kh(e,n,Ne,void 0,o,G);for(W in o)G=o[W],Z=a[W],!o.hasOwnProperty(W)||G===Z||G===void 0&&Z===void 0||kh(e,n,W,G,o,Z);return}}for(var q in a)G=a[q],a.hasOwnProperty(q)&&G!=null&&!o.hasOwnProperty(q)&&ge(e,n,q,null,o,G);for(it in o)G=o[it],Z=a[it],!o.hasOwnProperty(it)||G===Z||G==null&&Z==null||ge(e,n,it,G,o,Z)}var Bh=null,jh=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function Ay(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function QT(){var e=window.event;return e&&e.type==="popstate"?e===Hh?!1:(Hh=e,!0):(Hh=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(e){return wy.resolve(null).then(e).catch($T)}:Sy;function $T(e){setTimeout(function(){throw e})}function Fh(e,n){var a=n,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(o===0){e.removeChild(f),oo(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=f}while(a);oo(n)}function Gh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gh(a),zn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function XT(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Sn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Er(e.nextSibling),e===null)break}return null}function ZT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Er(e.nextSibling),e===null))return null;return e}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function Ry(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Cy(e,n,a){switch(n=Qu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var cr=new Map,Dy=new Set;function Yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ei=ht.d;ht.d={f:WT,r:JT,D:tA,C:eA,L:nA,m:rA,X:aA,S:iA,M:sA};function WT(){var e=Ei.f(),n=ku();return e||n}function JT(e){var n=ze(e);n!==null&&n.tag===5&&n.type==="form"?ep(n):Ei.r(e)}var Fs=typeof document>"u"?null:document;function Vy(e,n,a){var o=Fs;if(o&&typeof n=="string"&&n){var f=Ve(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Dy.has(f)||(Dy.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),hn(n,"link",e),ue(n),o.head.appendChild(n)))}}function tA(e){Ei.D(e),Vy("dns-prefetch",e,null)}function eA(e,n){Ei.C(e,n),Vy("preconnect",e,n)}function nA(e,n,a){Ei.L(e,n,a);var o=Fs;if(o&&e&&n){var f='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ve(a.imageSizes)+'"]')):f+='[href="'+Ve(e)+'"]';var d=f;switch(n){case"style":d=Gs(e);break;case"script":d=Qs(e)}cr.has(d)||(e=V({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),cr.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(eo(d))||n==="script"&&o.querySelector(no(d))||(n=o.createElement("link"),hn(n,"link",e),ue(n),o.head.appendChild(n)))}}function rA(e,n){Ei.m(e,n);var a=Fs;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ve(o)+'"][href="'+Ve(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qs(e)}if(!cr.has(d)&&(e=V({rel:"modulepreload",href:e},n),cr.set(d,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(no(d)))return}o=a.createElement("link"),hn(o,"link",e),ue(o),a.head.appendChild(o)}}}function iA(e,n,a){Ei.S(e,n,a);var o=Fs;if(o&&e){var f=xn(o).hoistableStyles,d=Gs(e);n=n||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(eo(d)))T.loading=5;else{e=V({rel:"stylesheet",href:e,"data-precedence":n},a),(a=cr.get(d))&&Qh(e,a);var D=_=o.createElement("link");ue(D),hn(D,"link",e),D._p=new Promise(function(P,W){D.onload=P,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function aA(e,n){Ei.X(e,n);var a=Fs;if(a&&e){var o=xn(a).hoistableScripts,f=Qs(e),d=o.get(f);d||(d=a.querySelector(no(f)),d||(e=V({src:e,async:!0},n),(n=cr.get(f))&&Yh(e,n),d=a.createElement("script"),ue(d),hn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function sA(e,n){Ei.M(e,n);var a=Fs;if(a&&e){var o=xn(a).hoistableScripts,f=Qs(e),d=o.get(f);d||(d=a.querySelector(no(f)),d||(e=V({src:e,async:!0,type:"module"},n),(n=cr.get(f))&&Yh(e,n),d=a.createElement("script"),ue(d),hn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function My(e,n,a,o){var f=(f=Pe.current)?Yu(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Gs(a.href),a=xn(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Gs(a.href);var d=xn(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(eo(e)))&&!d._p&&(_.instance=d,_.state.loading=5),cr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cr.set(e,a),d||lA(f,e,a,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qs(a),a=xn(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gs(e){return'href="'+Ve(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function xy(e){return V({},e,{"data-precedence":e.precedence,precedence:null})}function lA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),hn(n,"link",a),ue(n),e.head.appendChild(n))}function Qs(e){return'[src="'+Ve(e)+'"]'}function no(e){return"script[async]"+e}function Ny(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ve(a.href)+'"]');if(o)return n.instance=o,ue(o),o;var f=V({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),hn(o,"style",f),Ku(o,a.precedence,e),n.instance=o;case"stylesheet":f=Gs(a.href);var d=e.querySelector(eo(f));if(d)return n.state.loading|=4,n.instance=d,ue(d),d;o=xy(a),(f=cr.get(f))&&Qh(o,f),d=(e.ownerDocument||e).createElement("link"),ue(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),hn(d,"link",o),n.state.loading|=4,Ku(d,a.precedence,e),n.instance=d;case"script":return d=Qs(a.src),(f=e.querySelector(no(d)))?(n.instance=f,ue(f),f):(o=a,(f=cr.get(d))&&(o=V({},a),Yh(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),ue(f),hn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ku(o,a.precedence,e));return n.instance}function Ku(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $u=null;function Iy(e,n,a){if($u===null){var o=new Map,f=$u=new Map;f.set(a,o)}else f=$u,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Sn]||d[yt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function Oy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function oA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ly(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ro=null;function uA(){}function cA(e,n,a){if(ro===null)throw Error(s(475));var o=ro;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Gs(a.href),d=e.querySelector(eo(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Xu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,ue(d);return}d=e.ownerDocument||e,a=xy(a),(f=cr.get(f))&&Qh(a,f),d=d.createElement("link"),ue(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),hn(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Xu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function fA(){if(ro===null)throw Error(s(475));var e=ro;return e.stylesheets&&e.count===0&&Kh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function Kh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,n.forEach(hA,e),Zu=null,Xu.call(e))}function hA(e,n){if(!(n.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=n.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,f),a.set(_,f),this.count++,o=Xu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var io={$$typeof:C,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function dA(e,n,a,o,f,d,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Q(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q(0),this.hiddenUpdates=Q(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Uy(e,n,a,o,f,d,_,T,D,P,W,it){return e=new dA(e,n,a,_,T,D,P,it),n=1,d===!0&&(n|=24),d=or(3,null,null,n),e.current=d,d.stateNode=e,n=Rf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},sh(d),e}function Py(e){return e?(e=Ss,e):Ss}function zy(e,n,a,o,f,d){f=Py(f),o.context===null?o.context=f:o.pendingContext=f,o=ji(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=qi(e,o,n),a!==null&&(Dn(a,e,n),jl(a,e,n))}function ky(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function $h(e,n){ky(e,n),(e=e.alternate)&&ky(e,n)}function By(e){if(e.tag===13){var n=Oi(e,67108864);n!==null&&Dn(n,e,67108864),$h(e,67108864)}}var Wu=!0;function mA(e,n,a,o){var f=S.T;S.T=null;var d=ht.p;try{ht.p=2,Xh(e,n,a,o)}finally{ht.p=d,S.T=f}}function gA(e,n,a,o){var f=S.T;S.T=null;var d=ht.p;try{ht.p=8,Xh(e,n,a,o)}finally{ht.p=d,S.T=f}}function Xh(e,n,a,o){if(Wu){var f=Zh(o);if(f===null)zh(e,n,o,Ju,a),qy(e,o);else if(yA(f,e,n,a,o))o.stopPropagation();else if(qy(e,o),n&4&&-1<pA.indexOf(e)){for(;f!==null;){var d=ze(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Je(_);T.entanglements[1]|=D,_&=~D}jr(d),(Re&6)===0&&(Uu=Ze()+500,Wl(0))}}break;case 13:T=Oi(d,2),T!==null&&Dn(T,d,2),ku(),$h(d,2)}if(d=Zh(o),d===null&&zh(e,n,o,Ju,a),d===f)break;f=d}f!==null&&o.stopPropagation()}else zh(e,n,o,null,a)}}function Zh(e){return e=hs(e),Wh(e)}var Ju=null;function Wh(e){if(Ju=null,e=Oe(e),e!==null){var n=At(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=Bt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ju=e,null}function jy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case de:return 2;case Ie:return 8;case Pn:case ls:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var Jh=!1,$i=null,Xi=null,Zi=null,ao=new Map,so=new Map,Wi=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(e,n){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function lo(e,n,a,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=ze(n),n!==null&&By(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function yA(e,n,a,o,f){switch(n){case"focusin":return $i=lo($i,e,n,a,o,f),!0;case"dragenter":return Xi=lo(Xi,e,n,a,o,f),!0;case"mouseover":return Zi=lo(Zi,e,n,a,o,f),!0;case"pointerover":var d=f.pointerId;return ao.set(d,lo(ao.get(d)||null,e,n,a,o,f)),!0;case"gotpointercapture":return d=f.pointerId,so.set(d,lo(so.get(d)||null,e,n,a,o,f)),!0}return!1}function Hy(e){var n=Oe(e.target);if(n!==null){var a=At(n);if(a!==null){if(n=a.tag,n===13){if(n=Bt(a),n!==null){e.blockedOn=n,ft(e.priority,function(){if(a.tag===13){var o=Hn(),f=Oi(a,o);f!==null&&Dn(f,a,o),$h(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Zh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Wn=o,a.target.dispatchEvent(o),Wn=null}else return n=ze(a),n!==null&&By(n),e.blockedOn=a,!1;n.shift()}return!0}function Fy(e,n,a){tc(e)&&a.delete(n)}function vA(){Jh=!1,$i!==null&&tc($i)&&($i=null),Xi!==null&&tc(Xi)&&(Xi=null),Zi!==null&&tc(Zi)&&(Zi=null),ao.forEach(Fy),so.forEach(Fy)}function ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Jh||(Jh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vA)))}var nc=null;function Gy(e){nc!==e&&(nc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Wh(o||a)===null)continue;break}var d=ze(a);d!==null&&(e.splice(n,3),n-=3,qf(d,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function oo(e){function n(D){return ec(D,e)}$i!==null&&ec($i,e),Xi!==null&&ec(Xi,e),Zi!==null&&ec(Zi,e),ao.forEach(n),so.forEach(n);for(var a=0;a<Wi.length;a++){var o=Wi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)Hy(a),a.blockedOn===null&&Wi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],d=a[o+1],_=f[xt]||null;if(typeof d=="function")_||Gy(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[xt]||null)T=_.formAction;else if(Wh(f)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Gy(a)}}}function td(e){this._internalRoot=e}rc.prototype.render=td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Hn();zy(a,o,e,n,null,null)},rc.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&js(),zy(e.current,2,null,e,null,null),ku(),n[ae]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=St();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Wi.length&&n!==0&&n<Wi[a].priority;a++);Wi.splice(a,0,e),a===0&&Hy(e)}};var Qy=t.version;if(Qy!=="19.0.0")throw Error(s(527,Qy,"19.0.0"));ht.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=at(n),e=e!==null?mt(e):null,e=e===null?null:e.stateNode,e};var _A={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Oe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{mr=ic.inject(_A),We=ic}catch{}}return co.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",f=up,d=cp,_=fp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Uy(e,1,!1,null,null,a,o,f,d,_,T,null),e[ae]=n.current,Ph(e.nodeType===8?e.parentNode:e),new td(n)},co.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,f="",d=up,_=cp,T=fp,D=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=Uy(e,1,!0,n,a??null,o,f,d,_,T,D,P),n.context=Py(null),a=n.current,o=Hn(),f=ji(o),f.callback=null,qi(a,f,o),n.current.lanes=o,tt(n,o),jr(n),e[ae]=n.current,Ph(e),new rc(n)},co.version="19.0.0",co}var nv;function MA(){if(nv)return rd.exports;nv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),rd.exports=VA(),rd.exports}var xA=MA();function Td({children:i,onClick:t,className:r}){const[s,l]=K.useState(!1),u=async()=>{l(!0),await t(),l(!1)};return Et.jsx("button",{onClick:u,type:"button",className:`text-white flex justify-center items-center bg-blue-500 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 ${r} `,children:s?H_:i})}const H_=Et.jsxs("div",{role:"status",children:[Et.jsxs("svg",{"aria-hidden":"true",className:"size-5 text-gray-200 animate-spin fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Et.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),Et.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),Et.jsx("span",{className:"sr-only",children:"Loading..."})]}),NA=()=>{};var rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=function(i){const t=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},IA=function(i){const t=[];let r=0,s=0;for(;r<i.length;){const l=i[r++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],h=i[r++],m=i[r++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],h=i[r++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,C=y&63;g||(C=64,h||(R=64)),s.push(r[E],r[b],r[R],r[C])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(F_(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):IA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const b=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new OA;const R=u<<2|m>>4;if(s.push(R),y!==64){const C=m<<4&240|y>>2;if(s.push(C),b!==64){const O=y<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(i){const t=F_(i);return G_.encodeByteArray(t,!0)},Tc=function(i){return LA(i).replace(/\./g,"")},UA=function(i){try{return G_.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=()=>PA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof rv>"u")return;const i=rv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&UA(i[1]);return t&&JSON.parse(t)},$d=()=>{try{return NA()||zA()||kA()||BA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jA=i=>{var t,r;return(r=(t=$d())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},qA=i=>{const t=jA(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},Q_=()=>{var i;return(i=$d())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HA=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Tc(JSON.stringify(r)),Tc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QA(){var i;const t=(i=$d())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YA(){return!QA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((i,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class ol extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=XA,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y_.prototype.create)}}class Y_{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?ZA(u,s):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new ol(l,m,s)}}function ZA(i,t){return i.replace(WA,(r,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const WA=/\{\$([^}]+)}/g;function Ac(i,t){if(i===t)return!0;const r=Object.keys(i),s=Object.keys(t);for(const l of r){if(!s.includes(l))return!1;const u=i[l],h=t[l];if(iv(u)&&iv(h)){if(!Ac(u,h))return!1}else if(u!==h)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function iv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i){return i&&i._delegate?i._delegate:i}class Ro{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new HA;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eb(t))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xa){return this.instances.has(t)}getOptions(t=Xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(l)}return l}onInit(t,r){var s;const l=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tb(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xa){return this.component?this.component.multipleInstances?t:Xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tb(i){return i===Xa?void 0:i}function eb(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new JA(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(re||(re={}));const rb={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},ib=re.INFO,ab={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},sb=(i,t,...r)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),l=ab[t];if(l)console[l](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class K_{constructor(t){this.name=t,this._logLevel=ib,this._logHandler=sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const lb=(i,t)=>t.some(r=>i instanceof r);let av,sv;function ob(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ub(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,Ad=new WeakMap,X_=new WeakMap,ld=new WeakMap,Xd=new WeakMap;function cb(i){const t=new Promise((r,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(ra(i.result)),l()},h=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&$_.set(r,i)}).catch(()=>{}),Xd.set(t,i),t}function fb(i){if(Ad.has(i))return;const t=new Promise((r,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),l()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Ad.set(i,t)}let bd={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Ad.get(i);if(t==="objectStoreNames")return i.objectStoreNames||X_.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ra(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function hb(i){bd=i(bd)}function db(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=i.call(od(this),t,...r);return X_.set(s,t.sort?t.sort():[t]),ra(s)}:ub().includes(i)?function(...t){return i.apply(od(this),t),ra($_.get(this))}:function(...t){return ra(i.apply(od(this),t))}}function mb(i){return typeof i=="function"?db(i):(i instanceof IDBTransaction&&fb(i),lb(i,ob())?new Proxy(i,bd):i)}function ra(i){if(i instanceof IDBRequest)return cb(i);if(ld.has(i))return ld.get(i);const t=mb(i);return t!==i&&(ld.set(i,t),Xd.set(t,i)),t}const od=i=>Xd.get(i);function gb(i,t,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const h=indexedDB.open(i,t),m=ra(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ra(h.result),g.oldVersion,g.newVersion,ra(h.transaction),g)}),r&&h.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const pb=["get","getKey","getAll","getAllKeys","count"],yb=["put","add","delete","clear"],ud=new Map;function lv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(ud.get(t))return ud.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,l=yb.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||pb.includes(r)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&g.done]))[0]};return ud.set(t,u),u}hb(i=>({...i,get:(t,r,s)=>lv(t,r)||i.get(t,r,s),has:(t,r)=>!!lv(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_b(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function _b(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sd="@firebase/app",ov="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new K_("@firebase/app"),Eb="@firebase/app-compat",Tb="@firebase/analytics-compat",Ab="@firebase/analytics",bb="@firebase/app-check-compat",Sb="@firebase/app-check",wb="@firebase/auth",Rb="@firebase/auth-compat",Cb="@firebase/database",Db="@firebase/data-connect",Vb="@firebase/database-compat",Mb="@firebase/functions",xb="@firebase/functions-compat",Nb="@firebase/installations",Ib="@firebase/installations-compat",Ob="@firebase/messaging",Lb="@firebase/messaging-compat",Ub="@firebase/performance",Pb="@firebase/performance-compat",zb="@firebase/remote-config",kb="@firebase/remote-config-compat",Bb="@firebase/storage",jb="@firebase/storage-compat",qb="@firebase/firestore",Hb="@firebase/vertexai",Fb="@firebase/firestore-compat",Gb="firebase",Qb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",Yb={[Sd]:"fire-core",[Eb]:"fire-core-compat",[Ab]:"fire-analytics",[Tb]:"fire-analytics-compat",[Sb]:"fire-app-check",[bb]:"fire-app-check-compat",[wb]:"fire-auth",[Rb]:"fire-auth-compat",[Cb]:"fire-rtdb",[Db]:"fire-data-connect",[Vb]:"fire-rtdb-compat",[Mb]:"fire-fn",[xb]:"fire-fn-compat",[Nb]:"fire-iid",[Ib]:"fire-iid-compat",[Ob]:"fire-fcm",[Lb]:"fire-fcm-compat",[Ub]:"fire-perf",[Pb]:"fire-perf-compat",[zb]:"fire-rc",[kb]:"fire-rc-compat",[Bb]:"fire-gcs",[jb]:"fire-gcs-compat",[qb]:"fire-fst",[Fb]:"fire-fst-compat",[Hb]:"fire-vertex","fire-js":"fire-js",[Gb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,Kb=new Map,Rd=new Map;function uv(i,t){try{i.container.addComponent(t)}catch(r){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Sc(i){const t=i.name;if(Rd.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;Rd.set(t,i);for(const r of bc.values())uv(r,i);for(const r of Kb.values())uv(r,i);return!0}function $b(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function Xb(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new Y_("app","Firebase",Zb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=Qb;function Z_(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:wd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw ia.create("bad-app-name",{appName:String(l)});if(r||(r=Q_()),!r)throw ia.create("no-options");const u=bc.get(l);if(u){if(Ac(r,u.options)&&Ac(s,u.config))return u;throw ia.create("duplicate-app",{appName:l})}const h=new nb(l);for(const g of Rd.values())h.addComponent(g);const m=new Wb(r,s,h);return bc.set(l,m),m}function tS(i=wd){const t=bc.get(i);if(!t&&i===wd&&Q_())return Z_();if(!t)throw ia.create("no-app",{appName:i});return t}function Ws(i,t,r){var s;let l=(s=Yb[i])!==null&&s!==void 0?s:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(m.join(" "));return}Sc(new Ro(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebase-heartbeat-database",nS=1,Co="firebase-heartbeat-store";let cd=null;function W_(){return cd||(cd=gb(eS,nS,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Co)}catch(r){console.warn(r)}}}}).catch(i=>{throw ia.create("idb-open",{originalErrorMessage:i.message})})),cd}async function rS(i){try{const r=(await W_()).transaction(Co),s=await r.objectStore(Co).get(J_(i));return await r.done,s}catch(t){if(t instanceof ol)Ti.warn(t.message);else{const r=ia.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(r.message)}}}async function cv(i,t){try{const s=(await W_()).transaction(Co,"readwrite");await s.objectStore(Co).put(t,J_(i)),await s.done}catch(r){if(r instanceof ol)Ti.warn(r.message);else{const s=ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ti.warn(s.message)}}}function J_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1024,aS=30;class sS{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new oS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=fv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>aS){const h=uS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ti.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fv(),{heartbeatsToSend:s,unsentEntries:l}=lS(this._heartbeatsCache.heartbeats),u=Tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ti.warn(r),""}}}function fv(){return new Date().toISOString().substring(0,10)}function lS(i,t=iS){const r=[];let s=i.slice();for(const l of i){const u=r.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),hv(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),hv(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class oS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await rS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return cv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return cv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function hv(i){return Tc(JSON.stringify({version:2,heartbeats:i})).length}function uS(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(i){Sc(new Ro("platform-logger",t=>new vb(t),"PRIVATE")),Sc(new Ro("heartbeat",t=>new sS(t),"PRIVATE")),Ws(Sd,ov,i),Ws(Sd,ov,"esm2017"),Ws("fire-js","")}cS("");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,t0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function S(){}S.prototype=w.prototype,N.D=w.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(V,L,j){for(var M=Array(arguments.length-2),be=2;be<arguments.length;be++)M[be-2]=arguments[be];return w.prototype[L].apply(V,M)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,S){S||(S=0);var V=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)V[L]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(L=0;16>L;++L)V[L]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=N.g[0],S=N.g[1],L=N.g[2];var j=N.g[3],M=w+(j^S&(L^j))+V[0]+3614090360&4294967295;w=S+(M<<7&4294967295|M>>>25),M=j+(L^w&(S^L))+V[1]+3905402710&4294967295,j=w+(M<<12&4294967295|M>>>20),M=L+(S^j&(w^S))+V[2]+606105819&4294967295,L=j+(M<<17&4294967295|M>>>15),M=S+(w^L&(j^w))+V[3]+3250441966&4294967295,S=L+(M<<22&4294967295|M>>>10),M=w+(j^S&(L^j))+V[4]+4118548399&4294967295,w=S+(M<<7&4294967295|M>>>25),M=j+(L^w&(S^L))+V[5]+1200080426&4294967295,j=w+(M<<12&4294967295|M>>>20),M=L+(S^j&(w^S))+V[6]+2821735955&4294967295,L=j+(M<<17&4294967295|M>>>15),M=S+(w^L&(j^w))+V[7]+4249261313&4294967295,S=L+(M<<22&4294967295|M>>>10),M=w+(j^S&(L^j))+V[8]+1770035416&4294967295,w=S+(M<<7&4294967295|M>>>25),M=j+(L^w&(S^L))+V[9]+2336552879&4294967295,j=w+(M<<12&4294967295|M>>>20),M=L+(S^j&(w^S))+V[10]+4294925233&4294967295,L=j+(M<<17&4294967295|M>>>15),M=S+(w^L&(j^w))+V[11]+2304563134&4294967295,S=L+(M<<22&4294967295|M>>>10),M=w+(j^S&(L^j))+V[12]+1804603682&4294967295,w=S+(M<<7&4294967295|M>>>25),M=j+(L^w&(S^L))+V[13]+4254626195&4294967295,j=w+(M<<12&4294967295|M>>>20),M=L+(S^j&(w^S))+V[14]+2792965006&4294967295,L=j+(M<<17&4294967295|M>>>15),M=S+(w^L&(j^w))+V[15]+1236535329&4294967295,S=L+(M<<22&4294967295|M>>>10),M=w+(L^j&(S^L))+V[1]+4129170786&4294967295,w=S+(M<<5&4294967295|M>>>27),M=j+(S^L&(w^S))+V[6]+3225465664&4294967295,j=w+(M<<9&4294967295|M>>>23),M=L+(w^S&(j^w))+V[11]+643717713&4294967295,L=j+(M<<14&4294967295|M>>>18),M=S+(j^w&(L^j))+V[0]+3921069994&4294967295,S=L+(M<<20&4294967295|M>>>12),M=w+(L^j&(S^L))+V[5]+3593408605&4294967295,w=S+(M<<5&4294967295|M>>>27),M=j+(S^L&(w^S))+V[10]+38016083&4294967295,j=w+(M<<9&4294967295|M>>>23),M=L+(w^S&(j^w))+V[15]+3634488961&4294967295,L=j+(M<<14&4294967295|M>>>18),M=S+(j^w&(L^j))+V[4]+3889429448&4294967295,S=L+(M<<20&4294967295|M>>>12),M=w+(L^j&(S^L))+V[9]+568446438&4294967295,w=S+(M<<5&4294967295|M>>>27),M=j+(S^L&(w^S))+V[14]+3275163606&4294967295,j=w+(M<<9&4294967295|M>>>23),M=L+(w^S&(j^w))+V[3]+4107603335&4294967295,L=j+(M<<14&4294967295|M>>>18),M=S+(j^w&(L^j))+V[8]+1163531501&4294967295,S=L+(M<<20&4294967295|M>>>12),M=w+(L^j&(S^L))+V[13]+2850285829&4294967295,w=S+(M<<5&4294967295|M>>>27),M=j+(S^L&(w^S))+V[2]+4243563512&4294967295,j=w+(M<<9&4294967295|M>>>23),M=L+(w^S&(j^w))+V[7]+1735328473&4294967295,L=j+(M<<14&4294967295|M>>>18),M=S+(j^w&(L^j))+V[12]+2368359562&4294967295,S=L+(M<<20&4294967295|M>>>12),M=w+(S^L^j)+V[5]+4294588738&4294967295,w=S+(M<<4&4294967295|M>>>28),M=j+(w^S^L)+V[8]+2272392833&4294967295,j=w+(M<<11&4294967295|M>>>21),M=L+(j^w^S)+V[11]+1839030562&4294967295,L=j+(M<<16&4294967295|M>>>16),M=S+(L^j^w)+V[14]+4259657740&4294967295,S=L+(M<<23&4294967295|M>>>9),M=w+(S^L^j)+V[1]+2763975236&4294967295,w=S+(M<<4&4294967295|M>>>28),M=j+(w^S^L)+V[4]+1272893353&4294967295,j=w+(M<<11&4294967295|M>>>21),M=L+(j^w^S)+V[7]+4139469664&4294967295,L=j+(M<<16&4294967295|M>>>16),M=S+(L^j^w)+V[10]+3200236656&4294967295,S=L+(M<<23&4294967295|M>>>9),M=w+(S^L^j)+V[13]+681279174&4294967295,w=S+(M<<4&4294967295|M>>>28),M=j+(w^S^L)+V[0]+3936430074&4294967295,j=w+(M<<11&4294967295|M>>>21),M=L+(j^w^S)+V[3]+3572445317&4294967295,L=j+(M<<16&4294967295|M>>>16),M=S+(L^j^w)+V[6]+76029189&4294967295,S=L+(M<<23&4294967295|M>>>9),M=w+(S^L^j)+V[9]+3654602809&4294967295,w=S+(M<<4&4294967295|M>>>28),M=j+(w^S^L)+V[12]+3873151461&4294967295,j=w+(M<<11&4294967295|M>>>21),M=L+(j^w^S)+V[15]+530742520&4294967295,L=j+(M<<16&4294967295|M>>>16),M=S+(L^j^w)+V[2]+3299628645&4294967295,S=L+(M<<23&4294967295|M>>>9),M=w+(L^(S|~j))+V[0]+4096336452&4294967295,w=S+(M<<6&4294967295|M>>>26),M=j+(S^(w|~L))+V[7]+1126891415&4294967295,j=w+(M<<10&4294967295|M>>>22),M=L+(w^(j|~S))+V[14]+2878612391&4294967295,L=j+(M<<15&4294967295|M>>>17),M=S+(j^(L|~w))+V[5]+4237533241&4294967295,S=L+(M<<21&4294967295|M>>>11),M=w+(L^(S|~j))+V[12]+1700485571&4294967295,w=S+(M<<6&4294967295|M>>>26),M=j+(S^(w|~L))+V[3]+2399980690&4294967295,j=w+(M<<10&4294967295|M>>>22),M=L+(w^(j|~S))+V[10]+4293915773&4294967295,L=j+(M<<15&4294967295|M>>>17),M=S+(j^(L|~w))+V[1]+2240044497&4294967295,S=L+(M<<21&4294967295|M>>>11),M=w+(L^(S|~j))+V[8]+1873313359&4294967295,w=S+(M<<6&4294967295|M>>>26),M=j+(S^(w|~L))+V[15]+4264355552&4294967295,j=w+(M<<10&4294967295|M>>>22),M=L+(w^(j|~S))+V[6]+2734768916&4294967295,L=j+(M<<15&4294967295|M>>>17),M=S+(j^(L|~w))+V[13]+1309151649&4294967295,S=L+(M<<21&4294967295|M>>>11),M=w+(L^(S|~j))+V[4]+4149444226&4294967295,w=S+(M<<6&4294967295|M>>>26),M=j+(S^(w|~L))+V[11]+3174756917&4294967295,j=w+(M<<10&4294967295|M>>>22),M=L+(w^(j|~S))+V[2]+718787259&4294967295,L=j+(M<<15&4294967295|M>>>17),M=S+(j^(L|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var S=w-this.blockSize,V=this.B,L=this.h,j=0;j<w;){if(L==0)for(;j<=S;)l(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<w;)if(V[L++]=N.charCodeAt(j++),L==this.blockSize){l(this,V),L=0;break}}else for(;j<w;)if(V[L++]=N[j++],L==this.blockSize){l(this,V),L=0;break}}this.h=L,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var S=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=S&255,S/=256;for(this.u(N),N=Array(16),w=S=0;4>w;++w)for(var V=0;32>V;V+=8)N[S++]=this.g[w]>>>V&255;return N};function u(N,w){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=w(N)}function h(N,w){this.h=w;for(var S=[],V=!0,L=N.length-1;0<=L;L--){var j=N[L]|0;V&&j==w||(S[L]=j,V=!1)}this.g=S}var m={};function g(N){return-128<=N&&128>N?u(N,function(w){return new h([w|0],0>w?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return k(y(-N));for(var w=[],S=1,V=0;N>=S;V++)w[V]=N/S|0,S*=4294967296;return new h(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return k(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),V=b,L=0;L<N.length;L+=8){var j=Math.min(8,N.length-L),M=parseInt(N.substring(L,L+j),w);8>j?(j=y(Math.pow(w,j)),V=V.j(j).add(y(M))):(V=V.j(S),V=V.add(y(M)))}return V}var b=g(0),R=g(1),C=g(16777216);i=h.prototype,i.m=function(){if(Y(this))return-k(this).m();for(var N=0,w=1,S=0;S<this.g.length;S++){var V=this.i(S);N+=(0<=V?V:4294967296+V)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(Y(this))return"-"+k(this).toString(N);for(var w=y(Math.pow(N,6)),S=this,V="";;){var L=Tt(S,w).g;S=X(S,L.j(w));var j=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=L,O(S))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Y(N){return N.h==-1}i.l=function(N){return N=X(this,N),Y(N)?-1:O(N)?0:1};function k(N){for(var w=N.g.length,S=[],V=0;V<w;V++)S[V]=~N.g[V];return new h(S,~N.h).add(R)}i.abs=function(){return Y(this)?k(this):this},i.add=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],V=0,L=0;L<=w;L++){var j=V+(this.i(L)&65535)+(N.i(L)&65535),M=(j>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);V=M>>>16,j&=65535,M&=65535,S[L]=M<<16|j}return new h(S,S[S.length-1]&-2147483648?-1:0)};function X(N,w){return N.add(k(w))}i.j=function(N){if(O(this)||O(N))return b;if(Y(this))return Y(N)?k(this).j(k(N)):k(k(this).j(N));if(Y(N))return k(this.j(k(N)));if(0>this.l(C)&&0>N.l(C))return y(this.m()*N.m());for(var w=this.g.length+N.g.length,S=[],V=0;V<2*w;V++)S[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<N.g.length;L++){var j=this.i(V)>>>16,M=this.i(V)&65535,be=N.i(L)>>>16,qt=N.i(L)&65535;S[2*V+2*L]+=M*qt,J(S,2*V+2*L),S[2*V+2*L+1]+=j*qt,J(S,2*V+2*L+1),S[2*V+2*L+1]+=M*be,J(S,2*V+2*L+1),S[2*V+2*L+2]+=j*be,J(S,2*V+2*L+2)}for(V=0;V<w;V++)S[V]=S[2*V+1]<<16|S[2*V];for(V=w;V<2*w;V++)S[V]=0;return new h(S,0)};function J(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function st(N,w){this.g=N,this.h=w}function Tt(N,w){if(O(w))throw Error("division by zero");if(O(N))return new st(b,b);if(Y(N))return w=Tt(k(N),w),new st(k(w.g),k(w.h));if(Y(w))return w=Tt(N,k(w)),new st(k(w.g),w.h);if(30<N.g.length){if(Y(N)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var S=R,V=w;0>=V.l(N);)S=z(S),V=z(V);var L=dt(S,1),j=dt(V,1);for(V=dt(V,2),S=dt(S,2);!O(V);){var M=j.add(V);0>=M.l(N)&&(L=L.add(S),j=M),V=dt(V,1),S=dt(S,1)}return w=X(N,L.j(w)),new st(L,w)}for(L=b;0<=N.l(w);){for(S=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(S)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=y(S),M=j.j(w);Y(M)||0<M.l(N);)S-=V,j=y(S),M=j.j(w);O(j)&&(j=R),L=L.add(j),N=X(N,M)}return new st(L,N)}i.A=function(N){return Tt(this,N).h},i.and=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],V=0;V<w;V++)S[V]=this.i(V)&N.i(V);return new h(S,this.h&N.h)},i.or=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],V=0;V<w;V++)S[V]=this.i(V)|N.i(V);return new h(S,this.h|N.h)},i.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),S=[],V=0;V<w;V++)S[V]=this.i(V)^N.i(V);return new h(S,this.h^N.h)};function z(N){for(var w=N.g.length+1,S=[],V=0;V<w;V++)S[V]=N.i(V)<<1|N.i(V-1)>>>31;return new h(S,N.h)}function dt(N,w){var S=w>>5;w%=32;for(var V=N.g.length-S,L=[],j=0;j<V;j++)L[j]=0<w?N.i(j+S)>>>w|N.i(j+S+1)<<32-w:N.i(j+S);return new h(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,t0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,aa=h}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,po,n0,hc,Cd,r0,i0,a0;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function l(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in v))break t;v=v[H]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,A=!1,H={next:function(){if(!A&&v<c.length){var $=v++;return{value:p($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function b(c,p,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(p,H)}}return function(){return c.apply(p,arguments)}}function R(c,p,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function C(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,H,$){for(var lt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)lt[Jt-2]=arguments[Jt];return p.prototype[H].apply(A,lt)}}function Y(c){const p=c.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function k(c,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const H=c.length||0,$=A.length||0;c.length=H+$;for(let lt=0;lt<$;lt++)c[H+lt]=A[lt]}else c.push(A)}}class X{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(c){return/^[\s\xa0]*$/.test(c)}function st(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Tt(c){return Tt[" "](c),c}Tt[" "]=function(){};var z=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function dt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function N(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,p){let v,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(v in A)c[v]=A[v];for(let $=0;$<S.length;$++)v=S[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function L(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function M(){var c=Bt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class be{constructor(){this.h=this.g=null}add(p,v){const A=qt.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var qt=new X(()=>new ot,c=>c.reset());class ot{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,At=!1,Bt=new be,I=()=>{const c=m.Promise.resolve(void 0);Vt=()=>{c.then(at)}};var at=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){j(v)}var p=qt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}At=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function It(c,p){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(z){t:{try{Tt(p.nodeName);var H=!0;break t}catch{}H=!1}H||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}O(It,ct);var zt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Gt(c,p,v,A,H){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=H,this.key=++Wt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xe(c){this.src=c,this.g={},this.h=0}Xe.prototype.add=function(c,p,v,A,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var lt=Pe(c,p,A,H);return-1<lt?(p=c[lt],v||(p.fa=!1)):(p=new Gt(p,this.src,$,!!A,H),p.fa=v,c.push(p)),p};function dr(c,p){var v=p.type;if(v in c.g){var A=c.g[v],H=Array.prototype.indexOf.call(A,p,void 0),$;($=0<=H)&&Array.prototype.splice.call(A,H,1),$&&(Kt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Pe(c,p,v,A){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==A)return H}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),wr={};function Qn(c,p,v,A,H){if(Array.isArray(p)){for(var $=0;$<p.length;$++)Qn(c,p[$],v,A,H);return null}return v=Un(v),c&&c[De]?c.K(p,v,y(A)?!!A.capture:!1,H):_a(c,p,v,!1,A,H)}function _a(c,p,v,A,H,$){if(!p)throw Error("Invalid event type");var lt=y(H)?!!H.capture:!!H,Jt=Ci(c);if(Jt||(c[Sr]=Jt=new Xe(c)),v=Jt.add(p,v,A,lt,$),v.proxy)return v;if(A=wi(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ht||(H=lt),H===void 0&&(H=!1),c.addEventListener(p.toString(),A,H);else if(c.attachEvent)c.attachEvent(Vn(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wi(){function c(v){return p.call(c.src,c.listener,v)}const p=Xr;return c}function Ri(c,p,v,A,H){if(Array.isArray(p))for(var $=0;$<p.length;$++)Ri(c,p[$],v,A,H);else A=y(A)?!!A.capture:!!A,v=Un(v),c&&c[De]?(c=c.i,p=String(p).toString(),p in c.g&&($=c.g[p],v=Pe($,v,A,H),-1<v&&(Kt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ci(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Pe(p,v,A,H)),(v=-1<c?p[c]:null)&&$r(v))}function $r(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[De])dr(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Vn(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Ci(p))?(dr(v,c),v.h==0&&(v.src=null,p[Sr]=null)):Kt(c)}}}function Vn(c){return c in wr?wr[c]:wr[c]="on"+c}function Xr(c,p){if(c.da)c=!0;else{p=new It(p,this);var v=c.listener,A=c.ha||c.src;c.fa&&$r(c),c=v.call(A,p)}return c}function Ci(c){return c=c[Sr],c instanceof Xe?c:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Un(c){return typeof c=="function"?c:(c[Ze]||(c[Ze]=function(p){return c.handleEvent(p)}),c[Ze])}function de(){mt.call(this),this.i=new Xe(this),this.M=this,this.F=null}O(de,mt),de.prototype[De]=!0,de.prototype.removeEventListener=function(c,p,v,A){Ri(this,c,p,v,A)};function Ie(c,p){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new ct(p,c);else if(p instanceof ct)p.target=p.target||c;else{var H=p;p=new ct(A,c),V(p,H)}if(H=!0,v)for(var $=v.length-1;0<=$;$--){var lt=p.g=v[$];H=Pn(lt,A,!0,p)&&H}if(lt=p.g=c,H=Pn(lt,A,!0,p)&&H,H=Pn(lt,A,!1,p)&&H,v)for($=0;$<v.length;$++)lt=p.g=v[$],H=Pn(lt,A,!1,p)&&H}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],A=0;A<v.length;A++)Kt(v[A]);delete c.g[p],c.h--}}this.F=null},de.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},de.prototype.L=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function Pn(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,$=0;$<p.length;++$){var lt=p[$];if(lt&&!lt.da&&lt.capture==v){var Jt=lt.listener,Fe=lt.ha||lt.src;lt.fa&&dr(c.i,lt),H=Jt.call(Fe,A)!==!1&&H}}return H&&!A.defaultPrevented}function ls(c,p,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Mn(c){c.g=ls(()=>{c.g=null,c.i&&(c.i=!1,Mn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class os extends mt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(c){mt.call(this),this.h=c,this.g={}}O(Rr,mt);var mr=[];function We(c){dt(c.g,function(p,v){this.g.hasOwnProperty(v)&&$r(p)},c),c.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),We(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=m.JSON.stringify,bn=m.JSON.parse,Je=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Zr(){}Zr.prototype.h=null;function us(c){return c.h||(c.h=c.i())}function Ea(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ct.call(this,"d")}O(gr,ct);function yn(){ct.call(this,"c")}O(yn,ct);var on={},Cr=null;function Vi(){return Cr=Cr||new de}on.La="serverreachability";function x(c){ct.call(this,on.La,c)}O(x,ct);function B(c){const p=Vi();Ie(p,new x(p))}on.STAT_EVENT="statevent";function Q(c,p){ct.call(this,on.STAT_EVENT,c),this.stat=p}O(Q,ct);function tt(c){const p=Vi();Ie(p,new Q(p,c))}on.Ma="timingevent";function ut(c,p){ct.call(this,on.Ma,c),this.size=p}O(ut,ct);function Ct(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Rt(){this.g=!0}Rt.prototype.xa=function(){this.g=!1};function bt(c,p,v,A,H,$){c.info(function(){if(c.g)if($)for(var lt="",Jt=$.split("&"),Fe=0;Fe<Jt.length;Fe++){var te=Jt[Fe].split("=");if(1<te.length){var nn=te[0];te=te[1];var Ge=nn.split("_");lt=2<=Ge.length&&Ge[1]=="type"?lt+(nn+"="+te+"&"):lt+(nn+"=redacted&")}}else lt=null;else lt=$;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+p+`
`+v+`
`+lt})}function St(c,p,v,A,H,$,lt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+p+`
`+v+`
`+$+" "+lt})}function ft(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+yt(c,v)+(A?" "+A:"")})}function pt(c,p){c.info(function(){return"TIMEOUT: "+p})}Rt.prototype.info=function(){};function yt(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var lt=1;lt<H.length;lt++)H[lt]=""}}}}return Di(v)}catch{return p}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Se;function pe(){}O(pe,Zr),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},Se=new pe;function ie(c,p,v,A){this.j=c,this.i=p,this.l=v,this.R=A||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Sn={},zn={};function Oe(c,p,v){c.L=1,c.v=Sa(Ve(p)),c.m=v,c.P=!0,ze(c,null)}function ze(c,p){c.F=Date.now(),ue(c),c.A=Ve(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),ei(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Te,c.g=iu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new os(R(c.Y,c,c.g),c.O)),p=c.U,v=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(mr[0]=H.toString()),H=mr);for(var $=0;$<H.length;$++){var lt=Qn(v,H[$],A||p.handleEvent,!1,p.h||p);if(!lt)break;p.g[lt.key]=lt}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),B(),bt(c.i,c.u,c.A,c.l,c.R,c.m)}ie.prototype.ca=function(c){c=c.target;const p=this.M;p&&tr(c)==3?p.j():this.Y(c)},ie.prototype.Y=function(c){try{if(c==this.g)t:{const Ge=tr(this.g);var p=this.g.Ba();const ai=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||Xo(this.g)))){this.J||Ge!=4||p==7||(p==8||0>=ai?B(3):B(2)),pr(this);var v=this.g.Z();this.X=v;e:if(Kn(this)){var A=Xo(this.g);c="";var H=A.length,$=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ce(this),jt(this);var lt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!($&&p==H-1)});A.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=v==200,St(this.i,this.u,this.A,this.l,this.R,Ge,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,Fe=this.g;if((Jt=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Jt)){var te=Jt;break e}}te=null}if(v=te)ft(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,v);else{this.o=!1,this.s=3,tt(12),ce(this),jt(this);break t}}if(this.P){v=!0;let un;for(;!this.J&&this.C<lt.length;)if(un=xn(this,lt),un==zn){Ge==4&&(this.s=4,tt(14),v=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Sn){this.s=4,tt(15),ft(this.i,this.l,lt,"[Invalid Chunk]"),v=!1;break}else ft(this.i,this.l,un,null),tn(this,un);if(Kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||lt.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)ft(this.i,this.l,lt,"[Invalid Chunked Response]"),ce(this),jt(this);else if(0<lt.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),xa(nn),nn.M=!0,tt(11))}}else ft(this.i,this.l,lt,null),tn(this,lt);Ge==4&&ce(this),this.o&&!this.J&&(Ge==4?eu(this.j,this):(this.o=!1,ue(this)))}else cf(this.g),v==400&&0<lt.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),ce(this),jt(this)}}}catch{}finally{}};function Kn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xn(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?zn:(v=Number(p.substring(v,A)),isNaN(v)?Sn:(A+=1,A+v>p.length?zn:(p=p.slice(A,A+v),c.C=A+v,p)))}ie.prototype.cancel=function(){this.J=!0,ce(this)};function ue(c){c.S=Date.now()+c.I,Dr(c,c.I)}function Dr(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ct(R(c.ba,c),p)}function pr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ie.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pt(this.i,this.A),this.L!=2&&(B(),tt(17)),ce(this),this.s=2,jt(this)):Dr(this,this.S-c)};function jt(c){c.j.G==0||c.J||eu(c.j,c)}function ce(c){pr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,We(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function tn(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Vr(v.h,c))){if(!c.K&&Vr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)_s(v),ys(v);else break t;Al(v),tt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ct(R(v.Za,v),6e3));if(1>=Ta(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((c.K||v.g==c)&&_s(v),!J(p))for(H=v.Da.g.parse(p),p=0;p<H.length;p++){let te=H[p];if(v.T=te[0],te=te[1],v.G==2)if(te[0]=="c"){v.K=te[1],v.ia=te[2];const nn=te[3];nn!=null&&(v.la=nn,v.j.info("VER="+v.la));const Ge=te[4];Ge!=null&&(v.Aa=Ge,v.j.info("SVER="+v.Aa));const ai=te[5];ai!=null&&typeof ai=="number"&&0<ai&&(A=1.5*ai,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const un=c.g;if(un){const Ur=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var $=A.h;$.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Mi($,$.h),$.h=null))}if(A.D){const Sl=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(A.ya=Sl,se(A.I,A.D,Sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var lt=c;if(A.qa=ru(A,A.J?A.ia:null,A.W),lt.K){Xn(A.h,lt);var Jt=lt,Fe=A.L;Fe&&(Jt.I=Fe),Jt.B&&(pr(Jt),ue(Jt)),A.g=lt}else Jo(A);0<v.i.length&&vs(v)}else te[0]!="stop"&&te[0]!="close"||ii(v,7);else v.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?ii(v,7):El(v):te[0]!="noop"&&v.l&&v.l.ta(te),v.v=0)}}B(4)}catch{}}var Wr=class{constructor(c,p){this.g=c,this.map=p}};function ve(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ta(c){return c.h?1:c.g?c.g.size:0}function Vr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Mi(c,p){c.g?c.g.add(p):c.h=p}function Xn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ve.prototype.cancel=function(){if(this.i=wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return Y(c.i)}function Qo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,A=0;A<v;A++)p.push(c[A]);return p}p=[],v=0;for(A in c)p[v++]=c[A];return p}function sf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const A in c)p[v++]=A;return p}}}function Aa(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=sf(c),A=Qo(c),H=A.length,$=0;$<H;$++)p.call(void 0,A[$],v&&v[$],c)}var ml=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cs(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),H=null;if(0<=A){var $=c[v].substring(0,A);H=c[v].substring(A+1)}else $=c[v];p($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,xi(this,c.j),this.o=c.o,this.g=c.g,ba(this,c.s),this.l=c.l;var p=c.i,v=new Mr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),fs(this,v),this.m=c.m}else c&&(p=String(c).match(ml))?(this.h=!1,xi(this,p[1]||"",!0),this.o=Ni(p[2]||""),this.g=Ni(p[3]||"",!0),ba(this,p[4]),this.l=Ni(p[5]||"",!0),fs(this,p[6]||"",!0),this.m=Ni(p[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}Jr.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Zn(p,gl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Zn(p,gl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Zn(v,v.charAt(0)=="/"?pl:Yo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Zn(v,uf)),c.join("")};function Ve(c){return new Jr(c)}function xi(c,p,v){c.j=v?Ni(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ba(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function fs(c,p,v){p instanceof Mr?(c.i=p,yl(c.i,c.h)):(v||(p=Zn(p,of)),c.i=new Mr(p,c.h))}function se(c,p,v){c.i.set(p,v)}function Sa(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ni(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,lf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gl=/[#\/\?@]/g,Yo=/[#\?:]/g,pl=/[#\?]/g,of=/[#\?@]/g,uf=/#/g;function Mr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Wn(c){c.g||(c.g=new Map,c.h=0,c.i&&cs(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Mr.prototype,i.add=function(c,p){Wn(this),this.i=null,c=ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function hs(c,p){Wn(c),p=ni(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ti(c,p){return Wn(c),p=ni(c,p),c.g.has(p)}i.forEach=function(c,p){Wn(this),this.g.forEach(function(v,A){v.forEach(function(H){c.call(p,H,A,this)},this)},this)},i.na=function(){Wn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const H=c[A];for(let $=0;$<H.length;$++)v.push(p[A])}return v},i.V=function(c){Wn(this);let p=[];if(typeof c=="string")ti(this,c)&&(p=p.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Wn(this),this.i=null,c=ni(this,c),ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ei(c,p,v){hs(c,p),0<v.length&&(c.i=null,c.g.set(ni(c,p),Y(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const $=encodeURIComponent(String(A)),lt=this.V(A);for(A=0;A<lt.length;A++){var H=$;lt[A]!==""&&(H+="="+encodeURIComponent(String(lt[A]))),c.push(H)}}return this.i=c.join("&")};function ni(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function yl(c,p){p&&!c.j&&(Wn(c),c.i=null,c.g.forEach(function(v,A){var H=A.toLowerCase();A!=H&&(hs(this,A),ei(this,H,v))},c)),c.j=p}function Ko(c,p){const v=new Rt;if(m.Image){const A=new Image;A.onload=C(Jn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=C(Jn,v,"TestLoadImage: error",!1,p,A),A.onabort=C(Jn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=C(Jn,v,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function wa(c,p){const v=new Rt,A=new AbortController,H=setTimeout(()=>{A.abort(),Jn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(H),$.ok?Jn(v,"TestPingServer: ok",!0,p):Jn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),Jn(v,"TestPingServer: error",!1,p)})}function Jn(c,p,v,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(v)}catch{}}function Ra(){this.g=new Je}function xr(c,p,v){const A=v||"";try{Aa(c,function(H,$){let lt=H;y(H)&&(lt=Di(H)),p.push(A+$+"="+encodeURIComponent(lt))})}catch(H){throw p.push(A+"type="+encodeURIComponent("_badmap")),H}}function Ii(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Ii,Zr),Ii.prototype.g=function(){return new ri(this.l,this.j)},Ii.prototype.i=function(c){return function(){return c}}({});function ri(c,p){de.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ri,de),i=ri.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ir(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Nr(this):Ir(this),this.readyState==3&&vl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},i.Qa=function(c){this.g&&(this.response=c,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ir(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _l(c){let p="";return dt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function en(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=_l(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):se(c,p,v))}function fe(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(fe,de);var ds=/^https?$/i,Ca=["POST","PUT"];i=fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Se.g(),this.v=this.o?us(this.o):us(Se),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch($){$o(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)v.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ca,p,void 0))||A||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,lt]of v)this.g.setRequestHeader($,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(c),this.u=!1}catch($){$o(this,$)}};function $o(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ms(c),Or(c)}function ms(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ie(this,"complete"),Ie(this,"abort"),Or(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?gs(this):this.bb())},i.bb=function(){gs(this)};function gs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)ls(c.Ea,0,c);else if(Ie(c,"readystatechange"),tr(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=lt===0){var H=String(c.D).match(ml)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),A=!ds.test(H?H.toLowerCase():"")}v=A}if(v)Ie(c,"complete"),Ie(c,"success");else{c.m=6;try{var $=2<tr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ms(c)}}finally{Or(c)}}}}function Or(c,p){if(c.g){Da(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ie(c,"ready");try{v.onreadystatechange=A}catch{}}}function Da(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),bn(p)}};function Xo(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cf(c){const p={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var v=L(c[A]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[H]||[];p[H]=$,$.push(v)}N(p,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ps(c){this.Aa=0,this.i=[],this.j=new Rt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,c),this.cb=Va("retryDelaySeedMs",1e4,c),this.Wa=Va("forwardChannelMaxRetries",2,c),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ve(c&&c.concurrentRequestLimit),this.Da=new Ra,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ps.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,A){tt(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=ru(this,null,this.W),vs(this)};function El(c){if(Zo(c),c.G==3){var p=c.U++,v=Ve(c.I);if(se(v,"SID",c.K),se(v,"RID",p),se(v,"TYPE","terminate"),Ma(c,v),p=new ie(c,c.j,p),p.L=2,p.v=Sa(Ve(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=iu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ue(p)}nu(c)}function ys(c){c.g&&(xa(c),c.g.cancel(),c.g=null)}function Zo(c){ys(c),c.u&&(m.clearTimeout(c.u),c.u=null),_s(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function vs(c){if(!$n(c.h)&&!c.s){c.s=!0;var p=c.Ga;Vt||I(),At||(Vt(),At=!0),Bt.add(p,c),c.B=0}}function ff(c,p){return Ta(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ct(R(c.Ga,c,p),bl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ie(this,this.j,c);let $=this.o;if(this.S&&($?($=w($),V($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Wo(this,H,p),v=Ve(this.I),se(v,"RID",c),se(v,"CVER",22),this.D&&se(v,"X-HTTP-Session-Id",this.D),Ma(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(_l($)))+"&"+p:this.m&&en(v,this.m,$)),Mi(this.h,H),this.Ua&&se(v,"TYPE","init"),this.P?(se(v,"$req",p),se(v,"SID","null"),H.T=!0,Oe(H,v,null)):Oe(H,v,p),this.G=2}}else this.G==3&&(c?Tl(this,c):this.i.length==0||$n(this.h)||Tl(this))};function Tl(c,p){var v;p?v=p.l:v=c.U++;const A=Ve(c.I);se(A,"SID",c.K),se(A,"RID",v),se(A,"AID",c.T),Ma(c,A),c.m&&c.o&&en(A,c.m,c.o),v=new ie(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Wo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mi(c.h,v),Oe(v,A,p)}function Ma(c,p){c.H&&dt(c.H,function(v,A){se(p,A,v)}),c.l&&Aa({},function(v,A){se(p,A,v)})}function Wo(c,p,v){v=Math.min(c.i.length,v);var A=c.l?R(c.l.Na,c.l,c):null;t:{var H=c.i;let $=-1;for(;;){const lt=["count="+v];$==-1?0<v?($=H[0].g,lt.push("ofs="+$)):$=0:lt.push("ofs="+$);let Jt=!0;for(let Fe=0;Fe<v;Fe++){let te=H[Fe].g;const nn=H[Fe].map;if(te-=$,0>te)$=Math.max(0,H[Fe].g-100),Jt=!1;else try{xr(nn,lt,"req"+te+"_")}catch{A&&A(nn)}}if(Jt){A=lt.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,A}function Jo(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Vt||I(),At||(Vt(),At=!0),Bt.add(p,c),c.v=0}}function Al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ct(R(c.Fa,c),bl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ct(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ys(this),tu(this))};function xa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function tu(c){c.g=new ie(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ve(c.qa);se(p,"RID","rpc"),se(p,"SID",c.K),se(p,"AID",c.T),se(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(p,"TO",c.ja),se(p,"TYPE","xmlhttp"),Ma(c,p),c.m&&c.o&&en(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Sa(Ve(p)),v.m=null,v.P=!0,ze(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ys(this),Al(this),tt(19))};function _s(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function eu(c,p){var v=null;if(c.g==p){_s(c),xa(c),c.g=null;var A=2}else if(Vr(c.h,p))v=p.D,Xn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var H=c.B;A=Vi(),Ie(A,new ut(A,v)),vs(c)}else Jo(c);else if(H=p.s,H==3||H==0&&0<p.X||!(A==1&&ff(c,p)||A==2&&Al(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),H){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function bl(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ii(c,p){if(c.j.info("Error code "+p),p==2){var v=R(c.fb,c),A=c.Xa;const H=!A;A=new Jr(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xi(A,"https"),Sa(A),H?Ko(A.toString(),v):wa(A.toString(),v)}else tt(2);c.G=0,c.l&&c.l.sa(p),nu(c),Zo(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const p=wn(c.h);(p.length!=0||c.i.length!=0)&&(k(c.ka,p),k(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function ru(c,p,v){var A=v instanceof Jr?Ve(v):new Jr(v);if(A.g!="")p&&(A.g=p+"."+A.g),ba(A,A.s);else{var H=m.location;A=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var $=new Jr(null);A&&xi($,A),p&&($.g=p),H&&ba($,H),v&&($.l=v),A=$}return v=c.D,p=c.ya,v&&p&&se(A,v,p),se(A,"VER",c.la),Ma(c,A),A}function iu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new fe(new Ii({eb:v})):new fe(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}i=au.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Es(){}Es.prototype.g=function(c,p){return new Rn(c,p)};function Rn(c,p){de.call(this),this.g=new ps(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!J(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!J(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Lr(this)}O(Rn,de),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){El(this.g)},Rn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Di(c),c=v);p.i.push(new Wr(p.Ya++,c)),p.G==3&&vs(p)},Rn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Rn.aa.N.call(this)};function su(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}O(su,gr);function lu(){yn.call(this),this.status=1}O(lu,yn);function Lr(c){this.g=c}O(Lr,au),Lr.prototype.ua=function(){Ie(this.g,"a")},Lr.prototype.ta=function(c){Ie(this.g,new su(c))},Lr.prototype.sa=function(c){Ie(this.g,new lu)},Lr.prototype.ra=function(){Ie(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,a0=function(){return new Es},i0=function(){return Vi()},r0=on,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,hc=xt,ae.COMPLETE="complete",n0=ae,Ea.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",de.prototype.listen=de.prototype.K,po=Ea,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,e0=fe}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",gv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new K_("@firebase/firestore");function Ks(){return es.logLevel}function gt(i,...t){if(es.logLevel<=re.DEBUG){const r=t.map(Zd);es.debug(`Firestore (${ul}): ${i}`,...r)}}function Ai(i,...t){if(es.logLevel<=re.ERROR){const r=t.map(Zd);es.error(`Firestore (${ul}): ${i}`,...r)}}function tl(i,...t){if(es.logLevel<=re.WARN){const r=t.map(Zd);es.warn(`Firestore (${ul}): ${i}`,...r)}}function Zd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i="Unexpected state"){const t=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+i;throw Ai(t),new Error(t)}function he(i,t){i||Ot()}function Pt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ol{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Tn.UNAUTHENTICATED))}shutdown(){}}class hS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class dS{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){he(this.o===void 0);let s=this.i;const l=g=>this.i!==s?(s=this.i,r(g)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(he(typeof s.accessToken=="string"),new s0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return he(t===null||typeof t=="string"),new Tn(t)}}class mS{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gS{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new mS(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pS{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xb(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){he(this.o===void 0);const s=u=>{u.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,gt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const l=u=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new pv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(he(typeof r.token=="string"),this.R=r.token,new pv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=yS(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<r&&(s+=t.charAt(l[u]%62))}return s}}function Ft(i,t){return i<t?-1:i>t?1:0}function Dd(i,t){let r=0;for(;r<i.length&&r<t.length;){const s=i.codePointAt(r),l=t.codePointAt(r);if(s!==l){if(s<128&&l<128)return Ft(s,l);{const u=l0(),h=vS(u.encode(yv(i,r)),u.encode(yv(t,r)));return h!==0?h:Ft(s,l)}}r+=s>65535?2:1}return Ft(i.length,t.length)}function yv(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function vS(i,t){for(let r=0;r<i.length&&r<t.length;++r)if(i[r]!==t[r])return Ft(i[r],t[r]);return Ft(i.length,t.length)}function el(i,t,r){return i.length===t.length&&i.every((s,l)=>r(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-62135596800,_v=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*_v);return new Ke(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<vv)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Ke(0,0))}static max(){return new Lt(new Ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__name__";class qr{constructor(t,r,s){r===void 0?r=0:r>t.length&&Ot(),s===void 0?s=t.length-r:s>t.length-r&&Ot(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return qr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof qr?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let l=0;l<s;l++){const u=qr.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Ft(t.length,r.length)}static compareSegments(t,r){const s=qr.isNumericId(t),l=qr.isNumericId(r);return s&&!l?-1:!s&&l?1:s&&l?qr.extractNumericId(t).compare(qr.extractNumericId(r)):Dd(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return aa.fromString(t.substring(4,t.length-2))}}class Ae extends qr{construct(t,r,s){return new Ae(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new vt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Ae(r)}static emptyPath(){return new Ae([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends qr{construct(t,r,s){return new mn(t,r,s)}static isValidIdentifier(t){return _S.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new mn([Ev])}static fromServerFormat(t){const r=[];let s="",l=0;const u=()=>{if(s.length===0)throw new vt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new vt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new vt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(s+=m,l++):(u(),l++)}if(u(),h)throw new vt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(r)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Ae.fromString(t))}static fromName(t){return new Mt(Ae.fromString(t).popFirst(5))}static empty(){return new Mt(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ae.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=-1;function ES(i,t){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Lt.fromTimestamp(s===1e9?new Ke(r+1,0):new Ke(r,s));return new oa(l,Mt.empty(),t)}function TS(i){return new oa(i.readTime,i.key,Do)}class oa{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new oa(Lt.min(),Mt.empty(),Do)}static max(){return new oa(Lt.max(),Mt.empty(),Do)}}function AS(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=Mt.comparator(i.documentKey,t.documentKey),r!==0?r:Ft(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==bS)throw i;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new nt((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof nt?r:nt.resolve(r)}catch(r){return nt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):nt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):nt.reject(r)}static resolve(t){return new nt((r,s)=>{r(t)})}static reject(t){return new nt((r,s)=>{s(t)})}static waitFor(t){return new nt((r,s)=>{let l=0,u=0,h=!1;t.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&r()},g=>s(g))}),h=!0,u===l&&r()})}static or(t){let r=nt.resolve(!1);for(const s of t)r=r.next(l=>l?nt.resolve(l):s());return r}static forEach(t,r){const s=[];return t.forEach((l,u)=>{s.push(r.call(this,l,u))}),this.waitFor(s)}static mapArray(t,r){return new nt((s,l)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(t[y]).next(E=>{h[y]=E,++m,m===u&&s(h)},E=>l(E))}})}static doWhile(t,r){return new nt((s,l)=>{const u=()=>{t()===!0?r().next(()=>{u()},l):s()};u()})}}function wS(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function fl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}kc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;function Bc(i){return i==null}function wc(i){return i===0&&1/i==-1/0}function RS(i){return typeof i=="number"&&Number.isInteger(i)&&!wc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="";function CS(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=Tv(t)),t=DS(i.get(r),t);return Tv(t)}function DS(i,t){let r=t;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case u0:r+="";break;default:r+=u}}return r}function Tv(i){return i+u0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function ga(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function c0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,r){this.comparator=t,this.root=r||dn.EMPTY}insert(t,r){return new Ce(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sc(this.root,t,this.comparator,!0)}}class sc{constructor(t,r,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?s(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dn{constructor(t,r,s,l,u){this.key=t,this.value=r,this.color=s??dn.RED,this.left=l??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,l,u){return new dn(t??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,s),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const t=this.left.check();if(t!==this.right.check())throw Ot();return t+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(t,r,s,l,u){return this}insert(t,r,s){return new dn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(t){return new bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new $e(this.comparator);return r.data=t,r}}class bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Gn([])}unionWith(t){let r=new $e(mn.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Gn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return el(this.fields,t.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new f0("Invalid base64 string: "+u):u}}(t);return new pn(r)}static fromUint8Array(t){const r=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new pn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const VS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(i){if(he(!!i),typeof i=="string"){let t=0;const r=VS.exec(i);if(he(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ue(i.seconds),nanos:Ue(i.nanos)}}function Ue(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ca(i){return typeof i=="string"?pn.fromBase64String(i):pn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="server_timestamp",d0="__type__",m0="__previous_value__",g0="__local_write_time__";function Jd(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[d0])===null||r===void 0?void 0:r.stringValue)===h0}function jc(i){const t=i.mapValue.fields[m0];return Jd(t)?jc(t):t}function Vo(i){const t=ua(i.mapValue.fields[g0].timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,r,s,l,u,h,m,g,y){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Rc="(default)";class Mo{constructor(t,r){this.projectId=t,this.database=r||Rc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__type__",xS="__max__",lc={mapValue:{}},y0="__vector__",Cc="value";function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jd(i)?4:IS(i)?9007199254740991:NS(i)?10:11:Ot()}function Yr(i,t){if(i===t)return!0;const r=fa(i);if(r!==fa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Vo(i).isEqual(Vo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=ua(l.timestampValue),m=ua(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,u){return ca(l.bytesValue).isEqual(ca(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,u){return Ue(l.geoPointValue.latitude)===Ue(u.geoPointValue.latitude)&&Ue(l.geoPointValue.longitude)===Ue(u.geoPointValue.longitude)}(i,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Ue(l.integerValue)===Ue(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Ue(l.doubleValue),m=Ue(u.doubleValue);return h===m?wc(h)===wc(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return el(i.arrayValue.values||[],t.arrayValue.values||[],Yr);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Av(h)!==Av(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Yr(h[g],m[g])))return!1;return!0}(i,t);default:return Ot()}}function xo(i,t){return(i.values||[]).find(r=>Yr(r,t))!==void 0}function nl(i,t){if(i===t)return 0;const r=fa(i),s=fa(t);if(r!==s)return Ft(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ft(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=Ue(u.integerValue||u.doubleValue),g=Ue(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,t);case 3:return Sv(i.timestampValue,t.timestampValue);case 4:return Sv(Vo(i),Vo(t));case 5:return Dd(i.stringValue,t.stringValue);case 6:return function(u,h){const m=ca(u),g=ca(h);return m.compareTo(g)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ft(m[y],g[y]);if(E!==0)return E}return Ft(m.length,g.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Ft(Ue(u.latitude),Ue(h.latitude));return m!==0?m:Ft(Ue(u.longitude),Ue(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return wv(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,g,y,E;const b=u.fields||{},R=h.fields||{},C=(m=b[Cc])===null||m===void 0?void 0:m.arrayValue,O=(g=R[Cc])===null||g===void 0?void 0:g.arrayValue,Y=Ft(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:wv(C,O)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===lc.mapValue&&h===lc.mapValue)return 0;if(u===lc.mapValue)return 1;if(h===lc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const R=Dd(g[b],E[b]);if(R!==0)return R;const C=nl(m[g[b]],y[E[b]]);if(C!==0)return C}return Ft(g.length,E.length)}(i.mapValue,t.mapValue);default:throw Ot()}}function Sv(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ft(i,t);const r=ua(i),s=ua(t),l=Ft(r.seconds,s.seconds);return l!==0?l:Ft(r.nanos,s.nanos)}function wv(i,t){const r=i.values||[],s=t.values||[];for(let l=0;l<r.length&&l<s.length;++l){const u=nl(r[l],s[l]);if(u)return u}return Ft(r.length,s.length)}function rl(i){return Vd(i)}function Vd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ua(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return ca(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return Mt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const u of r.values||[])l?l=!1:s+=",",s+=Vd(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const h of s)u?u=!1:l+=",",l+=`${h}:${Vd(r.fields[h])}`;return l+"}"}(i.mapValue):Ot()}function dc(i){switch(fa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jc(i);return t?16+dc(t):16;case 5:return 2*i.stringValue.length;case 6:return ca(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+dc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let l=0;return ga(s.fields,(u,h)=>{l+=u.length+dc(h)}),l}(i.mapValue);default:throw Ot()}}function Rv(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Md(i){return!!i&&"integerValue"in i}function tm(i){return!!i&&"arrayValue"in i}function Cv(i){return!!i&&"nullValue"in i}function Dv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mc(i){return!!i&&"mapValue"in i}function NS(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[p0])===null||r===void 0?void 0:r.stringValue)===y0}function Ao(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ga(i.mapValue.fields,(r,s)=>t.mapValue.fields[r]=Ao(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ao(i.arrayValue.values[r]);return t}return Object.assign({},i)}function IS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!mc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(r)}setAll(t){let r=mn.emptyPath(),s={},l=[];t.forEach((h,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,s,l),s={},l=[],r=m.popLast()}h?s[m.lastSegment()]=Ao(h):l.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,l)}delete(t){const r=this.field(t.popLast());mc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Yr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=r.mapValue.fields[t.get(s)];mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,s){ga(r,(l,u)=>t[l]=u);for(const l of s)delete t[l]}clone(){return new On(Ao(this.value))}}function v0(i){const t=[];return ga(i.fields,(r,s)=>{const l=new mn([r]);if(mc(s)){const u=v0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,r,s,l,u,h,m){this.key=t,this.documentType=r,this.version=s,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new An(t,0,Lt.min(),Lt.min(),Lt.min(),On.empty(),0)}static newFoundDocument(t,r,s,l){return new An(t,1,r,Lt.min(),s,l,0)}static newNoDocument(t,r){return new An(t,2,r,Lt.min(),Lt.min(),On.empty(),0)}static newUnknownDocument(t,r){return new An(t,3,r,Lt.min(),Lt.min(),On.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof An&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,r){this.position=t,this.inclusive=r}}function Vv(i,t,r){let s=0;for(let l=0;l<i.position.length;l++){const u=t[l],h=i.position[l];if(u.field.isKeyField()?s=Mt.comparator(Mt.fromName(h.referenceValue),r.key):s=nl(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Mv(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Yr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,r="asc"){this.field=t,this.dir=r}}function OS(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class He extends _0{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new US(t,r,s):r==="array-contains"?new kS(t,s):r==="in"?new BS(t,s):r==="not-in"?new jS(t,s):r==="array-contains-any"?new qS(t,s):new He(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new PS(t,s):new zS(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(nl(r,this.value)):r!==null&&fa(this.value)===fa(r)&&this.matchesComparison(nl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends _0{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new br(t,r)}matches(t){return E0(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function E0(i){return i.op==="and"}function T0(i){return LS(i)&&E0(i)}function LS(i){for(const t of i.filters)if(t instanceof br)return!1;return!0}function xd(i){if(i instanceof He)return i.field.canonicalString()+i.op.toString()+rl(i.value);if(T0(i))return i.filters.map(t=>xd(t)).join(",");{const t=i.filters.map(r=>xd(r)).join(",");return`${i.op}(${t})`}}function A0(i,t){return i instanceof He?function(s,l){return l instanceof He&&s.op===l.op&&s.field.isEqual(l.field)&&Yr(s.value,l.value)}(i,t):i instanceof br?function(s,l){return l instanceof br&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,h,m)=>u&&A0(h,l.filters[m]),!0):!1}(i,t):void Ot()}function b0(i){return i instanceof He?function(r){return`${r.field.canonicalString()} ${r.op} ${rl(r.value)}`}(i):i instanceof br?function(r){return r.op.toString()+" {"+r.getFilters().map(b0).join(" ,")+"}"}(i):"Filter"}class US extends He{constructor(t,r,s){super(t,r,s),this.key=Mt.fromName(s.referenceValue)}matches(t){const r=Mt.comparator(t.key,this.key);return this.matchesComparison(r)}}class PS extends He{constructor(t,r){super(t,"in",r),this.keys=S0("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class zS extends He{constructor(t,r){super(t,"not-in",r),this.keys=S0("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function S0(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>Mt.fromName(s.referenceValue))}class kS extends He{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return tm(r)&&xo(r.arrayValue,this.value)}}class BS extends He{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&xo(this.value.arrayValue,r)}}class jS extends He{constructor(t,r){super(t,"not-in",r)}matches(t){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!xo(this.value.arrayValue,r)}}class qS extends He{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!tm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>xo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,r=null,s=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function xv(i,t=null,r=[],s=[],l=null,u=null,h=null){return new HS(i,t,r,s,l,u,h)}function em(i){const t=Pt(i);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>xd(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Bc(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>rl(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>rl(s)).join(",")),t.le=r}return t.le}function nm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!OS(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!A0(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Mv(i.startAt,t.startAt)&&Mv(i.endAt,t.endAt)}function Nd(i){return Mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,r=null,s=[],l=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FS(i,t,r,s,l,u,h,m){return new hl(i,t,r,s,l,u,h,m)}function rm(i){return new hl(i)}function Nv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function w0(i){return i.collectionGroup!==null}function bo(i){const t=Pt(i);if(t.he===null){t.he=[];const r=new Set;for(const u of t.explicitOrderBy)t.he.push(u),r.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new $e(mn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||t.he.push(new No(u,s))}),r.has(mn.keyField().canonicalString())||t.he.push(new No(mn.keyField(),s))}return t.he}function Hr(i){const t=Pt(i);return t.Pe||(t.Pe=GS(t,bo(i))),t.Pe}function GS(i,t){if(i.limitType==="F")return xv(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new No(l.field,u)});const r=i.endAt?new Dc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dc(i.startAt.position,i.startAt.inclusive):null;return xv(i.path,i.collectionGroup,t,i.filters,i.limit,r,s)}}function Id(i,t){const r=i.filters.concat([t]);return new hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Vc(i,t,r){return new hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function qc(i,t){return nm(Hr(i),Hr(t))&&i.limitType===t.limitType}function R0(i){return`${em(Hr(i))}|lt:${i.limitType}`}function $s(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>b0(l)).join(", ")}]`),Bc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>rl(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>rl(l)).join(",")),`Target(${s})`}(Hr(i))}; limitType=${i.limitType})`}function Hc(i,t){return t.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,l){for(const u of bo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(i,t)&&function(s,l){return!(s.startAt&&!function(h,m,g){const y=Vv(h,m,g);return h.inclusive?y<=0:y<0}(s.startAt,bo(s),l)||s.endAt&&!function(h,m,g){const y=Vv(h,m,g);return h.inclusive?y>=0:y>0}(s.endAt,bo(s),l))}(i,t)}function QS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function C0(i){return(t,r)=>{let s=!1;for(const l of bo(i)){const u=YS(l,t,r);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function YS(i,t,r){const s=i.field.isKeyField()?Mt.comparator(t.key,r.key):function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?nl(g,y):Ot()}(i.field,t,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ga(this.inner,(r,s)=>{for(const[l,u]of s)t(l,u)})}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Ce(Mt.comparator);function bi(){return KS}const D0=new Ce(Mt.comparator);function yo(...i){let t=D0;for(const r of i)t=t.insert(r.key,r);return t}function V0(i){let t=D0;return i.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function Wa(){return So()}function M0(){return So()}function So(){return new rs(i=>i.toString(),(i,t)=>i.isEqual(t))}const $S=new Ce(Mt.comparator),XS=new $e(Mt.comparator);function $t(...i){let t=XS;for(const r of i)t=t.add(r);return t}const ZS=new $e(Ft);function WS(){return ZS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(t)?"-0":t}}function x0(i){return{integerValue:""+i}}function JS(i,t){return RS(t)?x0(t):im(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function tw(i,t,r){return i instanceof Io?function(l,u){const h={fields:{[d0]:{stringValue:h0},[g0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Jd(u)&&(u=jc(u)),u&&(h.fields[m0]=u),{mapValue:h}}(r,t):i instanceof Oo?I0(i,t):i instanceof Lo?O0(i,t):function(l,u){const h=N0(l,u),m=Iv(h)+Iv(l.Ie);return Md(h)&&Md(l.Ie)?x0(m):im(l.serializer,m)}(i,t)}function ew(i,t,r){return i instanceof Oo?I0(i,t):i instanceof Lo?O0(i,t):r}function N0(i,t){return i instanceof Mc?function(s){return Md(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Io extends Fc{}class Oo extends Fc{constructor(t){super(),this.elements=t}}function I0(i,t){const r=L0(t);for(const s of i.elements)r.some(l=>Yr(l,s))||r.push(s);return{arrayValue:{values:r}}}class Lo extends Fc{constructor(t){super(),this.elements=t}}function O0(i,t){let r=L0(t);for(const s of i.elements)r=r.filter(l=>!Yr(l,s));return{arrayValue:{values:r}}}class Mc extends Fc{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function Iv(i){return Ue(i.integerValue||i.doubleValue)}function L0(i){return tm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,r){this.field=t,this.transform=r}}function rw(i,t){return i.field.isEqual(t.field)&&function(s,l){return s instanceof Oo&&l instanceof Oo||s instanceof Lo&&l instanceof Lo?el(s.elements,l.elements,Yr):s instanceof Mc&&l instanceof Mc?Yr(s.Ie,l.Ie):s instanceof Io&&l instanceof Io}(i.transform,t.transform)}class iw{constructor(t,r){this.version=t,this.transformResults=r}}class Ar{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ar}static exists(t){return new Ar(void 0,t)}static updateTime(t){return new Ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Gc{}function U0(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new am(i.key,Ar.none()):new zo(i.key,i.data,Ar.none());{const r=i.data,s=On.empty();let l=new $e(mn.comparator);for(let u of t.fields)if(!l.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),l=l.add(u)}return new pa(i.key,s,new Gn(l.toArray()),Ar.none())}}function aw(i,t,r){i instanceof zo?function(l,u,h){const m=l.value.clone(),g=Lv(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,r):i instanceof pa?function(l,u,h){if(!gc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Lv(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(P0(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,t,r):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,r)}function wo(i,t,r,s){return i instanceof zo?function(u,h,m,g){if(!gc(u.precondition,h))return m;const y=u.value.clone(),E=Uv(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,t,r,s):i instanceof pa?function(u,h,m,g){if(!gc(u.precondition,h))return m;const y=Uv(u.fieldTransforms,g,h),E=h.data;return E.setAll(P0(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,t,r,s):function(u,h,m){return gc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,r)}function sw(i,t){let r=null;for(const s of i.fieldTransforms){const l=t.data.field(s.field),u=N0(s.transform,l||null);u!=null&&(r===null&&(r=On.empty()),r.set(s.field,u))}return r||null}function Ov(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&el(s,l,(u,h)=>rw(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class zo extends Gc{constructor(t,r,s,l=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pa extends Gc{constructor(t,r,s,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P0(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);t.set(r,s)}}),t}function Lv(i,t,r){const s=new Map;he(i.length===r.length);for(let l=0;l<r.length;l++){const u=i[l],h=u.transform,m=t.data.field(u.field);s.set(u.field,ew(h,m,r[l]))}return s}function Uv(i,t,r){const s=new Map;for(const l of i){const u=l.transform,h=r.data.field(l.field);s.set(l.field,tw(u,h,t))}return s}class am extends Gc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends Gc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,r,s,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&aw(u,t,s[l])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=wo(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=wo(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=M0();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(l.key)?null:m;const g=U0(h,m);g!==null&&s.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(Lt.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),$t())}isEqual(t){return this.batchId===t.batchId&&el(this.mutations,t.mutations,(r,s)=>Ov(r,s))&&el(this.baseMutations,t.baseMutations,(r,s)=>Ov(r,s))}}class sm{constructor(t,r,s,l){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(t,r,s){he(t.mutations.length===s.length);let l=function(){return $S}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,s[h].version);return new sm(t,r,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ne;function fw(i){switch(i){case rt.OK:return Ot();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Ot()}}function z0(i){if(i===void 0)return Ai("GRPC error has no .code"),rt.UNKNOWN;switch(i){case qe.OK:return rt.OK;case qe.CANCELLED:return rt.CANCELLED;case qe.UNKNOWN:return rt.UNKNOWN;case qe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case qe.INTERNAL:return rt.INTERNAL;case qe.UNAVAILABLE:return rt.UNAVAILABLE;case qe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case qe.NOT_FOUND:return rt.NOT_FOUND;case qe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case qe.ABORTED:return rt.ABORTED;case qe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case qe.DATA_LOSS:return rt.DATA_LOSS;default:return Ot()}}(ne=qe||(qe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new aa([4294967295,4294967295],0);function Pv(i){const t=l0().encode(i),r=new t0;return r.update(t),new Uint8Array(r.digest())}function zv(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new aa([r,s],0),new aa([l,u],0)]}class lm{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new vo(`Invalid padding: ${r}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new vo(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=aa.fromNumber(this.Ee)}Ae(t,r,s){let l=t.add(r.multiply(aa.fromNumber(s)));return l.compare(hw)===1&&(l=new aa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=Pv(t),[s,l]=zv(r);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,l,u);if(!this.Re(h))return!1}return!0}static create(t,r,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new lm(u,l,r);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.Ee===0)return;const r=Pv(t),[s,l]=zv(r);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,l,u);this.Ve(h)}}Ve(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,r,s,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const l=new Map;return l.set(t,ko.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Qc(Lt.min(),l,new Ce(Ft),bi(),$t())}}class ko{constructor(t,r,s,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new ko(s,r,$t(),$t(),$t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,r,s,l){this.me=t,this.removedTargetIds=r,this.key=s,this.fe=l}}class k0{constructor(t,r){this.targetId=t,this.ge=r}}class B0{constructor(t,r,s=pn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=l}}class kv{constructor(){this.pe=0,this.ye=Bv(),this.we=pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=$t(),r=$t(),s=$t();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Ot()}}),new ko(this.we,this.Se,t,r,s)}Me(){this.be=!1,this.ye=Bv()}xe(t,r){this.be=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,he(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class dw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=bi(),this.$e=oc(),this.Ue=oc(),this.Ke=new Ce(Ft)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const s=this.He(r);switch(t.state){case 0:this.Je(r)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(r);break;case 3:this.Je(r)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),s.Ce(t.resumeToken));break;default:Ot()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((s,l)=>{this.Je(l)&&r(l)})}Ze(t){const r=t.targetId,s=t.ge.count,l=this.Xe(r);if(l){const u=l.target;if(Nd(u))if(s===0){const h=new Mt(u.path);this.ze(r,h,An.newNoDocument(h,Lt.min()))}else he(s===1);else{const h=this.et(r);if(h!==s){const m=this.tt(t),g=m?this.nt(m,t,h):1;if(g!==0){this.Ye(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,y)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=r;let h,m;try{h=ca(s).toUint8Array()}catch(g){if(g instanceof f0)return tl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new lm(h,l,u)}catch(g){return tl(g instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,r,s){return r.ge.count===s-this.st(t,r.targetId)?0:2}st(t,r){const s=this.ke.getRemoteKeysForTarget(r);let l=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(r,u,null),l++)}),l}ot(t){const r=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Nd(m.target)){const g=new Mt(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,An.newNoDocument(g,t))}u.ve&&(r.set(h,u.Fe()),u.Me())}});let s=$t();this.Ue.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const l=new Qc(t,r,this.Ke,this.Qe,s);return this.Qe=bi(),this.$e=oc(),this.Ue=oc(),this.Ke=new Ce(Ft),l}Ge(t,r){if(!this.Je(t))return;const s=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,s),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(t))}ze(t,r,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,r)?l.xe(r,1):l.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(t)),this.Ue=this.Ue.insert(r,this.ct(r).add(t)),s&&(this.Qe=this.Qe.insert(r,s))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new kv,this.qe.set(t,r)),r}ct(t){let r=this.Ue.get(t);return r||(r=new $e(Ft),this.Ue=this.Ue.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new $e(Ft),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||gt("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new kv),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function oc(){return new Ce(Mt.comparator)}function Bv(){return new Ce(Mt.comparator)}const mw={asc:"ASCENDING",desc:"DESCENDING"},gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pw={and:"AND",or:"OR"};class yw{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Od(i,t){return i.useProto3Json||Bc(t)?t:{value:t}}function xc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j0(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function vw(i,t){return xc(i,t.toTimestamp())}function Fr(i){return he(!!i),Lt.fromTimestamp(function(r){const s=ua(r);return new Ke(s.seconds,s.nanos)}(i))}function om(i,t){return Ld(i,t).canonicalString()}function Ld(i,t){const r=function(l){return new Ae(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?r:r.child(t)}function q0(i){const t=Ae.fromString(i);return he(Y0(t)),t}function Ud(i,t){return om(i.databaseId,t.path)}function fd(i,t){const r=q0(t);if(r.get(1)!==i.databaseId.projectId)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Mt(F0(r))}function H0(i,t){return om(i.databaseId,t)}function _w(i){const t=q0(i);return t.length===4?Ae.emptyPath():F0(t)}function Pd(i){return new Ae(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function F0(i){return he(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function jv(i,t,r){return{name:Ud(i,t),fields:r.value.mapValue.fields}}function Ew(i,t){let r;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(he(E===void 0||typeof E=="string"),pn.fromBase64String(E||"")):(he(E===void 0||E instanceof Buffer||E instanceof Uint8Array),pn.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const E=y.code===void 0?rt.UNKNOWN:z0(y.code);return new vt(E,y.message||"")}(h);r=new B0(s,l,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=fd(i,s.document.name),u=Fr(s.document.updateTime),h=s.document.createTime?Fr(s.document.createTime):Lt.min(),m=new On({mapValue:{fields:s.document.fields}}),g=An.newFoundDocument(l,u,h,m),y=s.targetIds||[],E=s.removedTargetIds||[];r=new pc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=fd(i,s.document),u=s.readTime?Fr(s.readTime):Lt.min(),h=An.newNoDocument(l,u),m=s.removedTargetIds||[];r=new pc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=fd(i,s.document),u=s.removedTargetIds||[];r=new pc([],u,l,null)}else{if(!("filter"in t))return Ot();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,h=new cw(l,u),m=s.targetId;r=new k0(m,h)}}return r}function Tw(i,t){let r;if(t instanceof zo)r={update:jv(i,t.key,t.value)};else if(t instanceof am)r={delete:Ud(i,t.key)};else if(t instanceof pa)r={update:jv(i,t.key,t.data),updateMask:Mw(t.fieldMask)};else{if(!(t instanceof lw))return Ot();r={verify:Ud(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Io)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mc)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Ot()}(0,s))),t.precondition.isNone||(r.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:vw(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ot()}(i,t.precondition)),r}function Aw(i,t){return i&&i.length>0?(he(t!==void 0),i.map(r=>function(l,u){let h=l.updateTime?Fr(l.updateTime):Fr(u);return h.isEqual(Lt.min())&&(h=Fr(u)),new iw(h,l.transformResults||[])}(r,t))):[]}function bw(i,t){return{documents:[H0(i,t.path)]}}function Sw(i,t){const r={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=H0(i,l);const u=function(y){if(y.length!==0)return Q0(br.create(y,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Xs(R.field),direction:Cw(R.dir)}}(E))}(t.orderBy);h&&(r.structuredQuery.orderBy=h);const m=Od(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:r,parent:l}}function ww(i){let t=_w(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){he(s===1);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=function(b){const R=G0(b);return R instanceof br&&T0(R)?R.getFilters():[R]}(r.where));let h=[];r.orderBy&&(h=function(b){return b.map(R=>function(O){return new No(Zs(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(R))}(r.orderBy));let m=null;r.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,Bc(R)?null:R}(r.limit));let g=null;r.startAt&&(g=function(b){const R=!!b.before,C=b.values||[];return new Dc(C,R)}(r.startAt));let y=null;return r.endAt&&(y=function(b){const R=!b.before,C=b.values||[];return new Dc(C,R)}(r.endAt)),FS(t,l,h,u,m,"F",g,y)}function Rw(i,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function G0(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Zs(r.unaryFilter.field);return He.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Zs(r.unaryFilter.field);return He.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zs(r.unaryFilter.field);return He.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Zs(r.unaryFilter.field);return He.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(i):i.fieldFilter!==void 0?function(r){return He.create(Zs(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return br.create(r.compositeFilter.filters.map(s=>G0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ot()}}(r.compositeFilter.op))}(i):Ot()}function Cw(i){return mw[i]}function Dw(i){return gw[i]}function Vw(i){return pw[i]}function Xs(i){return{fieldPath:i.canonicalString()}}function Zs(i){return mn.fromServerFormat(i.fieldPath)}function Q0(i){return i instanceof He?function(r){if(r.op==="=="){if(Dv(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NAN"}};if(Cv(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Dv(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NOT_NAN"}};if(Cv(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(r.field),op:Dw(r.op),value:r.value}}}(i):i instanceof br?function(r){const s=r.getFilters().map(l=>Q0(l));return s.length===1?s[0]:{compositeFilter:{op:Vw(r.op),filters:s}}}(i):Ot()}function Mw(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Y0(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,r,s,l,u=Lt.min(),h=Lt.min(),m=pn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.Tt=t}}function Nw(i){const t=ww({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Vc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Tn=new Ow}addToCollectionParentIndex(t,r){return this.Tn.add(r),nt.resolve()}getCollectionParents(t,r){return nt.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return nt.resolve()}deleteFieldIndex(t,r){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,r){return nt.resolve()}getDocumentsMatchingTarget(t,r){return nt.resolve(null)}getIndexType(t,r){return nt.resolve(0)}getFieldIndexes(t,r){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,r){return nt.resolve(oa.min())}getMinOffsetFromCollectionGroup(t,r){return nt.resolve(oa.min())}updateCollectionGroup(t,r,s){return nt.resolve()}updateIndexEntries(t,r){return nt.resolve()}}class Ow{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r]||new $e(Ae.comparator),u=!l.has(s);return this.index[r]=l.add(s),u}has(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(t){return(this.index[t]||new $e(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K0=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(K0,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new il(0)}static Kn(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="LruGarbageCollector",Lw=1048576;function Fv([i,t],[r,s]){const l=Ft(i,r);return l===0?Ft(t,s):l}class Uw{constructor(t){this.Hn=t,this.buffer=new $e(Fv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Fv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Pw{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){gt(Hv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){fl(r)?gt(Hv,"Ignoring IndexedDB error during garbage collection: ",r):await cl(r)}await this.er(3e5)})}}class zw{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(r===0)return nt.resolve(kc.ae);const s=new Uw(r);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.tr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(qv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let s,l,u,h,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,r))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Ks()<=re.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function kw(i,t){return new zw(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.changes=new rs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,An.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?nt.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,r,s,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(s!==null&&wo(s.mutation,l,Gn.empty(),Ke.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,$t()).next(()=>s))}getLocalViewOfDocuments(t,r,s=$t()){const l=Wa();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,s).next(u=>{let h=yo();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(t,r){const s=Wa();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,$t()))}populateOverlays(t,r,s){const l=[];return s.forEach(u=>{r.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,m)=>{r.set(h,m)})})}computeViews(t,r,s,l){let u=bi();const h=So(),m=function(){return So()}();return r.forEach((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof pa)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),wo(E.mutation,y,E.mutation.getFieldMask(),Ke.now())):h.set(y.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>h.set(y,E)),r.forEach((y,E)=>{var b;return m.set(y,new jw(E,(b=h.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,r){const s=So();let l=new Ce((h,m)=>h-m),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=s.get(g)||Gn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(l.get(m.batchId)||$t()).add(g);l=l.insert(m.batchId,b)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=M0();E.forEach(R=>{if(!u.has(R)){const C=U0(r.get(R),s.get(R));C!==null&&b.set(R,C),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,b))}return nt.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,l){return function(h){return Mt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):w0(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,l):this.getDocumentsMatchingCollectionQuery(t,r,s,l)}getNextDocuments(t,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,l-u.size):nt.resolve(Wa());let m=Do,g=u;return h.next(y=>nt.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,$t())).next(E=>({batchId:m,changes:V0(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Mt(r)).next(s=>{let l=yo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,s,l){const u=r.collectionGroup;let h=yo();return this.indexManager.getCollectionParents(t,u).next(m=>nt.forEach(m,g=>{const y=function(b,R){return new hl(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(E=>{E.forEach((b,R)=>{h=h.insert(b,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,r,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,u,l))).next(h=>{u.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,An.newInvalidDocument(E)))});let m=yo();return h.forEach((g,y)=>{const E=u.get(g);E!==void 0&&wo(E.mutation,y,Gn.empty(),Ke.now()),Hc(r,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return nt.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:Fr(l.createTime)}}(r)),nt.resolve()}getNamedQuery(t,r){return nt.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(l){return{name:l.name,query:Nw(l.bundledQuery),readTime:Fr(l.readTime)}}(r)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.overlays=new Ce(Mt.comparator),this.Rr=new Map}getOverlay(t,r){return nt.resolve(this.overlays.get(r))}getOverlays(t,r){const s=Wa();return nt.forEach(r,l=>this.getOverlay(t,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((l,u)=>{this.Et(t,r,u)}),nt.resolve()}removeOverlaysForBatchId(t,r,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),nt.resolve()}getOverlaysForCollection(t,r,s){const l=Wa(),u=r.length+1,h=new Mt(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return nt.resolve(l)}getOverlaysForCollectionGroup(t,r,s,l){let u=new Ce((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Wa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Wa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return nt.resolve(m)}Et(t,r,s){const l=this.overlays.get(s.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new uw(r,s));let u=this.Rr.get(r);u===void 0&&(u=$t(),this.Rr.set(r,u)),this.Rr.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Vr=new $e(ln.mr),this.gr=new $e(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const s=new ln(t,r);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.wr(new ln(t,r))}Sr(t,r){t.forEach(s=>this.removeReference(s,r))}br(t){const r=new Mt(new Ae([])),s=new ln(r,t),l=new ln(r,t+1),u=[];return this.gr.forEachInRange([s,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new Mt(new Ae([])),s=new ln(r,t),l=new ln(r,t+1);let u=$t();return this.gr.forEachInRange([s,l],h=>{u=u.add(h.key)}),u}containsKey(t){const r=new ln(t,0),s=this.Vr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class ln{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return Mt.comparator(t.key,r.key)||Ft(t.Cr,r.Cr)}static pr(t,r){return Ft(t.Cr,r.Cr)||Mt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new $e(ln.mr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ow(u,r,s,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new ln(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,r){return nt.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,l=this.Nr(s),u=l<0?0:l;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Wd:this.Fr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new ln(r,0),l=new ln(r,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,l],h=>{const m=this.Or(h.Cr);u.push(m)}),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new $e(Ft);return r.forEach(l=>{const u=new ln(l,0),h=new ln(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),nt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,l=s.length+1;let u=s;Mt.isDocumentKey(u)||(u=u.child(""));const h=new ln(new Mt(u),0);let m=new $e(Ft);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},h),nt.resolve(this.Br(m))}Br(t){const r=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){he(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return nt.forEach(r.mutations,l=>{const u=new ln(l.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,r){const s=new ln(r,0),l=this.Mr.firstAfterOrEqual(s);return nt.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.kr=t,this.docs=function(){return new Ce(Mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,l=this.docs.get(s),u=l?l.size:0,h=this.kr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return nt.resolve(s?s.document.mutableCopy():An.newInvalidDocument(r))}getEntries(t,r){let s=bi();return r.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():An.newInvalidDocument(l))}),nt.resolve(s)}getDocumentsMatchingQuery(t,r,s,l){let u=bi();const h=r.path,m=new Mt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||AS(TS(E),s)<=0||(l.has(E.key)||Hc(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,r,s,l){Ot()}qr(t,r){return nt.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new Kw(this)}getSize(t){return nt.resolve(this.size)}}class Kw extends Bw{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),nt.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.persistence=t,this.Qr=new rs(r=>em(r),nm),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new um,this.targetCount=0,this.Kr=il.Un()}forEachTarget(t,r){return this.Qr.forEach((s,l)=>r(l)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.$r&&(this.$r=r),nt.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Kr=new il(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,nt.resolve()}updateTargetData(t,r){return this.zn(r),nt.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,r,s){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),nt.waitFor(u).next(()=>l)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,r){const s=this.Qr.get(r)||null;return nt.resolve(s)}addMatchingKeys(t,r,s){return this.Ur.yr(r,s),nt.resolve()}removeMatchingKeys(t,r,s){this.Ur.Sr(r,s);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),nt.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.Ur.br(r),nt.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Ur.vr(r);return nt.resolve(s)}containsKey(t,r){return nt.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new kc(0),this.zr=!1,this.zr=!0,this.jr=new Gw,this.referenceDelegate=t(this),this.Hr=new $w(this),this.indexManager=new Iw,this.remoteDocumentCache=function(l){return new Yw(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new xw(r),this.Yr=new Hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Fw,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.Wr[t.toKey()];return s||(s=new Qw(r,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,s){gt("MemoryPersistence","Starting transaction:",t);const l=new Xw(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,r){return nt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,r)))}}class Xw extends SS{constructor(t){super(),this.currentSequenceNumber=t}}class cm{constructor(t){this.persistence=t,this.ti=new um,this.ni=null}static ri(t){return new cm(t)}get ii(){if(this.ni)return this.ni;throw Ot()}addReference(t,r,s){return this.ti.addReference(s,r),this.ii.delete(s.toString()),nt.resolve()}removeReference(t,r,s){return this.ti.removeReference(s,r),this.ii.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),nt.resolve()}removeTarget(t,r){this.ti.br(r.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.ii,s=>{const l=Mt.fromPath(s);return this.si(t,l).next(u=>{u||r.removeEntry(l,Lt.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(s=>{s?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return nt.or([()=>nt.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class Nc{constructor(t,r){this.persistence=t,this.oi=new rs(s=>CS(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=kw(this,r)}static ri(t,r){return new Nc(t,r)}Zr(){}Xr(t){return nt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>r.next(l=>s+l))}sr(t){let r=0;return this.rr(t,s=>{r++}).next(()=>r)}rr(t,r){return nt.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(u=>u?nt.resolve():r(l)))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,h=>this.ar(t,h,r).next(m=>{m||(s++,u.removeEntry(h,Lt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),nt.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.oi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,r,s){return this.oi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),nt.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=dc(t.data.value)),r}ar(t,r,s){return nt.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.oi.get(r);return nt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t,r,s,l){this.targetId=t,this.fromCache=r,this.Hi=s,this.Ji=l}static Yi(t,r){let s=$t(),l=$t();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new fm(t,r.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return YA()?8:wS(GA())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,s,l){const u={result:null};return this.rs(t,r).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,r,l,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Zw;return this._s(t,r,h).next(m=>{if(u.result=m,this.Xi)return this.us(t,r,h,m.size)})}).next(()=>u.result)}us(t,r,s,l){return s.documentReadCount<this.es?(Ks()<=re.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",$s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),nt.resolve()):(Ks()<=re.DEBUG&&gt("QueryEngine","Query:",$s(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Ks()<=re.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",$s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hr(r))):nt.resolve())}rs(t,r){if(Nv(r))return nt.resolve(null);let s=Hr(r);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=Vc(r,null,"F"),s=Hr(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=$t(...u);return this.ns.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.cs(r,m);return this.ls(r,y,h,g.readTime)?this.rs(t,Vc(r,null,"F")):this.hs(t,y,r,g)}))})))}ss(t,r,s,l){return Nv(r)||l.isEqual(Lt.min())?nt.resolve(null):this.ns.getDocuments(t,s).next(u=>{const h=this.cs(r,u);return this.ls(r,h,s,l)?nt.resolve(null):(Ks()<=re.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$s(r)),this.hs(t,h,r,ES(l,Do)).next(m=>m))})}cs(t,r){let s=new $e(C0(t));return r.forEach((l,u)=>{Hc(t,u)&&(s=s.add(u))}),s}ls(t,r,s,l){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,r,s){return Ks()<=re.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",$s(r)),this.ns.getDocumentsMatchingQuery(t,r,oa.min(),s)}hs(t,r,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",Jw=3e8;class t1{constructor(t,r,s,l){this.persistence=t,this.Ps=r,this.serializer=l,this.Ts=new Ce(Ft),this.Is=new rs(u=>em(u),nm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function e1(i,t,r,s){return new t1(i,t,r,s)}async function X0(i,t){const r=Pt(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,r.As(t),r.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=$t();for(const y of l){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function n1(i,t){const r=Pt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),u=r.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const b=y.batch,R=b.keys();let C=nt.resolve();return R.forEach(O=>{C=C.next(()=>E.getEntry(g,O)).next(Y=>{const k=y.docVersions.get(O);he(k!==null),Y.version.compareTo(k)<0&&(b.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(r,s,t,u).next(()=>u.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=$t();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>r.localDocuments.getDocuments(s,l))})}function Z0(i){const t=Pt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function r1(i,t){const r=Pt(i),s=t.snapshotVersion;let l=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.ds.newChangeBuffer({trackRemovals:!0});l=r.Ts;const m=[];t.targetChanges.forEach((E,b)=>{const R=l.get(b);if(!R)return;m.push(r.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>r.Hr.addMatchingKeys(u,E.addedDocuments,b)));let C=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?C=C.withResumeToken(pn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),l=l.insert(b,C),function(Y,k,X){return Y.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=Jw?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(R,C,E)&&m.push(r.Hr.updateTargetData(u,C))});let g=bi(),y=$t();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(i1(u,h,t.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!s.isEqual(Lt.min())){const E=r.Hr.getLastRemoteSnapshotVersion(u).next(b=>r.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return nt.waitFor(m).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(r.Ts=l,u))}function i1(i,t,r){let s=$t(),l=$t();return r.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let h=bi();return r.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Lt.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):gt(hm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:h,fs:l}})}function a1(i,t){const r=Pt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Wd),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function s1(i,t){const r=Pt(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Hr.getTargetData(s,t).next(u=>u?(l=u,nt.resolve(l)):r.Hr.allocateTargetId(s).next(h=>(l=new na(t,h,"TargetPurposeListen",s.currentSequenceNumber),r.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(s.targetId,s),r.Is.set(t,s.targetId)),s})}async function zd(i,t,r){const s=Pt(i),l=s.Ts.get(t),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!fl(h))throw h;gt(hm,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function Gv(i,t,r){const s=Pt(i);let l=Lt.min(),u=$t();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const b=Pt(g),R=b.Is.get(E);return R!==void 0?nt.resolve(b.Ts.get(R)):b.Hr.getTargetData(y,E)}(s,h,Hr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,t,r?l:Lt.min(),r?u:$t())).next(m=>(l1(s,QS(t),m),{documents:m,gs:u})))}function l1(i,t,r){let s=i.Es.get(t)||Lt.min();r.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(t,s)}class Qv{constructor(){this.activeTargetIds=WS()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class o1{constructor(){this.ho=new Qv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,s){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Qv,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="ConnectivityMonitor";class Kv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){gt(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){gt(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function kd(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="RestConnection",c1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Rc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,r,s,l,u){const h=kd(),m=this.bo(t,r.toUriEncodedString());gt(hd,`Sending RPC '${t}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,u),this.vo(t,m,g,s).then(y=>(gt(hd,`Received RPC '${t}' ${h}: `,y),y),y=>{throw tl(hd,`RPC '${t}' ${h} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,r,s,l,u,h){return this.So(t,r,s,l,u)}Do(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>t[u]=l),s&&s.headers.forEach((l,u)=>t[u]=l)}bo(t,r){const s=c1[t];return`${this.po}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class d1 extends f1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,s,l){const u=kd();return new Promise((h,m)=>{const g=new e0;g.setWithCredentials(!0),g.listenOnce(n0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hc.NO_ERROR:const E=g.getResponseJson();gt(En,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),h(E);break;case hc.TIMEOUT:gt(En,`RPC '${t}' ${u} timed out`),m(new vt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const b=g.getStatus();if(gt(En,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const O=function(k){const X=k.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(X)>=0?X:rt.UNKNOWN}(C.status);m(new vt(O,C.message))}else m(new vt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new vt(rt.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{gt(En,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);gt(En,`RPC '${t}' ${u} sending request:`,l),g.send(r,"POST",y,s,15)})}Wo(t,r,s){const l=kd(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=a0(),m=i0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,r,s),g.encodeInitMessageHeaders=!0;const E=u.join("");gt(En,`Creating RPC '${t}' stream ${l}: ${E}`,g);const b=h.createWebChannel(E,g);let R=!1,C=!1;const O=new h1({Fo:k=>{C?gt(En,`Not sending because RPC '${t}' stream ${l} is closed:`,k):(R||(gt(En,`Opening RPC '${t}' stream ${l} transport.`),b.open(),R=!0),gt(En,`RPC '${t}' stream ${l} sending:`,k),b.send(k))},Mo:()=>b.close()}),Y=(k,X,J)=>{k.listen(X,st=>{try{J(st)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return Y(b,po.EventType.OPEN,()=>{C||(gt(En,`RPC '${t}' stream ${l} transport opened.`),O.Qo())}),Y(b,po.EventType.CLOSE,()=>{C||(C=!0,gt(En,`RPC '${t}' stream ${l} transport closed`),O.Uo())}),Y(b,po.EventType.ERROR,k=>{C||(C=!0,tl(En,`RPC '${t}' stream ${l} transport errored:`,k),O.Uo(new vt(rt.UNAVAILABLE,"The operation could not be completed")))}),Y(b,po.EventType.MESSAGE,k=>{var X;if(!C){const J=k.data[0];he(!!J);const st=J,Tt=(st==null?void 0:st.error)||((X=st[0])===null||X===void 0?void 0:X.error);if(Tt){gt(En,`RPC '${t}' stream ${l} received error:`,Tt);const z=Tt.status;let dt=function(S){const V=qe[S];if(V!==void 0)return z0(V)}(z),N=Tt.message;dt===void 0&&(dt=rt.INTERNAL,N="Unknown error status: "+z+" with message "+Tt.message),C=!0,O.Uo(new vt(dt,N)),b.close()}else gt(En,`RPC '${t}' stream ${l} received:`,J),O.Ko(J)}}),Y(m,r0.STAT_EVENT,k=>{k.stat===Cd.PROXY?gt(En,`RPC '${t}' stream ${l} detected buffering proxy`):k.stat===Cd.NOPROXY&&gt(En,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(i){return new yw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,r,s=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=r,this.Go=s,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,r-s);l>0&&gt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class J0{constructor(t,r,s,l,u,h,m,g){this.Ti=t,this.n_=s,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W0(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Ai(r.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===r&&this.V_(s,l)},s=>{t(()=>{const l=new vt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,r){const s=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return gt($v,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(gt($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m1 extends J0{constructor(t,r,s,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,h),this.serializer=u}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=Ew(this.serializer,t),s=function(u){if(!("targetChange"in u))return Lt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Lt.min():h.readTime?Fr(h.readTime):Lt.min()}(t);return this.listener.p_(r,s)}y_(t){const r={};r.database=Pd(this.serializer),r.addTarget=function(u,h){let m;const g=h.target;if(m=Nd(g)?{documents:bw(u,g)}:{query:Sw(u,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=j0(u,h.resumeToken);const y=Od(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Lt.min())>0){m.readTime=xc(u,h.snapshotVersion.toTimestamp());const y=Od(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=Rw(this.serializer,t);s&&(r.labels=s),this.I_(r)}w_(t){const r={};r.database=Pd(this.serializer),r.removeTarget=t,this.I_(r)}}class g1 extends J0{constructor(t,r,s,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return he(!!t.streamToken),this.lastStreamToken=t.streamToken,he(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){he(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=Aw(t.writeResults,t.commitTime),s=Fr(t.commitTime);return this.listener.v_(s,r)}C_(){const t={};t.database=Pd(this.serializer),this.I_(t)}b_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>Tw(this.serializer,s))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{}class y1 extends p1{constructor(t,r,s,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,Ld(r,s),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(rt.UNKNOWN,u.toString())})}Co(t,r,s,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(t,Ld(r,s),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new vt(rt.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class v1{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ai(r),this.N_=!1):gt("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class _1{constructor(t,r,s,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{is(this)&&(gt(ns,"Restarting streams for network reachability change."),await async function(g){const y=Pt(g);y.W_.add(4),await Bo(y),y.j_.set("Unknown"),y.W_.delete(4),await Kc(y)}(this))})}),this.j_=new v1(s,l)}}async function Kc(i){if(is(i))for(const t of i.G_)await t(!0)}async function Bo(i){for(const t of i.G_)await t(!1)}function tE(i,t){const r=Pt(i);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),pm(r)?gm(r):dl(r).c_()&&mm(r,t))}function dm(i,t){const r=Pt(i),s=dl(r);r.K_.delete(t),s.c_()&&eE(r,t),r.K_.size===0&&(s.c_()?s.P_():is(r)&&r.j_.set("Unknown"))}function mm(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}dl(i).y_(t)}function eE(i,t){i.H_.Ne(t),dl(i).w_(t)}function gm(i){i.H_=new dw({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.K_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),dl(i).start(),i.j_.B_()}function pm(i){return is(i)&&!dl(i).u_()&&i.K_.size>0}function is(i){return Pt(i).W_.size===0}function nE(i){i.H_=void 0}async function E1(i){i.j_.set("Online")}async function T1(i){i.K_.forEach((t,r)=>{mm(i,t)})}async function A1(i,t){nE(i),pm(i)?(i.j_.q_(t),gm(i)):i.j_.set("Unknown")}async function b1(i,t,r){if(i.j_.set("Online"),t instanceof B0&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.K_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.K_.delete(m),l.H_.removeTarget(m))}(i,t)}catch(s){gt(ns,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ic(i,s)}else if(t instanceof pc?i.H_.We(t):t instanceof k0?i.H_.Ze(t):i.H_.je(t),!r.isEqual(Lt.min()))try{const s=await Z0(i.localStore);r.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const E=u.K_.get(g);if(!E)return;u.K_.set(g,E.withResumeToken(pn.EMPTY_BYTE_STRING,E.snapshotVersion)),eE(u,g);const b=new na(E.target,g,y,E.sequenceNumber);mm(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(s){gt(ns,"Failed to raise snapshot:",s),await Ic(i,s)}}async function Ic(i,t,r){if(!fl(t))throw t;i.W_.add(1),await Bo(i),i.j_.set("Offline"),r||(r=()=>Z0(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{gt(ns,"Retrying IndexedDB access"),await r(),i.W_.delete(1),await Kc(i)})}function rE(i,t){return t().catch(r=>Ic(i,r,t))}async function $c(i){const t=Pt(i),r=ha(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Wd;for(;S1(t);)try{const l=await a1(t.localStore,s);if(l===null){t.U_.length===0&&r.P_();break}s=l.batchId,w1(t,l)}catch(l){await Ic(t,l)}iE(t)&&aE(t)}function S1(i){return is(i)&&i.U_.length<10}function w1(i,t){i.U_.push(t);const r=ha(i);r.c_()&&r.S_&&r.b_(t.mutations)}function iE(i){return is(i)&&!ha(i).u_()&&i.U_.length>0}function aE(i){ha(i).start()}async function R1(i){ha(i).C_()}async function C1(i){const t=ha(i);for(const r of i.U_)t.b_(r.mutations)}async function D1(i,t,r){const s=i.U_.shift(),l=sm.from(s,t,r);await rE(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await $c(i)}async function V1(i,t){t&&ha(i).S_&&await async function(s,l){if(function(h){return fw(h)&&h!==rt.ABORTED}(l.code)){const u=s.U_.shift();ha(s).h_(),await rE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await $c(s)}}(i,t),iE(i)&&aE(i)}async function Xv(i,t){const r=Pt(i);r.asyncQueue.verifyOperationInProgress(),gt(ns,"RemoteStore received new credentials");const s=is(r);r.W_.add(3),await Bo(r),s&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Kc(r)}async function M1(i,t){const r=Pt(i);t?(r.W_.delete(2),await Kc(r)):t||(r.W_.add(2),await Bo(r),r.j_.set("Unknown"))}function dl(i){return i.J_||(i.J_=function(r,s,l){const u=Pt(r);return u.M_(),new m1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{xo:E1.bind(null,i),No:T1.bind(null,i),Lo:A1.bind(null,i),p_:b1.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),pm(i)?gm(i):i.j_.set("Unknown")):(await i.J_.stop(),nE(i))})),i.J_}function ha(i){return i.Y_||(i.Y_=function(r,s,l){const u=Pt(r);return u.M_(),new g1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:R1.bind(null,i),Lo:V1.bind(null,i),D_:C1.bind(null,i),v_:D1.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await $c(i)):(await i.Y_.stop(),i.U_.length>0&&(gt(ns,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,r,s,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,l,u){const h=Date.now()+s,m=new ym(t,r,h,l,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(i,t){if(Ai("AsyncQueue",`${t}: ${i}`),fl(i))return new vt(rt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(t){return new Js(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||Mt.comparator(r.key,s.key):(r,s)=>Mt.comparator(r.key,s.key),this.keyedMap=yo(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Js)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new Js;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.Z_=new Ce(Mt.comparator)}track(t){const r=t.doc.key,s=this.Z_.get(r);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(r):t.type===1&&s.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):Ot():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,s)=>{t.push(s)}),t}}class al{constructor(t,r,s,l,u,h,m,g,y){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,r,s,l,u){const h=[];return r.forEach(m=>{h.push({type:0,doc:m})}),new al(t,r,Js.emptySet(r),h,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class N1{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,s){const l=Pt(r),u=l.queries;l.queries=Wv(),u.forEach((h,m)=>{for(const g of m.ta)g.onError(s)})})(this,new vt(rt.ABORTED,"Firestore shutting down"))}}function Wv(){return new rs(i=>R0(i),qc)}async function I1(i,t){const r=Pt(i);let s=3;const l=t.query;let u=r.queries.get(l);u?!u.na()&&t.ra()&&(s=2):(u=new x1,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await r.onListen(l,!0);break;case 1:u.ea=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(h){const m=vm(h,`Initialization of query '${$s(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.ta.push(t),t.sa(r.onlineState),u.ea&&t.oa(u.ea)&&_m(r)}async function O1(i,t){const r=Pt(i),s=t.query;let l=3;const u=r.queries.get(s);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function L1(i,t){const r=Pt(i);let s=!1;for(const l of t){const u=l.query,h=r.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(s=!0);h.ea=l}}s&&_m(r)}function U1(i,t,r){const s=Pt(i),l=s.queries.get(t);if(l)for(const u of l.ta)u.onError(r);s.queries.delete(t)}function _m(i){i.ia.forEach(t=>{t.next()})}var Bd,Jv;(Jv=Bd||(Bd={}))._a="default",Jv.Cache="cache";class P1{constructor(t,r,s){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new al(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const s=r!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t){this.key=t}}class lE{constructor(t){this.key=t}}class z1{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$t(),this.mutatedKeys=$t(),this.ya=C0(t),this.wa=new Js(this.ya)}get Sa(){return this.fa}ba(t,r){const s=r?r.Da:new Zv,l=r?r.wa:this.wa;let u=r?r.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,b)=>{const R=l.get(E),C=Hc(this.query,b)?b:null,O=!!R&&this.mutatedKeys.has(R.key),Y=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;R&&C?R.data.isEqual(C.data)?O!==Y&&(s.track({type:3,doc:C}),k=!0):this.va(R,C)||(s.track({type:2,doc:C}),k=!0,(g&&this.ya(C,g)>0||y&&this.ya(C,y)<0)&&(m=!0)):!R&&C?(s.track({type:0,doc:C}),k=!0):R&&!C&&(s.track({type:1,doc:R}),k=!0,(g||y)&&(m=!0)),k&&(C?(h=h.add(C),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((E,b)=>function(C,O){const Y=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return Y(C)-Y(O)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),l=l!=null&&l;const m=r&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,h.length!==0||y?{snapshot:new al(this.query,t.wa,u,h,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Zv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=$t(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const r=[];return t.forEach(s=>{this.pa.has(s)||r.push(new lE(s))}),this.pa.forEach(s=>{t.has(s)||r.push(new sE(s))}),r}Oa(t){this.fa=t.gs,this.pa=$t();const r=this.ba(t.documents);return this.applyChanges(r,!0)}Na(){return al.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Em="SyncEngine";class k1{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class B1{constructor(t){this.key=t,this.Ba=!1}}class j1{constructor(t,r,s,l,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new rs(m=>R0(m),qc),this.qa=new Map,this.Qa=new Set,this.$a=new Ce(Mt.comparator),this.Ua=new Map,this.Ka=new um,this.Wa={},this.Ga=new Map,this.za=il.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function q1(i,t,r=!0){const s=dE(i);let l;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await oE(s,t,r,!0),l}async function H1(i,t){const r=dE(i);await oE(r,t,!0,!1)}async function oE(i,t,r,s){const l=await s1(i.localStore,Hr(t)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await F1(i,t,u,h==="current",l.resumeToken)),i.isPrimaryClient&&r&&tE(i.remoteStore,l),m}async function F1(i,t,r,s,l){i.Ha=(b,R,C)=>async function(Y,k,X,J){let st=k.view.ba(X);st.ls&&(st=await Gv(Y.localStore,k.query,!1).then(({documents:N})=>k.view.ba(N,st)));const Tt=J&&J.targetChanges.get(k.targetId),z=J&&J.targetMismatches.get(k.targetId)!=null,dt=k.view.applyChanges(st,Y.isPrimaryClient,Tt,z);return e_(Y,k.targetId,dt.Ma),dt.snapshot}(i,b,R,C);const u=await Gv(i.localStore,t,!0),h=new z1(t,u.gs),m=h.ba(u.documents),g=ko.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",l),y=h.applyChanges(m,i.isPrimaryClient,g);e_(i,r,y.Ma);const E=new k1(t,r,h);return i.ka.set(t,E),i.qa.has(r)?i.qa.get(r).push(t):i.qa.set(r,[t]),y.snapshot}async function G1(i,t,r){const s=Pt(i),l=s.ka.get(t),u=s.qa.get(l.targetId);if(u.length>1)return s.qa.set(l.targetId,u.filter(h=>!qc(h,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await zd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&dm(s.remoteStore,l.targetId),jd(s,l.targetId)}).catch(cl)):(jd(s,l.targetId),await zd(s.localStore,l.targetId,!0))}async function Q1(i,t){const r=Pt(i),s=r.ka.get(t),l=r.qa.get(s.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),dm(r.remoteStore,s.targetId))}async function Y1(i,t,r){const s=tR(i);try{const l=await function(h,m){const g=Pt(h),y=Ke.now(),E=m.reduce((C,O)=>C.add(O.key),$t());let b,R;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=bi(),Y=$t();return g.ds.getEntries(C,E).next(k=>{O=k,O.forEach((X,J)=>{J.isValidDocument()||(Y=Y.add(X))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,O)).next(k=>{b=k;const X=[];for(const J of m){const st=sw(J,b.get(J.key).overlayedDocument);st!=null&&X.push(new pa(J.key,st,v0(st.value.mapValue),Ar.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,X,m)}).next(k=>{R=k;const X=k.applyToLocalDocumentSet(b,Y);return g.documentOverlayCache.saveOverlays(C,k.batchId,X)})}).then(()=>({batchId:R.batchId,changes:V0(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(h,m,g){let y=h.Wa[h.currentUser.toKey()];y||(y=new Ce(Ft)),y=y.insert(m,g),h.Wa[h.currentUser.toKey()]=y}(s,l.batchId,r),await jo(s,l.changes),await $c(s.remoteStore)}catch(l){const u=vm(l,"Failed to persist write");r.reject(u)}}async function uE(i,t){const r=Pt(i);try{const s=await r1(r.localStore,t);t.targetChanges.forEach((l,u)=>{const h=r.Ua.get(u);h&&(he(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?he(h.Ba):l.removedDocuments.size>0&&(he(h.Ba),h.Ba=!1))}),await jo(r,s,t)}catch(s){await cl(s)}}function t_(i,t,r){const s=Pt(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const l=[];s.ka.forEach((u,h)=>{const m=h.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(h,m){const g=Pt(h);g.onlineState=m;let y=!1;g.queries.forEach((E,b)=>{for(const R of b.ta)R.sa(m)&&(y=!0)}),y&&_m(g)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function K1(i,t,r){const s=Pt(i);s.sharedClientState.updateQueryState(t,"rejected",r);const l=s.Ua.get(t),u=l&&l.key;if(u){let h=new Ce(Mt.comparator);h=h.insert(u,An.newNoDocument(u,Lt.min()));const m=$t().add(u),g=new Qc(Lt.min(),new Map,new Ce(Ft),h,m);await uE(s,g),s.$a=s.$a.remove(u),s.Ua.delete(t),Tm(s)}else await zd(s.localStore,t,!1).then(()=>jd(s,t,r)).catch(cl)}async function $1(i,t){const r=Pt(i),s=t.batch.batchId;try{const l=await n1(r.localStore,t);fE(r,s,null),cE(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await jo(r,l)}catch(l){await cl(l)}}async function X1(i,t,r){const s=Pt(i);try{const l=await function(h,m){const g=Pt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>(he(b!==null),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);fE(s,t,r),cE(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await jo(s,l)}catch(l){await cl(l)}}function cE(i,t){(i.Ga.get(t)||[]).forEach(r=>{r.resolve()}),i.Ga.delete(t)}function fE(i,t,r){const s=Pt(i);let l=s.Wa[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function jd(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.qa.get(t))i.ka.delete(s),r&&i.La.Ja(s,r);i.qa.delete(t),i.isPrimaryClient&&i.Ka.br(t).forEach(s=>{i.Ka.containsKey(s)||hE(i,s)})}function hE(i,t){i.Qa.delete(t.path.canonicalString());const r=i.$a.get(t);r!==null&&(dm(i.remoteStore,r),i.$a=i.$a.remove(t),i.Ua.delete(r),Tm(i))}function e_(i,t,r){for(const s of r)s instanceof sE?(i.Ka.addReference(s.key,t),Z1(i,s)):s instanceof lE?(gt(Em,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,t),i.Ka.containsKey(s.key)||hE(i,s.key)):Ot()}function Z1(i,t){const r=t.key,s=r.path.canonicalString();i.$a.get(r)||i.Qa.has(s)||(gt(Em,"New document in limbo: "+r),i.Qa.add(s),Tm(i))}function Tm(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const r=new Mt(Ae.fromString(t)),s=i.za.next();i.Ua.set(s,new B1(r)),i.$a=i.$a.insert(r,s),tE(i.remoteStore,new na(Hr(rm(r.path)),s,"TargetPurposeLimboResolution",kc.ae))}}async function jo(i,t,r){const s=Pt(i),l=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{h.push(s.Ha(g,t,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=fm.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(h),s.La.p_(l),await async function(g,y){const E=Pt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>nt.forEach(y,R=>nt.forEach(R.Hi,C=>E.persistence.referenceDelegate.addReference(b,R.targetId,C)).next(()=>nt.forEach(R.Ji,C=>E.persistence.referenceDelegate.removeReference(b,R.targetId,C)))))}catch(b){if(!fl(b))throw b;gt(hm,"Failed to update sequence numbers: "+b)}for(const b of y){const R=b.targetId;if(!b.fromCache){const C=E.Ts.get(R),O=C.snapshotVersion,Y=C.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(R,Y)}}}(s.localStore,u))}async function W1(i,t){const r=Pt(i);if(!r.currentUser.isEqual(t)){gt(Em,"User change. New user:",t.toKey());const s=await X0(r.localStore,t);r.currentUser=t,function(u,h){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new vt(rt.CANCELLED,h))})}),u.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await jo(r,s.Rs)}}function J1(i,t){const r=Pt(i),s=r.Ua.get(t);if(s&&s.Ba)return $t().add(s.key);{let l=$t();const u=r.qa.get(t);if(!u)return l;for(const h of u){const m=r.ka.get(h);l=l.unionWith(m.view.Sa)}return l}}function dE(i){const t=Pt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=uE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=J1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=K1.bind(null,t),t.La.p_=L1.bind(null,t.eventManager),t.La.Ja=U1.bind(null,t.eventManager),t}function tR(i){const t=Pt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=X1.bind(null,t),t}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return e1(this.persistence,new Ww,t.initialUser,this.serializer)}Xa(t){return new $0(cm.ri,this.serializer)}Za(t){return new o1}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class eR extends Oc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){he(this.persistence.referenceDelegate instanceof Nc);const s=this.persistence.referenceDelegate.garbageCollector;return new Pw(s,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new $0(s=>Nc.ri(s,r),this.serializer)}}class qd{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>t_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=W1.bind(null,this.syncEngine),await M1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new N1}()}createDatastore(t){const r=Yc(t.databaseInfo.databaseId),s=function(u){return new d1(u)}(t.databaseInfo);return function(u,h,m,g){return new y1(u,h,m,g)}(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return function(s,l,u,h,m){return new _1(s,l,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,r=>t_(this.syncEngine,r,0),function(){return Kv.D()?new Kv:new u1}())}createSyncEngine(t,r){return function(l,u,h,m,g,y,E){const b=new j1(l,u,h,m,g,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const u=Pt(l);gt(ns,"RemoteStore shutting down."),u.W_.add(5),await Bo(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ai("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class rR{constructor(t,r,s,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=Tn.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{gt(da,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(gt(da,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=vm(r,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function md(i,t){i.asyncQueue.verifyOperationInProgress(),gt(da,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async l=>{s.isEqual(l)||(await X0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function n_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await iR(i);gt(da,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(s=>Xv(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>Xv(t.remoteStore,l)),i._onlineComponents=t}async function iR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){gt(da,"Using user provided OfflineComponentProvider");try{await md(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===rt.FAILED_PRECONDITION||l.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;tl("Error using user provided cache. Falling back to memory cache: "+r),await md(i,new Oc)}}else gt(da,"Using default OfflineComponentProvider"),await md(i,new eR(void 0));return i._offlineComponents}async function mE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(gt(da,"Using user provided OnlineComponentProvider"),await n_(i,i._uninitializedComponentsProvider._online)):(gt(da,"Using default OnlineComponentProvider"),await n_(i,new qd))),i._onlineComponents}function aR(i){return mE(i).then(t=>t.syncEngine)}async function r_(i){const t=await mE(i),r=t.eventManager;return r.onListen=q1.bind(null,t.syncEngine),r.onUnlisten=G1.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=H1.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Q1.bind(null,t.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i,t,r){if(!r)throw new vt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function sR(i,t,r,s){if(t===!0&&s===!0)throw new vt(rt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function a_(i){if(!Mt.isDocumentKey(i))throw new vt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function s_(i){if(Mt.isDocumentKey(i))throw new vt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xc(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ot()}function sa(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new vt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xc(i);throw new vt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firestore.googleapis.com",l_=!0;class o_{constructor(t){var r,s;if(t.host===void 0){if(t.ssl!==void 0)throw new vt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yE,this.ssl=l_}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:l_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lw)throw new vt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zc{constructor(t,r,s,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fS;switch(s.type){case"firstParty":return new gS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new vt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=i_.get(r);s&&(gt("ComponentProvider","Removing Datastore"),i_.delete(r),s.terminate())}(this),Promise.resolve()}}function lR(i,t,r,s={}){var l;const u=(i=sa(i,Zc))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${r}`;u.host!==yE&&u.host!==m&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ac(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Tn.MOCK_USER;else{y=FA(s.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new vt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Tn(b)}i._authCredentials=new hS(new s0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ya(this.firestore,t,this._query)}}class Ln{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ln(this.firestore,t,this._key)}}class la extends ya{constructor(t,r,s){super(t,r,rm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ln(this.firestore,null,new Mt(t))}withConverter(t){return new la(this.firestore,t,this._path)}}function oR(i,t,...r){if(i=Qr(i),pE("collection","path",t),i instanceof Zc){const s=Ae.fromString(t,...r);return s_(s),new la(i,null,s)}{if(!(i instanceof Ln||i instanceof la))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ae.fromString(t,...r));return s_(s),new la(i.firestore,null,s)}}function Hd(i,t,...r){if(i=Qr(i),arguments.length===1&&(t=o0.newId()),pE("doc","path",t),i instanceof Zc){const s=Ae.fromString(t,...r);return a_(s),new Ln(i,null,new Mt(s))}{if(!(i instanceof Ln||i instanceof la))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ae.fromString(t,...r));return a_(s),new Ln(i.firestore,i instanceof la?i.converter:null,new Mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="AsyncQueue";class c_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W0(this,"async_queue_retry"),this.Su=()=>{const s=dd();s&&gt(u_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const r=dd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=dd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!fl(t))throw t;gt(u_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Ai("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=r,r}enqueueAfterDelay(t,r,s){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const l=ym.createAndSchedule(this,t,r,s,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Ot()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function f_(i){return function(r,s){if(typeof r!="object"||r===null)return!1;const l=r;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1}(i,["next","error","complete"])}class sl extends Zc{constructor(t,r,s,l){super(t,r,s,l),this.type="firestore",this._queue=new c_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c_(t),this._firestoreClient=void 0,await t}}}function uR(i,t){const r=typeof i=="object"?i:tS(),s=typeof i=="string"?i:Rc,l=$b(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=qA("firestore");u&&lR(l,...u)}return l}function vE(i){if(i._terminated)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||cR(i),i._firestoreClient}function cR(i){var t,r,s;const l=i._freezeSettings(),u=function(m,g,y,E){return new MS(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,gE(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new rR(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ll(pn.fromBase64String(t))}catch(r){throw new vt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ll(pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new vt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new vt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new vt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=/^__.*__$/;class hR{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,r,this.fieldTransforms):new zo(t,this.data,r,this.fieldTransforms)}}class _E{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new pa(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function EE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class Sm{constructor(t,r,s,l,u,h){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Sm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Lc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(EE(this.Lu)&&fR.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class dR{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Yc(t)}ju(t,r,s,l=!1){return new Sm({Lu:t,methodName:r,zu:s,path:mn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(i){const t=i._freezeSettings(),r=Yc(i._databaseId);return new dR(i._databaseId,!!t.ignoreUndefinedProperties,r)}function mR(i,t,r,s,l,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,t,r,l);Cm("Data must be an object, but it was:",h,s);const m=TE(s,h);let g,y;if(u.merge)g=new Gn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=Fd(t,b,r);if(!h.contains(R))throw new vt(rt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);bE(E,R)||E.push(R)}g=new Gn(E),y=h.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=h.fieldTransforms;return new hR(new On(m),g,y)}class tf extends Jc{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tf}}class Rm extends Jc{_toFieldTransform(t){return new nw(t.path,new Io)}isEqual(t){return t instanceof Rm}}function gR(i,t,r,s){const l=i.ju(1,t,r);Cm("Data must be an object, but it was:",l,s);const u=[],h=On.empty();ga(s,(g,y)=>{const E=Dm(t,g,r);y=Qr(y);const b=l.Uu(E);if(y instanceof tf)u.push(E);else{const R=qo(y,b);R!=null&&(u.push(E),h.set(E,R))}});const m=new Gn(u);return new _E(h,m,l.fieldTransforms)}function pR(i,t,r,s,l,u){const h=i.ju(1,t,r),m=[Fd(t,s,r)],g=[l];if(u.length%2!=0)throw new vt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Fd(t,u[R])),g.push(u[R+1]);const y=[],E=On.empty();for(let R=m.length-1;R>=0;--R)if(!bE(y,m[R])){const C=m[R];let O=g[R];O=Qr(O);const Y=h.Uu(C);if(O instanceof tf)y.push(C);else{const k=qo(O,Y);k!=null&&(y.push(C),E.set(C,k))}}const b=new Gn(y);return new _E(E,b,h.fieldTransforms)}function yR(i,t,r,s=!1){return qo(r,i.ju(s?4:3,t))}function qo(i,t){if(AE(i=Qr(i)))return Cm("Unsupported field value:",t,i),TE(i,t);if(i instanceof Jc)return function(s,l){if(!EE(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const u=[];let h=0;for(const m of s){let g=qo(m,l.Ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,t)}return function(s,l){if((s=Qr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JS(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ke.fromDate(s);return{timestampValue:xc(l.serializer,u)}}if(s instanceof Ke){const u=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xc(l.serializer,u)}}if(s instanceof Am)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ll)return{bytesValue:j0(l.serializer,s._byteString)};if(s instanceof Ln){const u=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:om(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bm)return function(h,m){return{mapValue:{fields:{[p0]:{stringValue:y0},[Cc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return im(m.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Xc(s)}`)}(i,t)}function TE(i,t){const r={};return c0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ga(i,(s,l)=>{const u=qo(l,t.qu(s));u!=null&&(r[s]=u)}),{mapValue:{fields:r}}}function AE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ke||i instanceof Am||i instanceof ll||i instanceof Ln||i instanceof Jc||i instanceof bm)}function Cm(i,t,r){if(!AE(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const s=Xc(r);throw s==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+s)}}function Fd(i,t,r){if((t=Qr(t))instanceof Wc)return t._internalPath;if(typeof t=="string")return Dm(i,t);throw Lc("Field path arguments must be of type string or ",i,!1,void 0,r)}const vR=new RegExp("[~\\*/\\[\\]]");function Dm(i,t,r){if(t.search(vR)>=0)throw Lc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Wc(...t.split("."))._internalPath}catch{throw Lc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Lc(i,t,r,s,l){const u=s&&!s.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${l}`),g+=")"),new vt(rt.INVALID_ARGUMENT,m+i+g)}function bE(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,r,s,l,u){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(ef("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _R extends SE{data(){return super.data()}}function ef(i,t){return typeof t=="string"?Dm(i,t):t instanceof Wc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new vt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class Mm extends Vm{}function h_(i,t,...r){let s=[];t instanceof Vm&&s.push(t),s=s.concat(r),function(u){const h=u.filter(g=>g instanceof xm).length,m=u.filter(g=>g instanceof nf).length;if(h>1||h>0&&m>0)throw new vt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class nf extends Mm{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new nf(t,r,s)}_apply(t){const r=this._parse(t);return wE(t._query,r),new ya(t.firestore,t.converter,Id(t._query,r))}_parse(t){const r=wm(t.firestore);return function(u,h,m,g,y,E,b){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new vt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){p_(b,E);const O=[];for(const Y of b)O.push(g_(g,u,Y));R={arrayValue:{values:O}}}else R=g_(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||p_(b,E),R=yR(m,h,b,E==="in"||E==="not-in");return He.create(y,E,R)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function d_(i,t,r){const s=t,l=ef("where",i);return nf._create(l,s,r)}class xm extends Vm{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new xm(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return r.length===1?r[0]:br.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const g of m)wE(h,g),h=Id(h,g)}(t._query,r),new ya(t.firestore,t.converter,Id(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nm extends Mm{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Nm(t,r)}_apply(t){const r=function(l,u,h){if(l.startAt!==null)throw new vt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new vt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new No(u,h)}(t._query,this._field,this._direction);return new ya(t.firestore,t.converter,function(l,u){const h=l.explicitOrderBy.concat([u]);return new hl(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,r))}}function m_(i,t="asc"){const r=t,s=ef("orderBy",i);return Nm._create(s,r)}class Im extends Mm{constructor(t,r,s){super(),this.type=t,this._limit=r,this._limitType=s}static _create(t,r,s){return new Im(t,r,s)}_apply(t){return new ya(t.firestore,t.converter,Vc(t._query,this._limit,this._limitType))}}function TR(i){return Im._create("limit",i,"F")}function g_(i,t,r){if(typeof(r=Qr(r))=="string"){if(r==="")throw new vt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w0(t)&&r.indexOf("/")!==-1)throw new vt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(Ae.fromString(r));if(!Mt.isDocumentKey(s))throw new vt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rv(i,new Mt(s))}if(r instanceof Ln)return Rv(i,r._key);throw new vt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(r)}.`)}function p_(i,t){if(!Array.isArray(i)||i.length===0)throw new vt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wE(i,t){const r=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new vt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class AR{convertValue(t,r="none"){switch(fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return ga(t,(l,u)=>{s[l]=this.convertValue(u,r)}),s}convertVectorValue(t){var r,s,l;const u=(l=(s=(r=t.fields)===null||r===void 0?void 0:r[Cc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(h=>Ue(h.doubleValue));return new bm(u)}convertGeoPoint(t){return new Am(Ue(t.latitude),Ue(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=jc(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Vo(t));default:return null}}convertTimestamp(t){const r=ua(t);return new Ke(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=Ae.fromString(t);he(Y0(s));const l=new Mo(s.get(1),s.get(3)),u=new Mt(s.popFirst(5));return l.isEqual(r)||Ai(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(i,t,r){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class RE extends SE{constructor(t,r,s,l,u,h){super(t,r,s,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(ef("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class yc extends RE{data(t={}){return super.data(t)}}class SR{constructor(t,r,s,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new _o(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new yc(this._firestore,this._userDataWriter,s.key,s,new _o(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new vt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const g=new yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _o(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new yc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new _o(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:wR(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}class CE extends AR{constructor(t){super(),this.firestore=t}convertBytes(t){return new ll(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,r)}}function RR(i,t,r,...s){i=sa(i,Ln);const l=sa(i.firestore,sl),u=wm(l);let h;return h=typeof(t=Qr(t))=="string"||t instanceof Wc?pR(u,"updateDoc",i._key,t,r,s):gR(u,"updateDoc",i._key,t),Om(l,[h.toMutation(i._key,Ar.exists(!0))])}function CR(i){return Om(sa(i.firestore,sl),[new am(i._key,Ar.none())])}function DR(i,t){const r=sa(i.firestore,sl),s=Hd(i),l=bR(i.converter,t);return Om(r,[mR(wm(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Ar.exists(!1))]).then(()=>s)}function y_(i,...t){var r,s,l;i=Qr(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||f_(t[h])||(u=t[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(f_(t[h])){const b=t[h];t[h]=(r=b.next)===null||r===void 0?void 0:r.bind(b),t[h+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),t[h+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let g,y,E;if(i instanceof Ln)y=sa(i.firestore,sl),E=rm(i._key.path),g={next:b=>{t[h]&&t[h](VR(y,i,b))},error:t[h+1],complete:t[h+2]};else{const b=sa(i,ya);y=sa(b.firestore,sl),E=b._query;const R=new CE(y);g={next:C=>{t[h]&&t[h](new SR(y,R,b,C))},error:t[h+1],complete:t[h+2]},ER(i._query)}return function(R,C,O,Y){const k=new nR(Y),X=new P1(C,k,O);return R.asyncQueue.enqueueAndForget(async()=>I1(await r_(R),X)),()=>{k.su(),R.asyncQueue.enqueueAndForget(async()=>O1(await r_(R),X))}}(vE(y),E,m,g)}function Om(i,t){return function(s,l){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>Y1(await aR(s),l,u)),u.promise}(vE(i),t)}function VR(i,t,r){const s=r.docs.get(t._key),l=new CE(i);return new RE(i,l,t._key,s,new _o(r.hasPendingWrites,r.fromCache),t.converter)}function v_(){return new Rm("serverTimestamp")}(function(t,r=!0){(function(l){ul=l})(Jb),Sc(new Ro("firestore",(s,{instanceIdentifier:l,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new sl(new dS(s.getProvider("auth-internal")),new pS(h,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new vt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(y.options.projectId,E)}(h,l),h);return u=Object.assign({useFetchStreams:r},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ws(mv,gv,t),Ws(mv,gv,"esm2017")})();var MR="firebase",xR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(MR,xR,"app");const NR={apiKey:"AIzaSyAq5jNwwzisB3BNjwUrZmi5rUNEObAmUXw",authDomain:"tedxnhce-queuer.firebaseapp.com",projectId:"tedxnhce-queuer",storageBucket:"tedxnhce-queuer.firebasestorage.app",messagingSenderId:"977802517337",appId:"1:977802517337:web:db2b785d4c037b66260a48"},IR=Z_(NR),gd=uR(IR),DE=K.createContext(),OR=({children:i})=>{const[t,r]=K.useState([]),[s,l]=K.useState([]),[u,h]=K.useState(!1),m=oR(gd,"queue");K.useEffect(()=>{const C=JSON.parse(localStorage.getItem("registered"));C&&C.time&&h(!0)},[]);const g=()=>y_(h_(m,d_("completed","!=",!0),m_("timestamp","asc")),O=>{const Y=O.docs.map(k=>({id:k.id,...k.data()}));r(Y)}),y=()=>{const C=h_(m,d_("completed","!=",!0),m_("timestamp","asc"),TR(4));return y_(C,Y=>{l(Y.docs.map(k=>({id:k.id,...k.data()})))})},E=async(C,O,Y)=>{const k=JSON.parse(localStorage.getItem("registered"));if(k&&Date.now()-k.time<30*60*1e3)throw Error("try_again");try{await DR(m,{...C,team_id:O,team_name:Y??"",timestamp:v_(),completed:!1}),localStorage.setItem("registered",JSON.stringify({time:Date.now(),id:O,name:C.name})),h(!0)}catch(X){throw Error(X)}},b=async()=>{const C=t.slice(0,4);for(let O of C)await RR(Hd(gd,m.path,O.id),{completed:!0,completedAt:v_()})},R=async C=>{console.log(C,typeof C),await CR(Hd(gd,"queue",C))};return Et.jsx(DE.Provider,{value:{queue:t,addToQueue:E,popTeam:b,listenCurrentlyPlaying:y,listen:g,playing:s,removePerson:R,registered:u},children:i})},Lm=()=>K.useContext(DE);function LR(){const{queue:i,addToQueue:t,popTeam:r,listenCurrentlyPlaying:s,playing:l,registered:u}=Lm();K.useEffect(()=>{const m=s();return()=>m()},[]);const h=JSON.parse(localStorage.getItem("registered"));return Et.jsxs("div",{className:"flex flex-col p-4 h-dvh justify-center",children:[Et.jsx("div",{className:"flex justify-center items-center",children:Et.jsx("img",{src:"/logo-black.png"})}),Et.jsxs("div",{children:[Et.jsx("h1",{className:"text-lg text-center",children:"Currently Playing"}),l.length<4&&Et.jsx("div",{className:"flex justify-center items-center my-10",children:H_}),l.length>=4&&Et.jsx("div",{className:"grid grid-cols-2",children:l.map((m,g)=>Et.jsx("div",{className:"flex justify-center items-center text-white aspect-square m-10",style:{backgroundColor:`hsl(${Math.random()*360} 50% 80%)`},children:m.name},g))})]}),u&&Et.jsxs("div",{className:"flex justify-center flex-col items-center",children:[Et.jsxs("div",{className:"text-2xl",children:["You have registered as ",h.name]}),Et.jsxs("div",{className:"mt-2",children:["ID: ",h.id]})]}),Et.jsx(UR,{})]})}function UR(){const{addToQueue:i,registered:t}=Lm(),[r,s]=K.useState([{usn:"1NH",name:""}]),l=(g,y)=>{const E=[...r];E[g].usn=y,s(E)},u=(g,y)=>{const E=[...r];E[g].name=y,s(E)},h=async()=>{const g=Math.floor(Math.random()*9e3+1e3);await i(r[0],g)},m=JSON.parse(localStorage.getItem("registered"));return t&&Date.now()-m.time<30*60*1e3?Et.jsxs("div",{className:"text-center",children:["You can register again at ",new Date(m.time+30*60*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})]}):Et.jsxs("div",{className:"flex justify-center flex-col",children:[Et.jsx("h1",{className:"text-3xl text-center",children:"Register"}),r.map((g,y)=>Et.jsxs("div",{className:"mb-4",children:[Et.jsx("label",{htmlFor:`player-${y}`,className:"block mb-2 text-sm font-medium text-gray-900",children:"Player Details"}),Et.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[Et.jsx("input",{type:"text",placeholder:"USN",value:g.usn,onChange:E=>l(y,E.target.value),id:`player-${y}-usn`,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500  placeholder-gray-400"}),Et.jsx("input",{type:"text",placeholder:"Name",value:g.name,onChange:E=>u(y,E.target.value),id:`player-${y}-name`,className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500  placeholder-gray-400"})]})]},y)),Et.jsx(Td,{onClick:h,children:"Register"})]})}var fo={},__;function PR(){if(__)return fo;__=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.parse=h,fo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,C){const O=new u,Y=R.length;if(Y<2)return O;const k=(C==null?void 0:C.decode)||E;let X=0;do{const J=R.indexOf("=",X);if(J===-1)break;const st=R.indexOf(";",X),Tt=st===-1?Y:st;if(J>Tt){X=R.lastIndexOf(";",J-1)+1;continue}const z=m(R,X,J),dt=g(R,J,z),N=R.slice(z,dt);if(O[N]===void 0){let w=m(R,J+1,Tt),S=g(R,Tt,w);const V=k(R.slice(w,S));O[N]=V}X=Tt+1}while(X<Y);return O}function m(R,C,O){do{const Y=R.charCodeAt(C);if(Y!==32&&Y!==9)return C}while(++C<O);return O}function g(R,C,O){for(;C>O;){const Y=R.charCodeAt(--C);if(Y!==32&&Y!==9)return C+1}return O}function y(R,C,O){const Y=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const k=Y(C);if(!t.test(k))throw new TypeError(`argument val is invalid: ${C}`);let X=R+"="+k;if(!O)return X;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);X+="; Max-Age="+O.maxAge}if(O.domain){if(!r.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);X+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);X+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);X+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(X+="; HttpOnly"),O.secure&&(X+="; Secure"),O.partitioned&&(X+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return X}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return l.call(R)==="[object Date]"}return fo}PR();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VE=i=>{throw TypeError(i)},zR=(i,t,r)=>t.has(i)||VE("Cannot "+r),pd=(i,t,r)=>(zR(i,t,"read from private field"),r?r.call(i):t.get(i)),kR=(i,t,r)=>t.has(i)?VE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,r),E_="popstate";function BR(i={}){function t(s,l){let{pathname:u,search:h,hash:m}=s.location;return Uo("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:ma(l)}return qR(t,r,null,i)}function Zt(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function gn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jR(){return Math.random().toString(36).substring(2,10)}function T_(i,t){return{usr:i.state,key:i.key,idx:t}}function Uo(i,t,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?va(t):t,state:r,key:t&&t.key||s||jR()}}function ma({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function va(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function qR(i,t,r,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,h=l.history,m="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let k=E(),X=k==null?null:k-y;y=k,g&&g({action:m,location:Y.location,delta:X})}function R(k,X){m="PUSH";let J=Uo(Y.location,k,X);y=E()+1;let st=T_(J,y),Tt=Y.createHref(J);try{h.pushState(st,"",Tt)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;l.location.assign(Tt)}u&&g&&g({action:m,location:Y.location,delta:1})}function C(k,X){m="REPLACE";let J=Uo(Y.location,k,X);y=E();let st=T_(J,y),Tt=Y.createHref(J);h.replaceState(st,"",Tt),u&&g&&g({action:m,location:Y.location,delta:0})}function O(k){let X=l.location.origin!=="null"?l.location.origin:l.location.href,J=typeof k=="string"?k:ma(k);return J=J.replace(/ $/,"%20"),Zt(X,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,X)}let Y={get action(){return m},get location(){return i(l,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(E_,b),g=k,()=>{l.removeEventListener(E_,b),g=null}},createHref(k){return t(l,k)},createURL:O,encodeLocation(k){let X=O(k);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:C,go(k){return h.go(k)}};return Y}var Eo,A_=class{constructor(i){if(kR(this,Eo,new Map),i)for(let[t,r]of i)this.set(t,r)}get(i){if(pd(this,Eo).has(i))return pd(this,Eo).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,t){pd(this,Eo).set(i,t)}};Eo=new WeakMap;var HR=new Set(["lazy","caseSensitive","path","id","index","children"]);function FR(i){return i.index===!0}function Uc(i,t,r=[],s={}){return i.map((l,u)=>{let h=[...r,String(u)],m=typeof l.id=="string"?l.id:h.join("-");if(Zt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Zt(!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),FR(l)){let g={...l,...t(l),id:m};return s[m]=g,g}else{let g={...l,...t(l),id:m,children:void 0};return s[m]=g,l.children&&(g.children=Uc(l.children,t,h,s)),g}})}function ea(i,t,r="/"){return vc(i,t,r,!1)}function vc(i,t,r,s){let l=typeof t=="string"?va(t):t,u=hr(l.pathname||"/",r);if(u==null)return null;let h=ME(i);QR(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=r2(u);m=e2(h[g],y,s)}return m}function GR(i,t){let{route:r,pathname:s,params:l}=i;return{id:r.id,pathname:s,params:l,data:t[r.id],handle:r.handle}}function ME(i,t=[],r=[],s=""){let l=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Zt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Gr([s,g.relativePath]),E=r.concat(g);u.children&&u.children.length>0&&(Zt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ME(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:JR(y,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let g of xE(u.path))l(u,h,g)}),t}function xE(i){let t=i.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let h=xE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function QR(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:t2(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var YR=/^:[\w-]+$/,KR=3,$R=2,XR=1,ZR=10,WR=-2,b_=i=>i==="*";function JR(i,t){let r=i.split("/"),s=r.length;return r.some(b_)&&(s+=WR),t&&(s+=$R),r.filter(l=>!b_(l)).reduce((l,u)=>l+(YR.test(u)?KR:u===""?XR:ZR),s)}function t2(i,t){return i.length===t.length&&i.slice(0,-1).every((s,l)=>s===t[l])?i[i.length-1]-t[t.length-1]:0}function e2(i,t,r=!1){let{routesMeta:s}=i,l={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=Pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!b&&y&&r&&!s[s.length-1].route.index&&(b=Pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:Gr([u,b.pathname]),pathnameBase:s2(Gr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=Gr([u,b.pathnameBase]))}return h}function Pc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=n2(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},R)=>{if(E==="*"){let O=m[R]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const C=m[R];return b&&!C?y[E]=void 0:y[E]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function n2(i,t=!1,r=!0){gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function r2(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function hr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function i2(i,t="/"){let{pathname:r,search:s="",hash:l=""}=typeof i=="string"?va(i):i;return{pathname:r?r.startsWith("/")?r:a2(r,t):t,search:l2(s),hash:o2(l)}}function a2(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function yd(i,t,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NE(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Um(i){let t=NE(i);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Pm(i,t,r,s=!1){let l;typeof i=="string"?l=va(i):(l={...i},Zt(!l.pathname||!l.pathname.includes("?"),yd("?","pathname","search",l)),Zt(!l.pathname||!l.pathname.includes("#"),yd("#","pathname","hash",l)),Zt(!l.search||!l.search.includes("#"),yd("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=r;else{let b=t.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),b-=1;l.pathname=R.join("/")}m=b>=0?t[b]:"/"}let g=i2(l,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Gr=i=>i.join("/").replace(/\/\/+/g,"/"),s2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),l2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,o2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,zc=class{constructor(i,t,r,s=!1){this.status=i,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Po(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var IE=["POST","PUT","PATCH","DELETE"],u2=new Set(IE),c2=["GET",...IE],f2=new Set(c2),h2=new Set([301,302,303,307,308]),d2=new Set([307,308]),vd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},m2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ho={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g2=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),OE="remix-router-transitions",LE=Symbol("ResetLoaderData");function p2(i){const t=i.window?i.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Zt(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||g2,l={},u=Uc(i.routes,s,void 0,l),h,m=i.basename||"/",g=i.dataStrategy||T2,y={unstable_middleware:!1,...i.future},E=null,b=new Set,R=null,C=null,O=null,Y=i.hydrationData!=null,k=ea(u,i.history.location,m),X=!1,J=null;if(k==null&&!i.patchRoutesOnNavigation){let x=fr(404,{pathname:i.history.location.pathname}),{matches:B,route:Q}=L_(u);k=B,J={[Q.id]:x}}k&&!i.hydrationData&&yn(k,u,i.history.location.pathname).active&&(k=null);let st;if(k)if(k.some(x=>x.route.lazy))st=!1;else if(!k.some(x=>x.route.loader))st=!0;else{let x=i.hydrationData?i.hydrationData.loaderData:null,B=i.hydrationData?i.hydrationData.errors:null;if(B){let Q=k.findIndex(tt=>B[tt.route.id]!==void 0);st=k.slice(0,Q+1).every(tt=>!Qd(tt.route,x,B))}else st=k.every(Q=>!Qd(Q.route,x,B))}else{st=!1,k=[];let x=yn(null,u,i.history.location.pathname);x.active&&x.matches&&(X=!0,k=x.matches)}let Tt,z={historyAction:i.history.action,location:i.history.location,matches:k,initialized:st,navigation:vd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||J,fetchers:new Map,blockers:new Map},dt="POP",N=!1,w,S=!1,V=new Map,L=null,j=!1,M=!1,be=new Set,qt=new Map,ot=0,Vt=-1,At=new Map,Bt=new Set,I=new Map,at=new Map,mt=new Set,ct=new Map,ht,It=null;function zt(){if(E=i.history.listen(({action:x,location:B,delta:Q})=>{if(ht){ht(),ht=void 0;return}gn(ct.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let tt=Je({currentLocation:z.location,nextLocation:B,historyAction:x});if(tt&&Q!=null){let ut=new Promise(Ct=>{ht=Ct});i.history.go(Q*-1),bn(tt,{state:"blocked",location:B,proceed(){bn(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ut.then(()=>i.history.go(Q))},reset(){let Ct=new Map(z.blockers);Ct.set(tt,ho),Gt({blockers:Ct})}});return}return Pe(x,B)}),r){I2(t,V);let x=()=>O2(t,V);t.addEventListener("pagehide",x),L=()=>t.removeEventListener("pagehide",x)}return z.initialized||Pe("POP",z.location,{initialHydration:!0}),Tt}function De(){E&&E(),L&&L(),b.clear(),w&&w.abort(),z.fetchers.forEach((x,B)=>Pn(B)),z.blockers.forEach((x,B)=>Di(B))}function Wt(x){return b.add(x),()=>b.delete(x)}function Gt(x,B={}){z={...z,...x};let Q=[],tt=[];z.fetchers.forEach((ut,Ct)=>{ut.state==="idle"&&(mt.has(Ct)?Q.push(Ct):tt.push(Ct))}),mt.forEach(ut=>{!z.fetchers.has(ut)&&!qt.has(ut)&&Q.push(ut)}),[...b].forEach(ut=>ut(z,{deletedFetchers:Q,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),Q.forEach(ut=>Pn(ut)),tt.forEach(ut=>z.fetchers.delete(ut))}function Kt(x,B,{flushSync:Q}={}){var ft,pt;let tt=z.actionData!=null&&z.navigation.formMethod!=null&&Tr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((ft=x.state)==null?void 0:ft._isRedirect)!==!0,ut;B.actionData?Object.keys(B.actionData).length>0?ut=B.actionData:ut=null:tt?ut=z.actionData:ut=null;let Ct=B.loaderData?I_(z.loaderData,B.loaderData,B.matches||[],B.errors):z.loaderData,Rt=z.blockers;Rt.size>0&&(Rt=new Map(Rt),Rt.forEach((yt,xt)=>Rt.set(xt,ho)));let bt=N===!0||z.navigation.formMethod!=null&&Tr(z.navigation.formMethod)&&((pt=x.state)==null?void 0:pt._isRedirect)!==!0;h&&(u=h,h=void 0),j||dt==="POP"||(dt==="PUSH"?i.history.push(x,x.state):dt==="REPLACE"&&i.history.replace(x,x.state));let St;if(dt==="POP"){let yt=V.get(z.location.pathname);yt&&yt.has(x.pathname)?St={currentLocation:z.location,nextLocation:x}:V.has(x.pathname)&&(St={currentLocation:x,nextLocation:z.location})}else if(S){let yt=V.get(z.location.pathname);yt?yt.add(x.pathname):(yt=new Set([x.pathname]),V.set(z.location.pathname,yt)),St={currentLocation:z.location,nextLocation:x}}Gt({...B,actionData:ut,loaderData:Ct,historyAction:dt,location:x,initialized:!0,navigation:vd,revalidation:"idle",restoreScrollPosition:gr(x,B.matches||z.matches),preventScrollReset:bt,blockers:Rt},{viewTransitionOpts:St,flushSync:Q===!0}),dt="POP",N=!1,S=!1,j=!1,M=!1,It==null||It.resolve(),It=null}async function Xe(x,B){if(typeof x=="number"){i.history.go(x);return}let Q=Gd(z.location,z.matches,m,x,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:tt,submission:ut,error:Ct}=S_(!1,Q,B),Rt=z.location,bt=Uo(z.location,tt,B&&B.state);bt={...bt,...i.history.encodeLocation(bt)};let St=B&&B.replace!=null?B.replace:void 0,ft="PUSH";St===!0?ft="REPLACE":St===!1||ut!=null&&Tr(ut.formMethod)&&ut.formAction===z.location.pathname+z.location.search&&(ft="REPLACE");let pt=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,yt=(B&&B.flushSync)===!0,xt=Je({currentLocation:Rt,nextLocation:bt,historyAction:ft});if(xt){bn(xt,{state:"blocked",location:bt,proceed(){bn(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:bt}),Xe(x,B)},reset(){let ae=new Map(z.blockers);ae.set(xt,ho),Gt({blockers:ae})}});return}await Pe(ft,bt,{submission:ut,pendingError:Ct,preventScrollReset:pt,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:yt})}function dr(){It||(It=L2()),Ze(),Gt({revalidation:"loading"});let x=It.promise;return z.navigation.state==="submitting"?x:z.navigation.state==="idle"?(Pe(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),x):(Pe(dt||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:S===!0}),x)}async function Pe(x,B,Q){w&&w.abort(),w=null,dt=x,j=(Q&&Q.startUninterruptedRevalidation)===!0,Yn(z.location,z.matches),N=(Q&&Q.preventScrollReset)===!0,S=(Q&&Q.enableViewTransition)===!0;let tt=h||u,ut=Q&&Q.overrideNavigation,Ct=Q!=null&&Q.initialHydration&&z.matches&&z.matches.length>0&&!X?z.matches:ea(tt,B,m),Rt=(Q&&Q.flushSync)===!0;if(Ct&&z.initialized&&!M&&D2(z.location,B)&&!(Q&&Q.submission&&Tr(Q.submission.formMethod))){Kt(B,{matches:Ct},{flushSync:Rt});return}let bt=yn(Ct,tt,B.pathname);if(bt.active&&bt.matches&&(Ct=bt.matches),!Ct){let{error:pe,notFoundMatches:ie,route:Te}=Zr(B.pathname);Kt(B,{matches:ie,loaderData:{},errors:{[Te.id]:pe}},{flushSync:Rt});return}w=new AbortController;let St=Ys(i.history,B,w.signal,Q&&Q.submission),ft=new A_(i.unstable_getContext?await i.unstable_getContext():void 0),pt;if(Q&&Q.pendingError)pt=[Za(Ct).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Tr(Q.submission.formMethod)){let pe=await Sr(St,B,Q.submission,Ct,ft,bt.active,{replace:Q.replace,flushSync:Rt});if(pe.shortCircuited)return;if(pe.pendingActionResult){let[ie,Te]=pe.pendingActionResult;if(Fn(Te)&&Po(Te.error)&&Te.error.status===404){w=null,Kt(B,{matches:pe.matches,loaderData:{},errors:{[ie]:Te.error}});return}}Ct=pe.matches||Ct,pt=pe.pendingActionResult,ut=_d(B,Q.submission),Rt=!1,bt.active=!1,St=Ys(i.history,St.url,St.signal)}let{shortCircuited:yt,matches:xt,loaderData:ae,errors:Se}=await wr(St,B,Ct,ft,bt.active,ut,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Rt,pt);yt||(w=null,Kt(B,{matches:xt||Ct,...O_(pt),loaderData:ae,errors:Se}))}async function Sr(x,B,Q,tt,ut,Ct,Rt={}){Ze();let bt=x2(B,Q);if(Gt({navigation:bt},{flushSync:Rt.flushSync===!0}),Ct){let pt=await on(tt,B.pathname,x.signal);if(pt.type==="aborted")return{shortCircuited:!0};if(pt.type==="error"){let yt=Za(pt.partialMatches).route.id;return{matches:pt.partialMatches,pendingActionResult:[yt,{type:"error",error:pt.error}]}}else if(pt.matches)tt=pt.matches;else{let{notFoundMatches:yt,error:xt,route:ae}=Zr(B.pathname);return{matches:yt,pendingActionResult:[ae.id,{type:"error",error:xt}]}}}let St,ft=To(tt,B);if(!ft.route.action&&!ft.route.lazy)St={type:"error",error:fr(405,{method:x.method,pathname:B.pathname,routeId:ft.route.id})};else{let pt=await Xr("action",x,[ft],tt,ut,null);if(St=pt[ft.route.id],!St){for(let yt of tt)if(pt[yt.route.id]){St=pt[yt.route.id];break}}if(x.signal.aborted)return{shortCircuited:!0}}if(Ja(St)){let pt;return Rt&&Rt.replace!=null?pt=Rt.replace:pt=M_(St.response.headers.get("Location"),new URL(x.url),m)===z.location.pathname+z.location.search,await Vn(x,St,!0,{submission:Q,replace:pt}),{shortCircuited:!0}}if(Fn(St)){let pt=Za(tt,ft.route.id);return(Rt&&Rt.replace)!==!0&&(dt="PUSH"),{matches:tt,pendingActionResult:[pt.route.id,St]}}return{matches:tt,pendingActionResult:[ft.route.id,St]}}async function wr(x,B,Q,tt,ut,Ct,Rt,bt,St,ft,pt,yt){let xt=Ct||_d(B,Rt),ae=Rt||bt||P_(xt),Se=!j&&!ft;if(ut){if(Se){let ce=Qn(yt);Gt({navigation:xt,...ce!==void 0?{actionData:ce}:{}},{flushSync:pt})}let jt=await on(Q,B.pathname,x.signal);if(jt.type==="aborted")return{shortCircuited:!0};if(jt.type==="error"){let ce=Za(jt.partialMatches).route.id;return{matches:jt.partialMatches,loaderData:{},errors:{[ce]:jt.error}}}else if(jt.matches)Q=jt.matches;else{let{error:ce,notFoundMatches:tn,route:Wr}=Zr(B.pathname);return{matches:tn,loaderData:{},errors:{[Wr.id]:ce}}}}let pe=h||u,[ie,Te]=R_(i.history,z,Q,ae,B,ft===!0,M,be,mt,I,Bt,pe,m,yt);if(Vt=++ot,ie.length===0&&Te.length===0){let jt=Rr();return Kt(B,{matches:Q,loaderData:{},errors:yt&&Fn(yt[1])?{[yt[0]]:yt[1].error}:null,...O_(yt),...jt?{fetchers:new Map(z.fetchers)}:{}},{flushSync:pt}),{shortCircuited:!0}}if(Se){let jt={};if(!ut){jt.navigation=xt;let ce=Qn(yt);ce!==void 0&&(jt.actionData=ce)}Te.length>0&&(jt.fetchers=_a(Te)),Gt(jt,{flushSync:pt})}Te.forEach(jt=>{Mn(jt.key),jt.controller&&qt.set(jt.key,jt.controller)});let Sn=()=>Te.forEach(jt=>Mn(jt.key));w&&w.signal.addEventListener("abort",Sn);let{loaderResults:zn,fetcherResults:Oe}=await Ci(Q,ie,Te,x,tt);if(x.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Sn),Te.forEach(jt=>qt.delete(jt.key));let ze=cc(zn);if(ze)return await Vn(x,ze.result,!0,{replace:St}),{shortCircuited:!0};if(ze=cc(Oe),ze)return Bt.add(ze.key),await Vn(x,ze.result,!0,{replace:St}),{shortCircuited:!0};let{loaderData:Kn,errors:xn}=N_(z,Q,zn,yt,Te,Oe);ft&&z.errors&&(xn={...z.errors,...xn});let ue=Rr(),Dr=mr(Vt),pr=ue||Dr||Te.length>0;return{matches:Q,loaderData:Kn,errors:xn,...pr?{fetchers:new Map(z.fetchers)}:{}}}function Qn(x){if(x&&!Fn(x[1]))return{[x[0]]:x[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function _a(x){return x.forEach(B=>{let Q=z.fetchers.get(B.key),tt=mo(void 0,Q?Q.data:void 0);z.fetchers.set(B.key,tt)}),new Map(z.fetchers)}async function wi(x,B,Q,tt){Mn(x);let ut=(tt&&tt.flushSync)===!0,Ct=h||u,Rt=Gd(z.location,z.matches,m,Q,B,tt==null?void 0:tt.relative),bt=ea(Ct,Rt,m),St=yn(bt,Ct,Rt);if(St.active&&St.matches&&(bt=St.matches),!bt){de(x,B,fr(404,{pathname:Rt}),{flushSync:ut});return}let{path:ft,submission:pt,error:yt}=S_(!0,Rt,tt);if(yt){de(x,B,yt,{flushSync:ut});return}let xt=To(bt,ft),ae=new A_(i.unstable_getContext?await i.unstable_getContext():void 0),Se=(tt&&tt.preventScrollReset)===!0;if(pt&&Tr(pt.formMethod)){await Ri(x,B,ft,xt,bt,ae,St.active,ut,Se,pt);return}I.set(x,{routeId:B,path:ft}),await $r(x,B,ft,xt,bt,ae,St.active,ut,Se,pt)}async function Ri(x,B,Q,tt,ut,Ct,Rt,bt,St,ft){Ze(),I.delete(x);function pt(ve){if(!ve.route.action&&!ve.route.lazy){let $n=fr(405,{method:ft.formMethod,pathname:Q,routeId:B});return de(x,B,$n,{flushSync:bt}),!0}return!1}if(!Rt&&pt(tt))return;let yt=z.fetchers.get(x);Un(x,N2(ft,yt),{flushSync:bt});let xt=new AbortController,ae=Ys(i.history,Q,xt.signal,ft);if(Rt){let ve=await on(ut,Q,ae.signal,x);if(ve.type==="aborted")return;if(ve.type==="error"){de(x,B,ve.error,{flushSync:bt});return}else if(ve.matches){if(ut=ve.matches,tt=To(ut,Q),pt(tt))return}else{de(x,B,fr(404,{pathname:Q}),{flushSync:bt});return}}qt.set(x,xt);let Se=ot,ie=(await Xr("action",ae,[tt],ut,Ct,x))[tt.route.id];if(ae.signal.aborted){qt.get(x)===xt&&qt.delete(x);return}if(mt.has(x)){if(Ja(ie)||Fn(ie)){Un(x,ta(void 0));return}}else{if(Ja(ie))if(qt.delete(x),Vt>Se){Un(x,ta(void 0));return}else return Bt.add(x),Un(x,mo(ft)),Vn(ae,ie,!1,{fetcherSubmission:ft,preventScrollReset:St});if(Fn(ie)){de(x,B,ie.error);return}}let Te=z.navigation.location||z.location,Sn=Ys(i.history,Te,xt.signal),zn=h||u,Oe=z.navigation.state!=="idle"?ea(zn,z.navigation.location,m):z.matches;Zt(Oe,"Didn't find any matches after fetcher action");let ze=++ot;At.set(x,ze);let Kn=mo(ft,ie.data);z.fetchers.set(x,Kn);let[xn,ue]=R_(i.history,z,Oe,ft,Te,!1,M,be,mt,I,Bt,zn,m,[tt.route.id,ie]);ue.filter(ve=>ve.key!==x).forEach(ve=>{let $n=ve.key,Ta=z.fetchers.get($n),Vr=mo(void 0,Ta?Ta.data:void 0);z.fetchers.set($n,Vr),Mn($n),ve.controller&&qt.set($n,ve.controller)}),Gt({fetchers:new Map(z.fetchers)});let Dr=()=>ue.forEach(ve=>Mn(ve.key));xt.signal.addEventListener("abort",Dr);let{loaderResults:pr,fetcherResults:jt}=await Ci(Oe,xn,ue,Sn,Ct);if(xt.signal.aborted)return;xt.signal.removeEventListener("abort",Dr),At.delete(x),qt.delete(x),ue.forEach(ve=>qt.delete(ve.key));let ce=cc(pr);if(ce)return Vn(Sn,ce.result,!1,{preventScrollReset:St});if(ce=cc(jt),ce)return Bt.add(ce.key),Vn(Sn,ce.result,!1,{preventScrollReset:St});let{loaderData:tn,errors:Wr}=N_(z,Oe,pr,void 0,ue,jt);if(z.fetchers.has(x)){let ve=ta(ie.data);z.fetchers.set(x,ve)}mr(ze),z.navigation.state==="loading"&&ze>Vt?(Zt(dt,"Expected pending action"),w&&w.abort(),Kt(z.navigation.location,{matches:Oe,loaderData:tn,errors:Wr,fetchers:new Map(z.fetchers)})):(Gt({errors:Wr,loaderData:I_(z.loaderData,tn,Oe,Wr),fetchers:new Map(z.fetchers)}),M=!1)}async function $r(x,B,Q,tt,ut,Ct,Rt,bt,St,ft){let pt=z.fetchers.get(x);Un(x,mo(ft,pt?pt.data:void 0),{flushSync:bt});let yt=new AbortController,xt=Ys(i.history,Q,yt.signal);if(Rt){let ie=await on(ut,Q,xt.signal,x);if(ie.type==="aborted")return;if(ie.type==="error"){de(x,B,ie.error,{flushSync:bt});return}else if(ie.matches)ut=ie.matches,tt=To(ut,Q);else{de(x,B,fr(404,{pathname:Q}),{flushSync:bt});return}}qt.set(x,yt);let ae=ot,pe=(await Xr("loader",xt,[tt],ut,Ct,x))[tt.route.id];if(qt.get(x)===yt&&qt.delete(x),!xt.signal.aborted){if(mt.has(x)){Un(x,ta(void 0));return}if(Ja(pe))if(Vt>ae){Un(x,ta(void 0));return}else{Bt.add(x),await Vn(xt,pe,!1,{preventScrollReset:St});return}if(Fn(pe)){de(x,B,pe.error);return}Un(x,ta(pe.data))}}async function Vn(x,B,Q,{submission:tt,fetcherSubmission:ut,preventScrollReset:Ct,replace:Rt}={}){B.response.headers.has("X-Remix-Revalidate")&&(M=!0);let bt=B.response.headers.get("Location");Zt(bt,"Expected a Location header on the redirect Response"),bt=M_(bt,new URL(x.url),m);let St=Uo(z.location,bt,{_isRedirect:!0});if(r){let Se=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(zm.test(bt)){const pe=i.history.createURL(bt);Se=pe.origin!==t.location.origin||hr(pe.pathname,m)==null}if(Se){Rt?t.location.replace(bt):t.location.assign(bt);return}}w=null;let ft=Rt===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:pt,formAction:yt,formEncType:xt}=z.navigation;!tt&&!ut&&pt&&yt&&xt&&(tt=P_(z.navigation));let ae=tt||ut;if(d2.has(B.response.status)&&ae&&Tr(ae.formMethod))await Pe(ft,St,{submission:{...ae,formAction:bt},preventScrollReset:Ct||N,enableViewTransition:Q?S:void 0});else{let Se=_d(St,tt);await Pe(ft,St,{overrideNavigation:Se,fetcherSubmission:ut,preventScrollReset:Ct||N,enableViewTransition:Q?S:void 0})}}async function Xr(x,B,Q,tt,ut,Ct){let Rt,bt={};try{Rt=await b2(g,x,B,Q,tt,Ct,l,s,ut,y.unstable_middleware)}catch(St){return Q.forEach(ft=>{bt[ft.route.id]={type:"error",error:St}}),bt}for(let[St,ft]of Object.entries(Rt))if(V2(ft)){let pt=ft.result;bt[St]={type:"redirect",response:R2(pt,B,St,tt,m)}}else bt[St]=await w2(ft);return bt}async function Ci(x,B,Q,tt,ut){let Ct=Xr("loader",tt,B,x,ut,null),Rt=Promise.all(Q.map(async ft=>{if(ft.matches&&ft.match&&ft.controller){let yt=(await Xr("loader",Ys(i.history,ft.path,ft.controller.signal),[ft.match],ft.matches,ut,ft.key))[ft.match.route.id];return{[ft.key]:yt}}else return Promise.resolve({[ft.key]:{type:"error",error:fr(404,{pathname:ft.path})}})})),bt=await Ct,St=(await Rt).reduce((ft,pt)=>Object.assign(ft,pt),{});return{loaderResults:bt,fetcherResults:St}}function Ze(){M=!0,I.forEach((x,B)=>{qt.has(B)&&be.add(B),Mn(B)})}function Un(x,B,Q={}){z.fetchers.set(x,B),Gt({fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function de(x,B,Q,tt={}){let ut=Za(z.matches,B);Pn(x),Gt({errors:{[ut.route.id]:Q},fetchers:new Map(z.fetchers)},{flushSync:(tt&&tt.flushSync)===!0})}function Ie(x){return at.set(x,(at.get(x)||0)+1),mt.has(x)&&mt.delete(x),z.fetchers.get(x)||m2}function Pn(x){let B=z.fetchers.get(x);qt.has(x)&&!(B&&B.state==="loading"&&At.has(x))&&Mn(x),I.delete(x),At.delete(x),Bt.delete(x),mt.delete(x),be.delete(x),z.fetchers.delete(x)}function ls(x){let B=(at.get(x)||0)-1;B<=0?(at.delete(x),mt.add(x)):at.set(x,B),Gt({fetchers:new Map(z.fetchers)})}function Mn(x){let B=qt.get(x);B&&(B.abort(),qt.delete(x))}function os(x){for(let B of x){let Q=Ie(B),tt=ta(Q.data);z.fetchers.set(B,tt)}}function Rr(){let x=[],B=!1;for(let Q of Bt){let tt=z.fetchers.get(Q);Zt(tt,`Expected fetcher: ${Q}`),tt.state==="loading"&&(Bt.delete(Q),x.push(Q),B=!0)}return os(x),B}function mr(x){let B=[];for(let[Q,tt]of At)if(tt<x){let ut=z.fetchers.get(Q);Zt(ut,`Expected fetcher: ${Q}`),ut.state==="loading"&&(Mn(Q),At.delete(Q),B.push(Q))}return os(B),B.length>0}function We(x,B){let Q=z.blockers.get(x)||ho;return ct.get(x)!==B&&ct.set(x,B),Q}function Di(x){z.blockers.delete(x),ct.delete(x)}function bn(x,B){let Q=z.blockers.get(x)||ho;Zt(Q.state==="unblocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="proceeding"||Q.state==="blocked"&&B.state==="unblocked"||Q.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${B.state}`);let tt=new Map(z.blockers);tt.set(x,B),Gt({blockers:tt})}function Je({currentLocation:x,nextLocation:B,historyAction:Q}){if(ct.size===0)return;ct.size>1&&gn(!1,"A router only supports one blocker at a time");let tt=Array.from(ct.entries()),[ut,Ct]=tt[tt.length-1],Rt=z.blockers.get(ut);if(!(Rt&&Rt.state==="proceeding")&&Ct({currentLocation:x,nextLocation:B,historyAction:Q}))return ut}function Zr(x){let B=fr(404,{pathname:x}),Q=h||u,{matches:tt,route:ut}=L_(Q);return{notFoundMatches:tt,route:ut,error:B}}function us(x,B,Q){if(R=x,O=B,C=Q||null,!Y&&z.navigation===vd){Y=!0;let tt=gr(z.location,z.matches);tt!=null&&Gt({restoreScrollPosition:tt})}return()=>{R=null,O=null,C=null}}function Ea(x,B){return C&&C(x,B.map(tt=>GR(tt,z.loaderData)))||x.key}function Yn(x,B){if(R&&O){let Q=Ea(x,B);R[Q]=O()}}function gr(x,B){if(R){let Q=Ea(x,B),tt=R[Q];if(typeof tt=="number")return tt}return null}function yn(x,B,Q){if(i.patchRoutesOnNavigation)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:vc(B,Q,m,!0)}}else return{active:!0,matches:vc(B,Q,m,!0)||[]};return{active:!1,matches:null}}async function on(x,B,Q,tt){if(!i.patchRoutesOnNavigation)return{type:"success",matches:x};let ut=x;for(;;){let Ct=h==null,Rt=h||u,bt=l;try{await i.patchRoutesOnNavigation({signal:Q,path:B,matches:ut,fetcherKey:tt,patch:(pt,yt)=>{Q.aborted||D_(pt,yt,Rt,bt,s)}})}catch(pt){return{type:"error",error:pt,partialMatches:ut}}finally{Ct&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let St=ea(Rt,B,m);if(St)return{type:"success",matches:St};let ft=vc(Rt,B,m,!0);if(!ft||ut.length===ft.length&&ut.every((pt,yt)=>pt.route.id===ft[yt].route.id))return{type:"success",matches:null};ut=ft}}function Cr(x){l={},h=Uc(x,s,void 0,l)}function Vi(x,B){let Q=h==null;D_(x,B,h||u,l,s),Q&&(u=[...u],Gt({}))}return Tt={get basename(){return m},get future(){return y},get state(){return z},get routes(){return u},get window(){return t},initialize:zt,subscribe:Wt,enableScrollRestoration:us,navigate:Xe,fetch:wi,revalidate:dr,createHref:x=>i.history.createHref(x),encodeLocation:x=>i.history.encodeLocation(x),getFetcher:Ie,deleteFetcher:ls,dispose:De,getBlocker:We,deleteBlocker:Di,patchRoutes:Vi,_internalFetchControllers:qt,_internalSetRoutes:Cr},Tt}function y2(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Gd(i,t,r,s,l,u){let h,m;if(l){h=[];for(let y of t)if(h.push(y),y.route.id===l){m=y;break}}else h=t,m=t[t.length-1];let g=Pm(s||".",Um(h),hr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(g.search=i.search,g.hash=i.hash),(s==null||s===""||s===".")&&m){let y=km(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),b=E.getAll("index");E.delete("index"),b.filter(C=>C).forEach(C=>E.append("index",C));let R=E.toString();g.search=R?`?${R}`:""}}return r!=="/"&&(g.pathname=g.pathname==="/"?r:Gr([r,g.pathname])),ma(g)}function S_(i,t,r){if(!r||!y2(r))return{path:t};if(r.formMethod&&!M2(r.formMethod))return{path:t,error:fr(405,{method:r.formMethod})};let s=()=>({path:t,error:fr(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),h=zE(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Tr(u))return s();let b=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,[C,O])=>`${R}${C}=${O}
`,""):String(r.body);return{path:t,submission:{formMethod:u,formAction:h,formEncType:r.formEncType,formData:void 0,json:void 0,text:b}}}else if(r.formEncType==="application/json"){if(!Tr(u))return s();try{let b=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:h,formEncType:r.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}Zt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(r.formData)m=Yd(r.formData),g=r.formData;else if(r.body instanceof FormData)m=Yd(r.body),g=r.body;else if(r.body instanceof URLSearchParams)m=r.body,g=x_(m);else if(r.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(r.body),g=x_(m)}catch{return s()}let y={formMethod:u,formAction:h,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Tr(y.formMethod))return{path:t,submission:y};let E=va(t);return i&&E.search&&km(E.search)&&m.append("index",""),E.search=`?${m}`,{path:ma(E),submission:y}}function w_(i,t,r=!1){let s=i.findIndex(l=>l.route.id===t);return s>=0?i.slice(0,r?s+1:s):i}function R_(i,t,r,s,l,u,h,m,g,y,E,b,R,C){let O=C?Fn(C[1])?C[1].error:C[1].data:void 0,Y=i.createURL(t.location),k=i.createURL(l),X=r;u&&t.errors?X=w_(r,Object.keys(t.errors)[0],!0):C&&Fn(C[1])&&(X=w_(r,C[0]));let J=C?C[1].statusCode:void 0,st=J&&J>=400,Tt=X.filter((dt,N)=>{let{route:w}=dt;if(w.lazy)return!0;if(w.loader==null)return!1;if(u)return Qd(w,t.loaderData,t.errors);if(v2(t.loaderData,t.matches[N],dt))return!0;let S=t.matches[N],V=dt;return C_(dt,{currentUrl:Y,currentParams:S.params,nextUrl:k,nextParams:V.params,...s,actionResult:O,actionStatus:J,defaultShouldRevalidate:st?!1:h||Y.pathname+Y.search===k.pathname+k.search||Y.search!==k.search||_2(S,V)})}),z=[];return y.forEach((dt,N)=>{if(u||!r.some(j=>j.route.id===dt.routeId)||g.has(N))return;let w=ea(b,dt.path,R);if(!w){z.push({key:N,routeId:dt.routeId,path:dt.path,matches:null,match:null,controller:null});return}let S=t.fetchers.get(N),V=To(w,dt.path),L=!1;E.has(N)?L=!1:m.has(N)?(m.delete(N),L=!0):S&&S.state!=="idle"&&S.data===void 0?L=h:L=C_(V,{currentUrl:Y,currentParams:t.matches[t.matches.length-1].params,nextUrl:k,nextParams:r[r.length-1].params,...s,actionResult:O,actionStatus:J,defaultShouldRevalidate:st?!1:h}),L&&z.push({key:N,routeId:dt.routeId,path:dt.path,matches:w,match:V,controller:new AbortController})}),[Tt,z]}function Qd(i,t,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=t!=null&&t[i.id]!==void 0,l=r!=null&&r[i.id]!==void 0;return!s&&l?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!l}function v2(i,t,r){let s=!t||r.route.id!==t.route.id,l=!i.hasOwnProperty(r.route.id);return s||l}function _2(i,t){let r=i.route.path;return i.pathname!==t.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==t.params["*"]}function C_(i,t){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function D_(i,t,r,s,l){let u;if(i){let g=s[i];Zt(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=r;let h=t.filter(g=>!u.some(y=>UE(g,y))),m=Uc(h,l,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...m)}function UE(i,t){return"id"in i&&"id"in t&&i.id===t.id?!0:i.index===t.index&&i.path===t.path&&i.caseSensitive===t.caseSensitive?(!i.children||i.children.length===0)&&(!t.children||t.children.length===0)?!0:i.children.every((r,s)=>{var l;return(l=t.children)==null?void 0:l.some(u=>UE(r,u))}):!1}async function E2(i,t,r){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let l=r[i.id];Zt(l,"No route found in manifest");let u={};for(let h in s){let g=l[h]!==void 0&&h!=="hasErrorBoundary";gn(!g,`Route "${l.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!g&&!HR.has(h)&&(u[h]=s[h])}Object.assign(l,u),Object.assign(l,{...t(l),lazy:void 0})}async function V_(i){let t=i.matches.filter(l=>l.shouldLoad),r={};return(await Promise.all(t.map(l=>l.resolve()))).forEach((l,u)=>{r[t[u].route.id]=l}),r}async function T2(i){return i.matches.some(t=>t.route.unstable_middleware)?A2(i,!1,()=>V_(i),(t,r)=>({[r]:{type:"error",result:t}})):V_(i)}async function A2(i,t,r,s){let{matches:l,request:u,params:h,context:m}=i,g={handlerResult:void 0};try{let y=l.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(R=>[b.route.id,R]):[]),E=await PE({request:u,params:h,context:m},y,t,g,r);return t?E:g.handlerResult}catch(y){if(!g.middlewareError)throw y;let E=await s(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function PE(i,t,r,s,l,u=0){let{request:h}=i;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=t[u];if(!m)return s.handlerResult=await l(),s.handlerResult;let[g,y]=m,E=!1,b,R=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await PE(i,t,r,s,l,u+1)};try{let C=await y({request:i.request,params:i.params,context:i.context},R);return E?C===void 0?b:C:R()}catch(C){throw s.middlewareError?s.middlewareError.error!==C&&(s.middlewareError={routeId:g,error:C}):s.middlewareError={routeId:g,error:C},C}}async function b2(i,t,r,s,l,u,h,m,g,y){let E=l.map(C=>C.route.lazy?E2(C.route,m,h):void 0);y&&await Promise.all(E);let b=l.map((C,O)=>{let Y=E[O],k=s.some(J=>J.route.id===C.route.id);return{...C,shouldLoad:k,resolve:async J=>(J&&r.method==="GET"&&(C.route.lazy||C.route.loader)&&(k=!0),k?S2(t,r,C,Y,J,g):Promise.resolve({type:"data",result:void 0}))}}),R=await i({matches:b,request:r,params:l[0].params,fetcherKey:u,context:g});try{await Promise.all(E)}catch{}return R}async function S2(i,t,r,s,l,u){let h,m,g=y=>{let E,b=new Promise((O,Y)=>E=Y);m=()=>E(),t.signal.addEventListener("abort",m);let R=O=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${r.route.id}]`)):y({request:t,params:r.params,context:u},...O!==void 0?[O]:[]),C=(async()=>{try{return{type:"data",result:await(l?l(Y=>R(Y)):R())}}catch(O){return{type:"error",result:O}}})();return Promise.race([C,b])};try{let y=r.route[i];if(s)if(y){let E,[b]=await Promise.all([g(y).catch(R=>{E=R}),s]);if(E!==void 0)throw E;h=b}else if(await s,y=r.route[i],y)h=await g(y);else if(i==="action"){let E=new URL(t.url),b=E.pathname+E.search;throw fr(405,{method:t.method,pathname:b,routeId:r.route.id})}else return{type:"data",result:void 0};else if(y)h=await g(y);else{let E=new URL(t.url),b=E.pathname+E.search;throw fr(404,{pathname:b})}}catch(y){return{type:"error",result:y}}finally{m&&t.signal.removeEventListener("abort",m)}return h}async function w2(i){var s,l,u,h,m,g;let{result:t,type:r}=i;if(kE(t)){let y;try{let E=t.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?t.body==null?y=null:y=await t.json():y=await t.text()}catch(E){return{type:"error",error:E}}return r==="error"?{type:"error",error:new zc(t.status,t.statusText,y),statusCode:t.status,headers:t.headers}:{type:"data",data:y,statusCode:t.status,headers:t.headers}}return r==="error"?U_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new zc(((u=t.init)==null?void 0:u.status)||500,void 0,t.data),statusCode:Po(t)?t.status:void 0,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Po(t)?t.status:void 0}:U_(t)?{type:"data",data:t.data,statusCode:(m=t.init)==null?void 0:m.status,headers:(g=t.init)!=null&&g.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function R2(i,t,r,s,l){let u=i.headers.get("Location");if(Zt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!zm.test(u)){let h=s.slice(0,s.findIndex(m=>m.route.id===r)+1);u=Gd(new URL(t.url),h,l,u),i.headers.set("Location",u)}return i}function M_(i,t,r){if(zm.test(i)){let s=i,l=s.startsWith("//")?new URL(t.protocol+s):new URL(s),u=hr(l.pathname,r)!=null;if(l.origin===t.origin&&u)return l.pathname+l.search+l.hash}return i}function Ys(i,t,r,s){let l=i.createURL(zE(t)).toString(),u={signal:r};if(s&&Tr(s.formMethod)){let{formMethod:h,formEncType:m}=s;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=Yd(s.formData):u.body=s.formData}return new Request(l,u)}function Yd(i){let t=new URLSearchParams;for(let[r,s]of i.entries())t.append(r,typeof s=="string"?s:s.name);return t}function x_(i){let t=new FormData;for(let[r,s]of i.entries())t.append(r,s);return t}function C2(i,t,r,s=!1,l=!1){let u={},h=null,m,g=!1,y={},E=r&&Fn(r[1])?r[1].error:void 0;return i.forEach(b=>{if(!(b.route.id in t))return;let R=b.route.id,C=t[R];if(Zt(!Ja(C),"Cannot handle redirect results in processLoaderData"),Fn(C)){let O=C.error;if(E!==void 0&&(O=E,E=void 0),h=h||{},l)h[R]=O;else{let Y=Za(i,R);h[Y.route.id]==null&&(h[Y.route.id]=O)}s||(u[R]=LE),g||(g=!0,m=Po(C.error)?C.error.status:500),C.headers&&(y[R]=C.headers)}else u[R]=C.data,C.statusCode&&C.statusCode!==200&&!g&&(m=C.statusCode),C.headers&&(y[R]=C.headers)}),E!==void 0&&r&&(h={[r[0]]:E},u[r[0]]=void 0),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:y}}function N_(i,t,r,s,l,u){let{loaderData:h,errors:m}=C2(t,r,s);return l.forEach(g=>{let{key:y,match:E,controller:b}=g,R=u[y];if(Zt(R,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Fn(R)){let C=Za(i.matches,E==null?void 0:E.route.id);m&&m[C.route.id]||(m={...m,[C.route.id]:R.error}),i.fetchers.delete(y)}else if(Ja(R))Zt(!1,"Unhandled fetcher revalidation redirect");else{let C=ta(R.data);i.fetchers.set(y,C)}}),{loaderData:h,errors:m}}function I_(i,t,r,s){let l=Object.entries(t).filter(([,u])=>u!==LE).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of r){let h=u.route.id;if(!t.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(l[h]=i[h]),s&&s.hasOwnProperty(h))break}return l}function O_(i){return i?Fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Za(i,t){return(t?i.slice(0,i.findIndex(s=>s.route.id===t)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function L_(i){let t=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function fr(i,{pathname:t,routeId:r,method:s,type:l,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&t&&r?m=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:l==="invalid-body"&&(m="Unable to encode submission body")):i===403?(h="Forbidden",m=`Route "${r}" does not match URL "${t}"`):i===404?(h="Not Found",m=`No route matches URL "${t}"`):i===405&&(h="Method Not Allowed",s&&t&&r?m=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new zc(i||500,h,new Error(m),!0)}function cc(i){let t=Object.entries(i);for(let r=t.length-1;r>=0;r--){let[s,l]=t[r];if(Ja(l))return{key:s,result:l}}}function zE(i){let t=typeof i=="string"?va(i):i;return ma({...t,hash:""})}function D2(i,t){return i.pathname!==t.pathname||i.search!==t.search?!1:i.hash===""?t.hash!=="":i.hash===t.hash?!0:t.hash!==""}function V2(i){return kE(i.result)&&h2.has(i.result.status)}function Fn(i){return i.type==="error"}function Ja(i){return(i&&i.type)==="redirect"}function U_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function kE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function M2(i){return f2.has(i.toUpperCase())}function Tr(i){return u2.has(i.toUpperCase())}function km(i){return new URLSearchParams(i).getAll("index").some(t=>t==="")}function To(i,t){let r=typeof t=="string"?va(t).search:t.search;if(i[i.length-1].route.index&&km(r||""))return i[i.length-1];let s=NE(i);return s[s.length-1]}function P_(i){let{formMethod:t,formAction:r,formEncType:s,text:l,formData:u,json:h}=i;if(!(!t||!r||!s)){if(l!=null)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:t,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:h,text:void 0}}}function _d(i,t){return t?{state:"loading",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function x2(i,t){return{state:"submitting",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function mo(i,t){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function N2(i,t){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t?t.data:void 0}}function ta(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function I2(i,t){try{let r=i.sessionStorage.getItem(OE);if(r){let s=JSON.parse(r);for(let[l,u]of Object.entries(s||{}))u&&Array.isArray(u)&&t.set(l,new Set(u||[]))}}catch{}}function O2(i,t){if(t.size>0){let r={};for(let[s,l]of t)r[s]=[...l];try{i.sessionStorage.setItem(OE,JSON.stringify(r))}catch(s){gn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function L2(){let i,t,r=new Promise((s,l)=>{i=async u=>{s(u);try{await r}catch{}},t=async u=>{l(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:t}}var as=K.createContext(null);as.displayName="DataRouter";var Ho=K.createContext(null);Ho.displayName="DataRouterState";var Bm=K.createContext({isTransitioning:!1});Bm.displayName="ViewTransition";var BE=K.createContext(new Map);BE.displayName="Fetchers";var U2=K.createContext(null);U2.displayName="Await";var Kr=K.createContext(null);Kr.displayName="Navigation";var rf=K.createContext(null);rf.displayName="Location";var Si=K.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var jm=K.createContext(null);jm.displayName="RouteError";function P2(i,{relative:t}={}){Zt(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=K.useContext(Kr),{hash:l,pathname:u,search:h}=Go(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:Gr([r,u])),s.createHref({pathname:m,search:h,hash:l})}function Fo(){return K.useContext(rf)!=null}function ss(){return Zt(Fo(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(rf).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(i){K.useContext(Kr).static||K.useLayoutEffect(i)}function z2(){let{isDataRoute:i}=K.useContext(Si);return i?Z2():k2()}function k2(){Zt(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(as),{basename:t,navigator:r}=K.useContext(Kr),{matches:s}=K.useContext(Si),{pathname:l}=ss(),u=JSON.stringify(Um(s)),h=K.useRef(!1);return qE(()=>{h.current=!0}),K.useCallback((g,y={})=>{if(gn(h.current,jE),!h.current)return;if(typeof g=="number"){r.go(g);return}let E=Pm(g,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Gr([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}K.createContext(null);function Go(i,{relative:t}={}){let{matches:r}=K.useContext(Si),{pathname:s}=ss(),l=JSON.stringify(Um(r));return K.useMemo(()=>Pm(i,JSON.parse(l),s,t==="path"),[i,l,s,t])}function B2(i,t,r,s){Zt(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=K.useContext(Kr),{matches:h}=K.useContext(Si),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let J=b&&b.path||"";HE(y,!b||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let R=ss(),C;C=R;let O=C.pathname||"/",Y=O;if(E!=="/"){let J=E.replace(/^\//,"").split("/");Y="/"+O.replace(/^\//,"").split("/").slice(J.length).join("/")}let k=!u&&r&&r.matches&&r.matches.length>0?r.matches:ea(i,{pathname:Y});return gn(b||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),gn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),G2(k&&k.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Gr([E,l.encodeLocation?l.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:Gr([E,l.encodeLocation?l.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,r,s)}function j2(){let i=X2(),t=Po(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),r?K.createElement("pre",{style:l},r):null,h)}var q2=K.createElement(j2,null),H2=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?K.createElement(Si.Provider,{value:this.props.routeContext},K.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F2({routeContext:i,match:t,children:r}){let s=K.useContext(as);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Si.Provider,{value:i},r)}function G2(i,t=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Zt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(r)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:b}=r,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||R){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let b,R=!1,C=null,O=null;r&&(b=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||q2,h&&(m<0&&E===0?(HE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,O=null):m===E&&(R=!0,O=y.route.hydrateFallbackElement||null)));let Y=t.concat(l.slice(0,E+1)),k=()=>{let X;return b?X=C:R?X=O:y.route.Component?X=K.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=g,K.createElement(F2,{match:y,routeContext:{outlet:g,matches:Y,isDataRoute:r!=null},children:X})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(H2,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:k(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):k()},null)}function qm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q2(i){let t=K.useContext(as);return Zt(t,qm(i)),t}function Y2(i){let t=K.useContext(Ho);return Zt(t,qm(i)),t}function K2(i){let t=K.useContext(Si);return Zt(t,qm(i)),t}function Hm(i){let t=K2(i),r=t.matches[t.matches.length-1];return Zt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function $2(){return Hm("useRouteId")}function X2(){var s;let i=K.useContext(jm),t=Y2("useRouteError"),r=Hm("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[r]}function Z2(){let{router:i}=Q2("useNavigate"),t=Hm("useNavigate"),r=K.useRef(!1);return qE(()=>{r.current=!0}),K.useCallback(async(l,u={})=>{gn(r.current,jE),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var z_={};function HE(i,t,r){!t&&!z_[i]&&(z_[i]=!0,gn(!1,r))}var k_={};function B_(i,t){!i&&!k_[t]&&(k_[t]=!0,console.warn(t))}function W2(i){let t={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:K.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:K.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:K.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),t}var J2=class{constructor(){this.status="pending",this.promise=new Promise((i,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",i(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function tC({router:i,flushSync:t}){let[r,s]=K.useState(i.state),[l,u]=K.useState(),[h,m]=K.useState({isTransitioning:!1}),[g,y]=K.useState(),[E,b]=K.useState(),[R,C]=K.useState(),O=K.useRef(new Map),Y=K.useCallback((st,{deletedFetchers:Tt,flushSync:z,viewTransitionOpts:dt})=>{st.fetchers.forEach((w,S)=>{w.data!==void 0&&O.current.set(S,w.data)}),Tt.forEach(w=>O.current.delete(w)),B_(z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(B_(dt==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!dt||!N){t&&z?t(()=>s(st)):K.startTransition(()=>s(st));return}if(t&&z){t(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:dt.currentLocation,nextLocation:dt.nextLocation})});let w=i.window.document.startViewTransition(()=>{t(()=>s(st))});w.finished.finally(()=>{t(()=>{y(void 0),b(void 0),u(void 0),m({isTransitioning:!1})})}),t(()=>b(w));return}E?(g&&g.resolve(),E.skipTransition(),C({state:st,currentLocation:dt.currentLocation,nextLocation:dt.nextLocation})):(u(st),m({isTransitioning:!0,flushSync:!1,currentLocation:dt.currentLocation,nextLocation:dt.nextLocation}))},[i.window,t,E,g]);K.useLayoutEffect(()=>i.subscribe(Y),[i,Y]),K.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new J2)},[h]),K.useEffect(()=>{if(g&&l&&i.window){let st=l,Tt=g.promise,z=i.window.document.startViewTransition(async()=>{K.startTransition(()=>s(st)),await Tt});z.finished.finally(()=>{y(void 0),b(void 0),u(void 0),m({isTransitioning:!1})}),b(z)}},[l,g,i.window]),K.useEffect(()=>{g&&l&&r.location.key===l.location.key&&g.resolve()},[g,E,r.location,l]),K.useEffect(()=>{!h.isTransitioning&&R&&(u(R.state),m({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),C(void 0))},[h.isTransitioning,R]);let k=K.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:st=>i.navigate(st),push:(st,Tt,z)=>i.navigate(st,{state:Tt,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(st,Tt,z)=>i.navigate(st,{replace:!0,state:Tt,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[i]),X=i.basename||"/",J=K.useMemo(()=>({router:i,navigator:k,static:!1,basename:X}),[i,k,X]);return K.createElement(K.Fragment,null,K.createElement(as.Provider,{value:J},K.createElement(Ho.Provider,{value:r},K.createElement(BE.Provider,{value:O.current},K.createElement(Bm.Provider,{value:h},K.createElement(rC,{basename:X,location:r.location,navigationType:r.historyAction,navigator:k},K.createElement(eC,{routes:i.routes,future:i.future,state:r})))))),null)}var eC=K.memo(nC);function nC({routes:i,future:t,state:r}){return B2(i,void 0,r,t)}function rC({basename:i="/",children:t=null,location:r,navigationType:s="POP",navigator:l,static:u=!1}){Zt(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof r=="string"&&(r=va(r));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:R="default"}=r,C=K.useMemo(()=>{let O=hr(g,h);return O==null?null:{location:{pathname:O,search:y,hash:E,state:b,key:R},navigationType:s}},[h,g,y,E,b,R,s]);return gn(C!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:K.createElement(Kr.Provider,{value:m},K.createElement(rf.Provider,{children:t,value:C}))}var _c="get",Ec="application/x-www-form-urlencoded";function af(i){return i!=null&&typeof i.tagName=="string"}function iC(i){return af(i)&&i.tagName.toLowerCase()==="button"}function aC(i){return af(i)&&i.tagName.toLowerCase()==="form"}function sC(i){return af(i)&&i.tagName.toLowerCase()==="input"}function lC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function oC(i,t){return i.button===0&&(!t||t==="_self")&&!lC(i)}var fc=null;function uC(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var cC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(i){return i!=null&&!cC.has(i)?(gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):i}function fC(i,t){let r,s,l,u,h;if(aC(i)){let m=i.getAttribute("action");s=m?hr(m,t):null,r=i.getAttribute("method")||_c,l=Ed(i.getAttribute("enctype"))||Ec,u=new FormData(i)}else if(iC(i)||sC(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?hr(g,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||_c,l=Ed(i.getAttribute("formenctype"))||Ed(m.getAttribute("enctype"))||Ec,u=new FormData(m,i),!uC()){let{name:y,type:E,value:b}=i;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,b)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_c,s=null,l=Ec,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:u,body:h}}function Fm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function hC(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mC(i,t,r){let s=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await hC(u,r);return h.links?h.links():[]}return[]}));return vC(s.flat(1).filter(dC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function j_(i,t,r,s,l,u){let h=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>{var E;return r[y].pathname!==g.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var b;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=r[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function gC(i,t,{includeHydrateFallback:r}={}){return pC(i.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function pC(i){return[...new Set(i)]}function yC(i){let t={},r=Object.keys(i).sort();for(let s of r)t[s]=i[s];return t}function vC(i,t){let r=new Set;return new Set(t),i.reduce((s,l)=>{let u=JSON.stringify(yC(l));return r.has(u)||(r.add(u),s.push({key:u,link:l})),s},[])}function _C(i,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":t&&hr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function FE(){let i=K.useContext(as);return Fm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function EC(){let i=K.useContext(Ho);return Fm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gm=K.createContext(void 0);Gm.displayName="FrameworkContext";function GE(){let i=K.useContext(Gm);return Fm(i,"You must render this element inside a <HydratedRouter> element"),i}function TC(i,t){let r=K.useContext(Gm),[s,l]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,R=K.useRef(null);K.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Y=X=>{X.forEach(J=>{h(J.isIntersecting)})},k=new IntersectionObserver(Y,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[i]),K.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let C=()=>{l(!0)},O=()=>{l(!1),h(!1)};return r?i!=="intent"?[u,R,{}]:[u,R,{onFocus:go(m,C),onBlur:go(g,O),onMouseEnter:go(y,C),onMouseLeave:go(E,O),onTouchStart:go(b,C)}]:[!1,R,{}]}function go(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function AC({page:i,...t}){let{router:r}=FE(),s=K.useMemo(()=>ea(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?K.createElement(SC,{page:i,matches:s,...t}):null}function bC(i){let{manifest:t,routeModules:r}=GE(),[s,l]=K.useState([]);return K.useEffect(()=>{let u=!1;return mC(i,t,r).then(h=>{u||l(h)}),()=>{u=!0}},[i,t,r]),s}function SC({page:i,matches:t,...r}){let s=ss(),{manifest:l,routeModules:u}=GE(),{basename:h}=FE(),{loaderData:m,matches:g}=EC(),y=K.useMemo(()=>j_(i,t,g,l,s,"data"),[i,t,g,l,s]),E=K.useMemo(()=>j_(i,t,g,l,s,"assets"),[i,t,g,l,s]),b=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,Y=!1;if(t.forEach(X=>{var st;let J=l.routes[X.route.id];!J||!J.hasLoader||(!y.some(Tt=>Tt.route.id===X.route.id)&&X.route.id in m&&((st=u[X.route.id])!=null&&st.shouldRevalidate)||J.hasClientLoader?Y=!0:O.add(X.route.id))}),O.size===0)return[];let k=_C(i,h);return Y&&O.size>0&&k.searchParams.set("_routes",t.filter(X=>O.has(X.route.id)).map(X=>X.route.id).join(",")),[k.pathname+k.search]},[h,m,s,l,y,t,i,u]),R=K.useMemo(()=>gC(E,l),[E,l]),C=bC(E);return K.createElement(K.Fragment,null,b.map(O=>K.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),R.map(O=>K.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),C.map(({key:O,link:Y})=>K.createElement("link",{key:O,...Y})))}function wC(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QE&&(window.__reactRouterVersion="7.4.0")}catch{}function RC(i,t){return p2({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:BR({window:t==null?void 0:t.window}),hydrationData:CC(),routes:i,mapRouteProperties:W2,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function CC(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:DC(i.errors)}),i}function DC(i){if(!i)return null;let t=Object.entries(i),r={};for(let[s,l]of t)if(l&&l.__type==="RouteErrorResponse")r[s]=new zc(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let h=new u(l.message);h.stack="",r[s]=h}catch{}}if(r[s]==null){let u=new Error(l.message);u.stack="",r[s]=u}}else r[s]=l;return r}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KE=K.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:l,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:E,viewTransition:b,...R},C){let{basename:O}=K.useContext(Kr),Y=typeof y=="string"&&YE.test(y),k,X=!1;if(typeof y=="string"&&Y&&(k=y,QE))try{let S=new URL(window.location.href),V=y.startsWith("//")?new URL(S.protocol+y):new URL(y),L=hr(V.pathname,O);V.origin===S.origin&&L!=null?y=L+V.search+V.hash:X=!0}catch{gn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=P2(y,{relative:l}),[st,Tt,z]=TC(s,R),dt=NC(y,{replace:h,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:b});function N(S){t&&t(S),S.defaultPrevented||dt(S)}let w=K.createElement("a",{...R,...z,href:k||J,onClick:X||u?t:N,ref:wC(C,Tt),target:g,"data-discover":!Y&&r==="render"?"true":void 0});return st&&!Y?K.createElement(K.Fragment,null,w,K.createElement(AC,{page:J})):w});KE.displayName="Link";var VC=K.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:h,viewTransition:m,children:g,...y},E){let b=Go(h,{relative:y.relative}),R=ss(),C=K.useContext(Ho),{navigator:O,basename:Y}=K.useContext(Kr),k=C!=null&&PC(b)&&m===!0,X=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,J=R.pathname,st=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(J=J.toLowerCase(),st=st?st.toLowerCase():null,X=X.toLowerCase()),st&&Y&&(st=hr(st,Y)||st);const Tt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let z=J===X||!l&&J.startsWith(X)&&J.charAt(Tt)==="/",dt=st!=null&&(st===X||!l&&st.startsWith(X)&&st.charAt(X.length)==="/"),N={isActive:z,isPending:dt,isTransitioning:k},w=z?t:void 0,S;typeof s=="function"?S=s(N):S=[s,z?"active":null,dt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return K.createElement(KE,{...y,"aria-current":w,className:S,ref:E,style:V,to:h,viewTransition:m},typeof g=="function"?g(N):g)});VC.displayName="NavLink";var MC=K.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:l,state:u,method:h=_c,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...R},C)=>{let O=LC(),Y=UC(m,{relative:y}),k=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&YE.test(m),J=st=>{if(g&&g(st),st.defaultPrevented)return;st.preventDefault();let Tt=st.nativeEvent.submitter,z=(Tt==null?void 0:Tt.getAttribute("formmethod"))||h;O(Tt||st.currentTarget,{fetcherKey:t,method:z,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return K.createElement("form",{ref:C,method:k,action:Y,onSubmit:s?g:J,...R,"data-discover":!X&&i==="render"?"true":void 0})});MC.displayName="Form";function xC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(i){let t=K.useContext(as);return Zt(t,xC(i)),t}function NC(i,{target:t,replace:r,state:s,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=z2(),g=ss(),y=Go(i,{relative:u});return K.useCallback(E=>{if(oC(E,t)){E.preventDefault();let b=r!==void 0?r:ma(g)===ma(y);m(i,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:h})}},[g,m,y,r,s,t,i,l,u,h])}var IC=0,OC=()=>`__${String(++IC)}__`;function LC(){let{router:i}=$E("useSubmit"),{basename:t}=K.useContext(Kr),r=$2();return K.useCallback(async(s,l={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=fC(s,t);if(l.navigate===!1){let E=l.fetcherKey||OC();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function UC(i,{relative:t}={}){let{basename:r}=K.useContext(Kr),s=K.useContext(Si);Zt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Go(i||".",{relative:t})},h=ss();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Gr([r,u.pathname])),ma(u)}function PC(i,t={}){let r=K.useContext(Bm);Zt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$E("useViewTransitionState"),l=Go(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=hr(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=hr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Pc(l.pathname,h)!=null||Pc(l.pathname,u)!=null}new TextEncoder;var zC=q_();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kC(i){return K.createElement(tC,{flushSync:zC.flushSync,...i})}const XE=K.createContext(),BC=({children:i})=>{const[t,r]=K.useState(null),[s,l]=K.useState(null),u=async(m,g=!0)=>new Promise(y=>{r({content:m,dismissable:g}),l(()=>y)}),h=m=>{t!=null&&t.dismissable&&s&&(s(m),r(null),l(null))};return Et.jsxs(XE.Provider,{value:{showModal:u,hideModal:h},children:[i,t&&Et.jsx(jC,{content:t.content,onClose:h,dismissable:t.dismissable})]})},jC=({content:i,onClose:t,dismissable:r})=>Et.jsx(Et.Fragment,{children:Et.jsxs("div",{className:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[Et.jsx("div",{className:"fixed inset-0 bg-gray-500/75 transition-opacity","aria-hidden":"true"}),Et.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:Et.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:Et.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full",children:[Et.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:i}),Et.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex gap-4",children:[r&&Et.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),Et.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-500 text-white rounded",children:"OK"})]})]})})})]})}),qC=()=>K.useContext(XE);function HC(){const{queue:i,addToQueue:t,popTeam:r,listen:s,removePerson:l}=Lm(),{showModal:u}=qC(),[h,m]=K.useState(null);if(K.useEffect(()=>{const E=s();return()=>E()},[]),h!="lavnish")return Et.jsxs("div",{className:"flex flex-col justify-center items-center p-4 h-dvh",children:[Et.jsx("label",{className:"mb-2",children:"Who's the GOAT?"}),Et.jsx("input",{type:"text",placeholder:"Password",value:h,onChange:E=>m(E.target.value),className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500  placeholder-gray-400"})]});const g=async()=>{await u("Are you sure? This would remove the current top four people from the queue.",!0)==!0&&await r()},y=async E=>{await u("Are you sure? This would move REMOVE the person from the queue.")==!0&&await l(E)};return Et.jsxs("div",{className:"h-dvh flex flex-col",children:[Et.jsxs("div",{className:"p-4 flex justify-between",children:[Et.jsxs("h1",{children:["Currently in queue: ",i.length]}),Et.jsxs(Td,{onClick:g,children:["Pop",i.length>0&&Et.jsx("div",{className:"size-3 ms-3 aspect-square",style:{backgroundColor:"hsl(0 50% 80%)"}})]})]}),Et.jsx("div",{className:"grid grid-cols-3 overflow-y-auto px-4",children:i.map((E,b)=>Et.jsxs(wA.Fragment,{children:[Et.jsx("div",{className:"text-center align-middle",style:{backgroundColor:`hsl(${Math.floor(b/4)*90} 50% 80%)`},children:E.usn}),Et.jsx("div",{className:"text-center",children:E.name}),Et.jsx("div",{children:Et.jsx(Td,{onClick:async()=>{await y(E.id)},className:"mx-auto",children:Et.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:Et.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})})]},b))})]})}const FC=RC([{path:"/",element:Et.jsx(LR,{})},{path:"/admin",element:Et.jsx(HC,{})}]);xA.createRoot(document.getElementById("root")).render(Et.jsx(K.StrictMode,{children:Et.jsx(BC,{children:Et.jsx(OR,{children:Et.jsx(kC,{router:FC})})})}));
